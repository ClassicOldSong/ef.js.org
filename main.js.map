{"version":3,"file":"main.js","sources":["../node_modules/eft-parser/src/escape-parser.js","../node_modules/eft-parser/src/eft-parser.js","../node_modules/ef-core/src/lib/utils/type-of.js","../node_modules/ef-core/src/lib/utils/literals-mix.js","../node_modules/ef-core/src/lib/utils/array-helper.js","../node_modules/ef-core/src/lib/render-queue.js","../node_modules/ef-core/src/lib/utils/polyfills.js","../node_modules/ef-core/src/lib/resolver.js","../node_modules/ef-core/src/lib/subscriber-call-stack.js","../node_modules/ef-core/src/lib/utils/isnan.js","../node_modules/ef-core/src/lib/binding.js","../node_modules/ef-core/src/lib/utils/event-helper.js","../node_modules/ef-core/src/lib/element-creator.js","../node_modules/ef-core/src/lib/utils/dom-helper.js","../node_modules/ef-core/src/lib/utils/dom-arr-helper.js","../node_modules/ef-core/src/lib/creator.js","../node_modules/ef-core/src/mount-options.js","../node_modules/ef-core/src/lib/renderer.js","../node_modules/ef-core/src/ef-core.js","../node_modules/ef.js/src/ef.js","../node_modules/ef.js/src/lib/parser.js","../node_modules/page/page.js","../src/js/utils/domready.js","../node_modules/style-inject/dist/style-inject.es.js","../src/js/utils/bg-gen.js","../src/js/header.js","../src/js/footer.js","../src/js/mainbody.js","../src/js/404.js","../node_modules/prismjs/prism.js","../src/js/utils/prism-efml.js","../src/js/guide.js","../src/js/guides.js","../src/js/examples.js","../src/js/router.js","../src/js/home.js","../src/main.js"],"sourcesContent":["// Set the escape character\nconst char = '&'\nconst doubleChar = char + char\n\n// Initlize RegExp\nconst oct = new RegExp(`\\\\${char}[0-7]{1,3}`, 'g')\nconst ucp = new RegExp(`\\\\${char}u\\\\[.*?\\\\]`, 'g')\nconst uni = new RegExp(`\\\\${char}u.{0,4}`, 'g')\nconst hex = new RegExp(`\\\\${char}x.{0,2}`, 'g')\nconst esc = new RegExp(`\\\\${char}`, 'g')\nconst b = new RegExp(`\\\\${char}b`, 'g')\nconst t = new RegExp(`\\\\${char}t`, 'g')\nconst n = new RegExp(`\\\\${char}n`, 'g')\nconst v = new RegExp(`\\\\${char}v`, 'g')\nconst f = new RegExp(`\\\\${char}f`, 'g')\nconst r = new RegExp(`\\\\${char}r`, 'g')\n\n// Escape octonary sequence\nconst O2C = () => {\n\tthrow new SyntaxError('Octal escape sequences are not allowed in EFML.')\n}\n\n// Escape unicode code point sequence\nconst UC2C = (val) => {\n\tval = val.substr(3, val.length - 4)\n\tval = parseInt(val, 16)\n\tif (!val) throw new SyntaxError('Invalid Unicode escape sequence')\n\ttry {\n\t\treturn String.fromCodePoint(val)\n\t} catch (err) {\n\t\tthrow new SyntaxError('Undefined Unicode code-point')\n\t}\n}\n\n// Escape unicode sequence\nconst U2C = (val) => {\n\tval = val.substring(2)\n\tval = parseInt(val, 16)\n\tif (!val) throw new SyntaxError('Invalid Unicode escape sequence')\n\treturn String.fromCharCode(val)\n}\n\n// Escape hexadecimal sequence\nconst X2C = (val) => {\n\tval = `00${val.substring(2)}`\n\tval = parseInt(val, 16)\n\tif (!val) throw new SyntaxError('Invalid hexadecimal escape sequence')\n\treturn String.fromCharCode(val)\n}\n\nconst efEscape = (string) => {\n\t// Split strings\n\tconst splitArr = string.split(doubleChar)\n\tconst escaped = []\n\n\t// Escape all known escape characters\n\tfor (let i of splitArr) {\n\t\tconst escapedStr = i\n\t\t\t.replace(oct, O2C)\n\t\t\t.replace(ucp, UC2C)\n\t\t\t.replace(uni, U2C)\n\t\t\t.replace(hex, X2C)\n\t\t\t.replace(b, '\\b')\n\t\t\t.replace(t, '\\t')\n\t\t\t.replace(n, '\\n')\n\t\t\t.replace(v, '\\v')\n\t\t\t.replace(f, '\\f')\n\t\t\t.replace(r, '\\r')\n\t\t\t// Remove all useless escape characters\n\t\t\t.replace(esc, '')\n\t\tescaped.push(escapedStr)\n\t}\n\t// Return escaped string\n\treturn escaped.join(char)\n}\n\nconst checkEscape = string => string[string.length - 1] === char\n\nconst splitWith = (string, char) => {\n\tconst splitArr = string.split(char)\n\tconst escapedSplit = []\n\tlet escaped = false\n\tfor (let i of splitArr) {\n\t\tif (escaped) escapedSplit[escapedSplit.length - 1] += `${char}${i}`\n\t\telse escapedSplit.push(i)\n\t\tescaped = checkEscape(i)\n\t}\n\treturn escapedSplit\n}\n\nconst splitBy = (string, char) => {\n\tconst splitArr = string.split(doubleChar)\n\tconst escaped = splitWith(splitArr.shift(), char)\n\tfor (let i of splitArr) {\n\t\tconst escapedSplit = splitWith(i, char)\n\t\tescaped[escaped.length - 1] += `${doubleChar}${escapedSplit.shift()}`\n\t\tescaped.push(...escapedSplit)\n\t}\n\treturn escaped\n}\n\nexport { efEscape, splitBy }\n","import { efEscape, splitBy } from './escape-parser.js'\n\nconst typeSymbols = '>#%@.-+'\nconst reserved = [\n\t'$ctx', '$data', '$refs', '$methods', '$mount', '$umount',\n\t'$subscribe', '$unsubscribe', '$update', '$destroy', '__DIRECTMOUNT__'\n]\nconst mustache = /\\{\\{.+?\\}\\}/g\nconst spaceIndent = /^(\\t*)( *).*/\nconst hashref = /#([^}]|}[^}])*$/\n\nconst getErrorMsg = (msg, line = -2) => `Failed to parse eft template: ${msg}. at line ${line + 1}`\n\nconst isEmpty = string => !string.replace(/\\s/, '')\n\nconst checkValidType = obj => ['number', 'boolean', 'string'].indexOf(typeof obj) > -1\n\nconst ESCAPE = (string) => {\n\tif (!string) return [string, false]\n\ttry {\n\t\tconst parsed = JSON.parse(string)\n\t\tif (['number', 'boolean'].indexOf(typeof parsed) === -1) return [efEscape(string), true]\n\t\treturn [parsed, false]\n\t} catch (e) {\n\t\treturn [efEscape(string), true]\n\t}\n}\n\nconst getOffset = (string, parsingInfo) => {\n\tif (parsingInfo.offset !== null) return\n\tparsingInfo.offset = string.match(/\\s*/)[0]\n\tif (parsingInfo.offset) parsingInfo.offsetReg = parsingInfo.offset\n}\n\nconst removeOffset = (string, parsingInfo, i) => {\n\tif (parsingInfo.offsetReg) {\n\t\tlet removed = false\n\t\tstring = string.replace(parsingInfo.offsetReg, () => {\n\t\t\tremoved = true\n\t\t\treturn ''\n\t\t})\n\t\tif (!removed) throw new SyntaxError(getErrorMsg(`Expected indent to be grater than 0 and less than ${parsingInfo.prevDepth + 1}, but got -1`, i))\n\t}\n\treturn string\n}\n\nconst getIndent = (string, parsingInfo) => {\n\tif (parsingInfo.indentReg) return\n\tconst spaces = string.match(spaceIndent)[2]\n\tif (spaces) {\n\t\tparsingInfo.indentReg = new RegExp(spaces, 'g')\n\t}\n}\n\nconst getDepth = (string, parsingInfo, i) => {\n\tlet depth = 0\n\tif (parsingInfo.indentReg) string = string.replace(/^\\s*/, str => str.replace(parsingInfo.indentReg, '\\t'))\n\tconst content = string.replace(/^\\t*/, (str) => {\n\t\tdepth = str.length\n\t\treturn ''\n\t})\n\tif (/^\\s/.test(content)) throw new SyntaxError(getErrorMsg('Bad indent', i))\n\treturn { depth, content }\n}\n\nconst resolveDepth = (ast, depth) => {\n\tlet currentNode = ast\n\tfor (let i = 0; i < depth; i++) currentNode = currentNode[currentNode.length - 1]\n\treturn currentNode\n}\n\nconst splitDefault = (string) => {\n\tstring = string.slice(2, string.length - 2)\n\tconst [_path, ..._default] = splitBy(string, '=')\n\tconst pathArr = splitBy(_path.trim(), '.').map(efEscape)\n\tconst [defaultVal, escaped] = ESCAPE(_default.join('=').trim())\n\tif (checkValidType(defaultVal) && (escaped || (!escaped && defaultVal !== ''))) return [pathArr, defaultVal]\n\treturn [pathArr]\n}\n\nconst splitLiterals = (string) => {\n\tconst strs = string.split(mustache)\n\tif (strs.length === 1) return ESCAPE(string)[0]\n\tconst tmpl = []\n\tif (strs.length === 2 && !strs[0] && !strs[1]) tmpl.push(0)\n\telse tmpl.push(strs.map(efEscape))\n\tconst mustaches = string.match(mustache)\n\tif (mustaches) tmpl.push(...mustaches.map(splitDefault))\n\treturn tmpl\n}\n\nconst pushStr = (textArr, str) => {\n\tif (str) textArr.push(str)\n}\n\nconst parseText = (string) => {\n\tconst result = splitLiterals(string)\n\tif (checkValidType(result)) return [`${result}`]\n\tconst [strs, ...exprs] = result\n\tconst textArr = []\n\tfor (let i = 0; i < exprs.length; i++) {\n\t\tpushStr(textArr, strs[i])\n\t\ttextArr.push(exprs[i])\n\t}\n\tpushStr(textArr, strs[strs.length - 1])\n\treturn textArr\n}\n\nconst dotToSpace = val => val.replace(/\\./g, ' ')\n\nconst parseTag = (string) => {\n\tconst tagInfo = {}\n\tconst [tag, ...content] = splitBy(string.replace(hashref, (val) => {\n\t\ttagInfo.ref = val.slice(1)\n\t\treturn ''\n\t}), '.')\n\ttagInfo.tag = efEscape(tag)\n\ttagInfo.class = splitLiterals(content.join('.'))\n\tif (typeof tagInfo.class === 'string') tagInfo.class = dotToSpace(tagInfo.class).trim()\n\telse if (tagInfo.class[0]) tagInfo.class[0] = tagInfo.class[0].map(dotToSpace)\n\treturn tagInfo\n}\n\nconst parseNodeProps = (string) => {\n\tconst splited = splitBy(string, '=')\n\treturn {\n\t\tname: efEscape(splited.shift().trim()),\n\t\tvalue: splitLiterals(splited.join('=').trim())\n\t}\n}\n\nconst parseEvent = (string) => {\n\tconst splited = splitBy(string, '=')\n\treturn {\n\t\tname: splited.shift().trim(),\n\t\tvalue: splited.join('=').trim()\n\t}\n}\n\nconst setOption = (options, option) => {\n\tswitch (option) {\n\t\tcase 'stop': {\n\t\t\toptions.s = 1\n\t\t\tbreak\n\t\t}\n\t\tcase 'stopImmediate': {\n\t\t\toptions.i = 1\n\t\t\tbreak\n\t\t}\n\t\tcase 'prevent': {\n\t\t\toptions.p = 1\n\t\t\tbreak\n\t\t}\n\t\tcase 'shift': {\n\t\t\toptions.h = 1\n\t\t\tbreak\n\t\t}\n\t\tcase 'alt': {\n\t\t\toptions.a = 1\n\t\t\tbreak\n\t\t}\n\t\tcase 'ctrl': {\n\t\t\toptions.c = 1\n\t\t\tbreak\n\t\t}\n\t\tcase 'meta': {\n\t\t\toptions.t = 1\n\t\t\tbreak\n\t\t}\n\t\tcase 'capture': {\n\t\t\toptions.u = 1\n\t\t\tbreak\n\t\t}\n\t\tdefault: {\n\t\t\tconsole.warn(`Abandoned unsupported eft event option '${option}'.`)\n\t\t}\n\t}\n}\n\nconst getOption = (options, keys, option) => {\n\tconst keyCode = parseInt(option, 10)\n\tif (isNaN(keyCode)) return setOption(options, efEscape(option))\n\tkeys.push(keyCode)\n}\n\nconst getEventOptions = (name) => {\n\tconst options = {}\n\tconst keys = []\n\tconst [listener, ...ops] = splitBy(name, '.')\n\toptions.l = efEscape(listener)\n\tfor (let i of ops) getOption(options, keys, i)\n\tif (keys.length > 0) options.k = keys\n\treturn options\n}\n\nconst splitEvents = (string) => {\n\tconst [name, ...value] = splitBy(string, ':')\n\tconst content = value.join(':')\n\tconst escapedName = efEscape(name.trim())\n\tif (content) return [escapedName, splitLiterals(content)]\n\treturn [escapedName]\n}\n\nconst parseLine = ({line, ast, parsingInfo, i}) => {\n\tif (isEmpty(line)) return\n\tgetOffset(line, parsingInfo)\n\n\tconst trimmedLine = removeOffset(line, parsingInfo, i)\n\tgetIndent(trimmedLine, parsingInfo)\n\n\tlet { depth, content } = getDepth(trimmedLine, parsingInfo, i)\n\n\tif (content) {\n\t\tif (depth < 0 || depth - parsingInfo.prevDepth > 1 || (depth - parsingInfo.prevDepth === 1 && ['comment', 'tag'].indexOf(parsingInfo.prevType) === -1) || (parsingInfo.prevType !== 'comment' && depth === 0 && parsingInfo.topExists)) throw new SyntaxError(getErrorMsg(`Expected indent to be grater than 0 and less than ${parsingInfo.prevDepth + 1}, but got ${depth}`, i))\n\t\tconst type = content[0]\n\t\tcontent = content.slice(1)\n\t\tif (!parsingInfo.topExists && typeSymbols.indexOf(type) >= 0 && type !== '>') throw new SyntaxError(getErrorMsg('No top level entry', i))\n\t\tif (!content && typeSymbols.indexOf(type) >= 0) throw new SyntaxError(getErrorMsg('Empty content', i))\n\t\t// Jump back to upper level\n\t\tif (depth < parsingInfo.prevDepth || (depth === parsingInfo.prevDepth && parsingInfo.prevType === 'tag')) parsingInfo.currentNode = resolveDepth(ast, depth)\n\t\tparsingInfo.prevDepth = depth\n\n\t\tswitch (type) {\n\t\t\tcase '>': {\n\t\t\t\tif (!parsingInfo.topExists) {\n\t\t\t\t\tparsingInfo.topExists = true\n\t\t\t\t\tparsingInfo.minDepth = depth\n\t\t\t\t}\n\t\t\t\tconst info = parseTag(content)\n\t\t\t\tconst newNode = [{\n\t\t\t\t\tt: info.tag\n\t\t\t\t}]\n\t\t\t\tif (info.class) {\n\t\t\t\t\tnewNode[0].a = {}\n\t\t\t\t\tnewNode[0].a.class = info.class\n\t\t\t\t}\n\t\t\t\tif (info.ref) newNode[0].r = info.ref\n\t\t\t\tparsingInfo.currentNode.push(newNode)\n\t\t\t\tparsingInfo.currentNode = newNode\n\t\t\t\tparsingInfo.prevType = 'tag'\n\t\t\t\tbreak\n\t\t\t}\n\t\t\tcase '#': {\n\t\t\t\tconst { name, value } = parseNodeProps(content)\n\t\t\t\tif (!parsingInfo.currentNode[0].a) parsingInfo.currentNode[0].a = {}\n\t\t\t\tparsingInfo.currentNode[0].a[name] = value\n\t\t\t\tparsingInfo.prevType = 'attr'\n\t\t\t\tbreak\n\t\t\t}\n\t\t\tcase '%': {\n\t\t\t\tconst { name, value } = parseNodeProps(content)\n\t\t\t\tif (!parsingInfo.currentNode[0].p) parsingInfo.currentNode[0].p = {}\n\t\t\t\tparsingInfo.currentNode[0].p[name] = value\n\t\t\t\tparsingInfo.prevType = 'prop'\n\t\t\t\tbreak\n\t\t\t}\n\t\t\tcase '@': {\n\t\t\t\tconst { name, value } = parseEvent(content)\n\t\t\t\tif (!parsingInfo.currentNode[0].e) parsingInfo.currentNode[0].e = []\n\t\t\t\tconst options = getEventOptions(name)\n\t\t\t\tconst [method, _value] = splitEvents(value)\n\t\t\t\toptions.m = method\n\t\t\t\tif (_value) options.v = _value\n\t\t\t\tparsingInfo.currentNode[0].e.push(options)\n\t\t\t\tparsingInfo.prevType = 'event'\n\t\t\t\tbreak\n\t\t\t}\n\t\t\tcase '.': {\n\t\t\t\tparsingInfo.currentNode.push(...parseText(content))\n\t\t\t\tparsingInfo.prevType = 'text'\n\t\t\t\tbreak\n\t\t\t}\n\t\t\tcase '|': {\n\t\t\t\tif (parsingInfo.currentNode.length > 1) content = `\\n${content}`\n\t\t\t\tparsingInfo.currentNode.push(...parseText(content))\n\t\t\t\tparsingInfo.prevType = 'multiline-text'\n\t\t\t\tbreak\n\t\t\t}\n\t\t\tcase '-': {\n\t\t\t\tif (reserved.indexOf(content) !== -1) throw new SyntaxError(getErrorMsg(`Reserved name '${content}' should not be used`, i))\n\t\t\t\tparsingInfo.currentNode.push({\n\t\t\t\t\tn: content,\n\t\t\t\t\tt: 0\n\t\t\t\t})\n\t\t\t\tparsingInfo.prevType = 'node'\n\t\t\t\tbreak\n\t\t\t}\n\t\t\tcase '+': {\n\t\t\t\tparsingInfo.currentNode.push({\n\t\t\t\t\tn: content,\n\t\t\t\t\tt: 1\n\t\t\t\t})\n\t\t\t\tparsingInfo.prevType = 'list'\n\t\t\t\tbreak\n\t\t\t}\n\t\t\tdefault: {\n\t\t\t\tparsingInfo.prevType = 'comment'\n\t\t\t}\n\t\t}\n\t}\n}\n\nconst parseEft = (template) => {\n\tif (!template) throw new TypeError(getErrorMsg('Template required, but nothing given'))\n\tconst tplType = typeof template\n\tif (tplType !== 'string') throw new TypeError(getErrorMsg(`Expected a string, but got a(n) ${tplType}`))\n\tconst lines = template.split(/\\r?\\n/)\n\tconst ast = []\n\tconst parsingInfo = {\n\t\tindentReg: null,\n\t\tprevDepth: 0,\n\t\toffset: null,\n\t\toffsetReg: null,\n\t\tprevType: 'comment',\n\t\tcurrentNode: ast,\n\t\ttopExists: false,\n\t}\n\tfor (let i = 0; i < lines.length; i++) parseLine({line: lines[i], ast, parsingInfo, i})\n\n\tif (ast[0]) return ast[0]\n\tthrow new SyntaxError(getErrorMsg('Nothing to be parsed', lines.length - 1))\n}\n\nexport default parseEft\n","const typeOf = (obj) => {\n\tif (Array.isArray(obj)) return 'array'\n\treturn typeof obj\n}\n\nexport default typeOf\n","const mixStr = (strs, ...exprs) => {\n\tlet string = ''\n\tfor (let i = 0; i < exprs.length; i++) string += (strs[i] + exprs[i])\n\treturn string + strs[strs.length - 1]\n}\n\nconst getVal = ({dataNode, _key}) => dataNode[_key]\n\nconst mixVal = (strs, ...exprs) => {\n\tif (!strs) return getVal(exprs[0])\n\tconst template = [strs]\n\ttemplate.push(...exprs.map(getVal))\n\treturn mixStr(...template)\n}\n\nexport { mixStr, mixVal }\n","const proto = Array.prototype\n\nconst ARR = {\n\tcopy(arr) {\n\t\treturn proto.slice.call(arr, 0)\n\t},\n\tempty(arr) {\n\t\tarr.length = 0\n\t\treturn arr\n\t},\n\tequals(left, right) {\n\t\tif (!Array.isArray(right)) return false\n\t\tif (left === right) return true\n\t\tif (left.length !== right.length) return false\n\t\tfor (let i = 0, l = left.length; i < l; i++) {\n\t\t\tif (left[i] !== right[i]) return false\n\t\t}\n\t\treturn true\n\t},\n\tpop(arr) {\n\t\treturn proto.pop.call(arr)\n\t},\n\tpush(arr, ...items) {\n\t\treturn proto.push.apply(arr, items)\n\t},\n\tremove(arr, item) {\n\t\tconst index = proto.indexOf.call(arr, item)\n\t\tif (index > -1) {\n\t\t\tproto.splice.call(arr, index, 1)\n\t\t\treturn item\n\t\t}\n\t},\n\treverse(arr) {\n\t\treturn proto.reverse.call(arr)\n\t},\n\trightUnique(arr) {\n\t\tconst newArr = []\n\t\tfor (let i = 0; i < arr.length; i++) {\n\t\t\tfor (let j = i + 1; j < arr.length; j++) if (arr[i] === arr[j]) j = i += 1\n\t\t\tnewArr.push(arr[i])\n\t\t}\n\t\treturn newArr\n\t},\n\tshift(arr) {\n\t\treturn proto.shift.call(arr)\n\t},\n\tslice(arr, index, length) {\n\t\treturn proto.slice.call(arr, index, length)\n\t},\n\tsort(arr, fn) {\n\t\treturn proto.sort.call(arr, fn)\n\t},\n\tsplice(arr, ...args) {\n\t\treturn proto.splice.apply(arr, args)\n\t},\n\tunshift(arr, ...items) {\n\t\treturn proto.unshift.apply(arr, items)\n\t}\n}\n\nif (window.Set && Array.from) ARR.unique = arr => Array.from(new Set(arr))\nelse ARR.unique = ARR.rightUnique\n\nexport default ARR\n","import ARR from './utils/array-helper.js'\n\nconst modificationQueue = []\nconst domQueue = []\nconst userQueue = []\nlet count = 0\n\nconst queue = handlers => modificationQueue.push(...handlers)\nconst queueDom = handler => domQueue.push(handler)\nconst onNextRender = handler => userQueue.push(handler)\n\nconst isPaused = () => count > 0\n\nconst inform = () => {\n\tcount += 1\n\treturn count\n}\n\nconst execModifications = () => {\n\tconst renderQueue = ARR.unique(modificationQueue)\n\tfor (let i of renderQueue) i()\n\tif (process.env.NODE_ENV !== 'production') console.info('[EF]', `${modificationQueue.length} modification operation(s) cached, ${renderQueue.length} executed.`)\n\tARR.empty(modificationQueue)\n}\n\nconst execDomModifications = () => {\n\tconst domRenderQueue = ARR.rightUnique(domQueue)\n\tfor (let i of domRenderQueue) i()\n\tif (process.env.NODE_ENV !== 'production') console.info('[EF]', `${domQueue.length} DOM operation(s) cached, ${domRenderQueue.length} executed.`)\n\tARR.empty(domQueue)\n}\n\nconst execUserQueue = () => {\n\tif (userQueue.length === 0) return\n\tconst userFnQueue = ARR.unique(userQueue)\n\tfor (let i of userFnQueue) i()\n\tif (process.env.NODE_ENV !== 'production') console.info('[EF]', `${userQueue.length} user operation(s) cached, ${userFnQueue.length} executed.`)\n\tARR.empty(userQueue)\n}\n\nconst exec = (immediate) => {\n\tif (!immediate && (count -= 1) > 0) return count\n\tcount = 0\n\n\tif (modificationQueue.length > 0) execModifications()\n\n\tif (domQueue.length > 0) execDomModifications()\n\n\t// Execute user queue after DOM update\n\tif (userQueue.length > 0) setTimeout(execUserQueue, 0)\n\n\treturn count\n}\n\nconst bundle = (cb) => {\n\tinform()\n\ttry {\n\t\treturn exec(cb(inform, exec))\n\t} catch (e) {\n\t\tconsole.error('[EF]', 'Error caught when executing bundle:\\n', e)\n\t\treturn exec()\n\t}\n}\n\nexport { queue, queueDom, onNextRender, inform, exec, bundle, isPaused }\n","// Enough for ef's usage, so no need for a full polyfill\nconst _assign = (ee, er) => {\n\tfor (let i in er) ee[i] = er[i]\n\treturn ee\n}\n\nconst assign = Object.assign || _assign\n\nexport { assign }\n","import { inform, exec } from './render-queue.js'\nimport { assign } from './utils/polyfills.js'\n\nconst resolveAllPath = ({_path, handlers, subscribers, innerData}) => {\n\tfor (let i of _path) {\n\t\tif (!handlers[i]) handlers[i] = {}\n\t\tif (!subscribers[i]) subscribers[i] = {}\n\t\tif (!innerData[i]) innerData[i] = {}\n\t\thandlers = handlers[i]\n\t\tsubscribers = subscribers[i]\n\t\tinnerData = innerData[i]\n\t}\n\treturn {\n\t\thandlerNode: handlers,\n\t\tsubscriberNode: subscribers,\n\t\tdataNode: innerData\n\t}\n}\n\nconst resolveReactivePath = (_path, obj, enume) => {\n\tfor (let i of _path) {\n\t\tif (!obj[i]) {\n\t\t\tconst node = {}\n\t\t\tObject.defineProperty(obj, i, {\n\t\t\t\tget() {\n\t\t\t\t\treturn node\n\t\t\t\t},\n\t\t\t\tset(data) {\n\t\t\t\t\tinform()\n\t\t\t\t\tassign(node, data)\n\t\t\t\t\texec()\n\t\t\t\t},\n\t\t\t\tconfigurable: !enume,\n\t\t\t\tenumerable: enume\n\t\t\t})\n\t\t}\n\t\tobj = obj[i]\n\t}\n\treturn obj\n}\n\nconst resolve = ({ _path, _key, data, handlers, subscribers, innerData }) => {\n\tconst parentNode = resolveReactivePath(_path, data, true)\n\tconst {handlerNode, subscriberNode, dataNode} = resolveAllPath({_path, handlers, subscribers, innerData})\n\tif (!handlerNode[_key]) handlerNode[_key] = []\n\tif (!subscriberNode[_key]) subscriberNode[_key] = []\n\tif (!Object.prototype.hasOwnProperty.call(dataNode, _key)) dataNode[_key] = ''\n\treturn { parentNode, handlerNode: handlerNode[_key], subscriberNode: subscriberNode[_key], dataNode }\n}\n\nconst resolveSubscriber = (_path, subscribers) => {\n\tconst pathArr = _path.split('.')\n\tconst key = pathArr.pop()\n\tfor (let i of pathArr) {\n\t\tif (!subscribers[i]) subscribers[i] = {}\n\t\tsubscribers = subscribers[i]\n\t}\n\treturn subscribers[key]\n}\n\nexport { resolveReactivePath, resolve, resolveSubscriber }\n","import { inform, exec } from './render-queue.js'\nimport ARR from './utils/array-helper.js'\n\nconst subscriberCallStack = []\n\nconst checkStack = subscriberNode => subscriberCallStack.indexOf(subscriberNode) >= 0\n\nconst pushStack = subscriberNode => subscriberCallStack.push(subscriberNode)\n\nconst popStack = subscriberNode => ARR.remove(subscriberCallStack, subscriberNode)\n\nconst execSubscribers = (subscriberNode, data) => {\n\t// Stop chain reaction when being called again in the context\n\t// There is no way for the caller to know it shouldn't update the node again\n\t// So this is the only method to avoid recursion\n\t// Push the current subscriberNode to stack as an identifier\n\tpushStack(subscriberNode)\n\t// Execute the subscriber function\n\tinform()\n\ttry {\n\t\tfor (const subscriber of subscriberNode) subscriber(data)\n\t} catch (e) {\n\t\tconsole.error('[EF]', 'Error caught when executing subscribers:\\n', e)\n\t}\n\texec()\n\t// Remove the subscriberNode from the stack so it could be called again\n\tpopStack(subscriberNode)\n}\n\nexport { subscriberCallStack, checkStack, pushStack, popStack, execSubscribers }\n","/* eslint-disable no-self-compare */\nconst isnan = obj => obj !== obj\n\nexport default isnan\n","import { resolve } from './resolver.js'\nimport { inform, exec, queue } from './render-queue.js'\nimport { execSubscribers } from './subscriber-call-stack.js'\nimport ARR from './utils/array-helper.js'\nimport isnan from './utils/isnan.js'\n\nconst initDataNode = ({parentNode, dataNode, handlerNode, subscriberNode, state, _key}) => {\n\tObject.defineProperty(parentNode, _key, {\n\t\tget() {\n\t\t\treturn dataNode[_key]\n\t\t},\n\t\tset(value) {\n\t\t\t// Comparing NaN is like eating a cake and suddenly encounter a grain of sand\n\t\t\tif (dataNode[_key] === value || (isnan(dataNode[_key]) && isnan(value))) return\n\t\t\tdataNode[_key] = value\n\t\t\tinform()\n\t\t\tqueue(handlerNode)\n\t\t\texec()\n\t\t\tif (subscriberNode.length > 0) execSubscribers(subscriberNode, {state, value})\n\t\t},\n\t\tenumerable: true\n\t})\n}\n\nconst initBinding = ({bind, state, handlers, subscribers, innerData}) => {\n\tconst _path = ARR.copy(bind[0])\n\tconst _key = _path.pop()\n\tconst { parentNode, handlerNode, subscriberNode, dataNode } = resolve({\n\t\t_path,\n\t\t_key,\n\t\tdata: state.$data,\n\t\thandlers,\n\t\tsubscribers,\n\t\tinnerData\n\t})\n\n\t// Initlize data binding node if not exist\n\tif (!Object.prototype.hasOwnProperty.call(parentNode, _key)) initDataNode({parentNode, dataNode, handlerNode, subscriberNode, state, _key})\n\t// Update default value\n\t// bind[1] is the default value for this node\n\tif (bind.length > 1) parentNode[_key] = bind[1]\n\n\treturn {dataNode, parentNode, handlerNode, subscriberNode, _key}\n}\n\nexport default initBinding\n","/* Get new events that works in all target browsers\n * though a little bit old-fashioned\n */\nconst getEvent = (name, props = {\n\tbubbles: false,\n\tcancelable: false\n}) => {\n\tconst event = document.createEvent('Event')\n\tevent.initEvent(name, props.bubbles, props.cancelable)\n\treturn event\n}\n\nexport default getEvent\n","import initBinding from './binding.js'\nimport { queue, inform, exec } from './render-queue.js'\nimport ARR from './utils/array-helper.js'\nimport getEvent from './utils/event-helper.js'\nimport { mixVal } from './utils/literals-mix.js'\n\nconst checkValidType = obj => ['number', 'boolean', 'string'].indexOf(typeof obj) > -1\n\n// SVG tags require namespace to work properly\nconst createByTag = (tag, svg) => {\n\tif (svg) return document.createElementNS('http://www.w3.org/2000/svg', tag)\n\treturn document.createElement(tag)\n}\n\nconst getElement = ({tag, ref, refs, svg}) => {\n\tconst element = createByTag(tag, svg)\n\tif (ref) Object.defineProperty(refs, ref, {\n\t\tvalue: element,\n\t\tenumerable: true\n\t})\n\treturn element\n}\n\nconst regTmpl = ({val, state, handlers, subscribers, innerData, handler}) => {\n\tif (Array.isArray(val)) {\n\t\tconst [strs, ...exprs] = val\n\t\tconst tmpl = [strs]\n\t\tconst _handler = () => handler(mixVal(...tmpl))\n\t\ttmpl.push(...exprs.map((item) => {\n\t\t\tconst {dataNode, handlerNode, _key} = initBinding({bind: item, state, handlers, subscribers, innerData})\n\t\t\thandlerNode.push(_handler)\n\t\t\treturn {dataNode, _key}\n\t\t}))\n\t\treturn _handler\n\t}\n\treturn () => val\n}\n\nconst updateOthers = ({parentNode, handlerNode, _handler, _key, value}) => {\n\t// Remove handler for this element temporarily\n\tARR.remove(handlerNode, _handler)\n\tinform()\n\tparentNode[_key] = value\n\texec()\n\t// Add back the handler\n\tARR.push(handlerNode, _handler)\n}\n\nconst addValListener = ({_handler, state, handlers, subscribers, innerData, element, key, expr}) => {\n\tconst {parentNode, handlerNode, _key} = initBinding({bind: expr, state, handlers, subscribers, innerData})\n\tconst _update = () => updateOthers({parentNode, handlerNode, _handler, _key, value: element.value})\n\tif (key === 'value') {\n\t\t// Listen to input, keyup and change events in order to work in most browsers.\n\t\telement.addEventListener('input', _update, true)\n\t\telement.addEventListener('keyup', _update, true)\n\t\telement.addEventListener('change', _update, true)\n\t\t// // Remove keyup and change listener if browser supports input event correctly\n\t\t// const removeListener = () => {\n\t\t// \telement.removeEventListener('input', removeListener, true)\n\t\t// \telement.removeEventListener('keyup', _update, true)\n\t\t// \telement.removeEventListener('change', _update, true)\n\t\t// }\n\t\t// element.addEventListener('input', removeListener, true)\n\t} else {\n\t\telement.addEventListener('change', () => {\n\t\t\t// Trigger change to the element it-self\n\t\t\telement.dispatchEvent(getEvent('ef-change-event'))\n\t\t\tif (element.tagName === 'INPUT' && element.type === 'radio' && element.name !== '') {\n\t\t\t\t// Trigger change to the the same named radios\n\t\t\t\tconst radios = document.querySelectorAll(`input[name=${element.name}]`)\n\t\t\t\tif (radios) {\n\t\t\t\t\tconst selected = ARR.copy(radios)\n\t\t\t\t\tARR.remove(selected, element)\n\n\t\t\t\t\t/* Event triggering could cause unwanted render triggers\n\t\t\t\t\t * no better ways came up at the moment\n\t\t\t\t\t */\n\t\t\t\t\tfor (let i of selected) i.dispatchEvent(getEvent('ef-change-event'))\n\t\t\t\t}\n\t\t\t}\n\t\t}, true)\n\t\t// Use custom event to avoid loops and conflicts\n\t\telement.addEventListener('ef-change-event', () => updateOthers({parentNode, handlerNode, _handler, _key, value: element.checked}))\n\t}\n}\n\nconst getAttrHandler = (element, key) => {\n\tif (key === 'class') return (val) => {\n\t\tval = `${val}`.replace(/\\s+/g, ' ').trim()\n\t\t// Remove attribute when value is empty\n\t\tif (!val) return element.removeAttribute(key)\n\t\telement.setAttribute(key, val)\n\t}\n\treturn (val) => {\n\t\t// Remove attribute when value is empty\n\t\tif (val === '') return element.removeAttribute(key)\n\t\telement.setAttribute(key, val)\n\t}\n}\n\nconst addAttr = ({element, attr, key, state, handlers, subscribers, innerData}) => {\n\tif (checkValidType(attr)) element.setAttribute(key, attr)\n\telse {\n\t\tconst handler = getAttrHandler(element, key)\n\t\tqueue([regTmpl({val: attr, state, handlers, subscribers, innerData, handler})])\n\t}\n}\n\nconst addProp = ({element, prop, key, state, handlers, subscribers, innerData}) => {\n\tif (checkValidType(prop)) element[key] = prop\n\telse {\n\t\tconst handler = (val) => {\n\t\t\telement[key] = val\n\t\t}\n\t\tconst _handler = regTmpl({val: prop, state, handlers, subscribers, innerData, handler})\n\t\tif ((key === 'value' ||\n\t\t\tkey === 'checked') &&\n\t\t\t!prop[0]) addValListener({_handler, state, handlers, subscribers, innerData, element, key, expr: prop[1]})\n\t\tqueue([_handler])\n\t}\n}\n\n\nconst rawHandler = val => val\n\nconst addEvent = ({element, event, state, handlers, subscribers, innerData}) => {\n\n\t/**\n\t *  l: listener                 : string\n\t *  m: method                   : string\n\t *  s: stopPropagation          : number/undefined\n\t *  i: stopImmediatePropagation : number/undefined\n\t *  p: preventDefault           : number/undefined\n\t *  h: shiftKey                 : number/undefined\n\t *  a: altKey                   : number/undefined\n\t *  c: ctrlKey                  : number/undefined\n\t *  t: metaKey                  : number/undefined\n\t *  u: capture                  : number/undefined\n\t *  k: keyCodes                 : array/undefined\n\t *  v: value                    : string/array/undefined\n\t */\n\tconst {l, m, s, i, p, h, a, c, t, u, k, v} = event\n\tconst _handler = regTmpl({val: v, state, handlers, subscribers, innerData, handler: rawHandler})\n\telement.addEventListener(l, (e) => {\n\t\tif (!!h !== !!e.shiftKey ||\n\t\t\t!!a !== !!e.altKey ||\n\t\t\t!!c !== !!e.ctrlKey ||\n\t\t\t!!t !== !!e.metaKey ||\n\t\t\t(k && k.indexOf(e.which) === -1)) return\n\t\tif (s) e.stopPropagation()\n\t\tif (i) e.stopImmediatePropagation()\n\t\tif (p) e.preventDefault()\n\t\tif (state.$methods[m]) state.$methods[m]({e, value: _handler(), state})\n\t\telse if (process.env.NODE_ENV !== 'production') console.warn('[EF]', `Method named '${m}' not found! Value been passed is:`, _handler())\n\t}, !!u)\n}\n\nconst createElement = ({info, state, innerData, refs, handlers, subscribers, svg}) => {\n\n\t/**\n\t *  t: tag       : string\n\t *  a: attr      : object\n\t *  p: prop      : object\n\t *  e: event     : array\n\t *  r: reference : string\n\t */\n\tconst {t, a, p, e, r} = info\n\tconst element = getElement({tag: t, ref: r, refs, svg})\n\tfor (let i in a) addAttr({element, attr: a[i], key: i, state, handlers, subscribers, innerData})\n\tfor (let i in p) addProp({element, prop: p[i], key: i, state, handlers, subscribers, innerData})\n\tfor (let i in e) addEvent({element, event: e[i], state, handlers, subscribers, innerData})\n\treturn element\n}\n\nexport default createElement\n","const proto = Node.prototype\n// const safeZone = document.createDocumentFragment()\n\nconst DOM = {\n\t// addClass(node, className) {\n\t// \tconst classes = className.split(' ')\n\t// \tnode.classList.add(...classes)\n\t// },\n\n\t// removeClass(node, className) {\n\t// \tconst classes = className.split(' ')\n\t// \tnode.classList.remove(...classes)\n\t// },\n\n\t// toggleClass(node, className) {\n\t// \tconst classes = className.split(' ')\n\t// \tconst classArr = node.className.split(' ')\n\t// \tfor (let i of classes) {\n\t// \t\tconst classIndex = classArr.indexOf(i)\n\t// \t\tif (classIndex > -1) {\n\t// \t\t\tclassArr.splice(classIndex, 1)\n\t// \t\t} else {\n\t// \t\t\tclassArr.push(i)\n\t// \t\t}\n\t// \t}\n\t// \tnode.className = classArr.join(' ').trim()\n\t// },\n\n\t// replaceWith(node, newNode) {\n\t// \tconst parent = node.parentNode\n\t// \tif (parent) proto.replaceChild.call(parent, newNode, node)\n\t// },\n\n\t// swap(node, newNode) {\n\t// \tconst nodeParent = node.parentNode\n\t// \tconst newNodeParent = newNode.parentNode\n\t// \tconst nodeSibling = node.nextSibling\n\t// \tconst newNodeSibling = newNode.nextSibling\n\t// \tif (nodeParent && newNodeParent) {\n\t// \t\tproto.insertBefore.call(nodeParent, newNode, nodeSibling)\n\t// \t\tproto.insertBefore.call(newNodeParent, node, newNodeSibling)\n\t// \t}\n\t// },\n\n\tbefore(node, ...nodes) {\n\t\tconst tempFragment = document.createDocumentFragment()\n\t\tnodes.reverse()\n\t\tfor (let i of nodes) proto.appendChild.call(tempFragment, i)\n\t\tproto.insertBefore.call(node.parentNode, tempFragment, node)\n\t},\n\n\tafter(node, ...nodes) {\n\t\tconst tempFragment = document.createDocumentFragment()\n\t\tfor (let i of nodes) proto.appendChild.call(tempFragment, i)\n\t\tif (node.nextSibling) proto.insertBefore.call(node.parentNode, tempFragment, node.nextSibling)\n\t\telse proto.appendChild.call(node.parentNode, tempFragment)\n\t},\n\n\tappend(node, ...nodes) {\n\t\tif ([1,9,11].indexOf(node.nodeType) === -1) return\n\t\tconst tempFragment = document.createDocumentFragment()\n\t\tfor (let i of nodes) proto.appendChild.call(tempFragment, i)\n\t\tproto.appendChild.call(node, tempFragment)\n\t},\n\n\t// prepend(node, ...nodes) {\n\t// \tif ([1,9,11].indexOf(node.nodeType) === -1) {\n\t// \t\treturn\n\t// \t}\n\t// \tconst tempFragment = document.createDocumentFragment()\n\t// \tnodes.reverse()\n\t// \tfor (let i of nodes) {\n\t// \t\tproto.appendChild.call(tempFragment, i)\n\t// \t}\n\t// \tif (node.firstChild) {\n\t// \t\tproto.insertBefore.call(node, tempFragment, node.firstChild)\n\t// \t} else {\n\t// \t\tproto.appendChild.call(node, tempFragment)\n\t// \t}\n\t// },\n\n\t// appendTo(node, newNode) {\n\t// \tproto.appendChild.call(newNode, node)\n\t// },\n\n\t// prependTo(node, newNode) {\n\t// \tif (newNode.firstChild) {\n\t// \t\tproto.insertBefore.call(newNode, node, node.firstChild)\n\t// \t} else {\n\t// \t\tproto.appendChild.call(newNode, node)\n\t// \t}\n\t// },\n\n\t// empty(node) {\n\t// \tnode.innerHTML = ''\n\t// },\n\n\tremove(node) {\n\t\tproto.removeChild.call(node.parentNode, node)\n\t},\n\n\t// safeRemove(node) {\n\t// \tproto.appendChild.call(safeZone, node)\n\t// }\n}\n\nexport default DOM\n","import DOM from './dom-helper.js'\nimport ARR from './array-helper.js'\nimport { inform, exec } from '../render-queue.js'\n\nconst DOMARR = {\n\tempty() {\n\t\tinform()\n\t\tfor (let i of ARR.copy(this)) i.$destroy()\n\t\texec()\n\t\tARR.empty(this)\n\t},\n\tpop() {\n\t\tif (this.length === 0) return\n\t\tconst poped = ARR.pop(this)\n\t\tpoped.$umount()\n\t\treturn poped\n\t},\n\tpush({state, key, anchor}, ...items) {\n\t\tconst elements = []\n\t\tinform()\n\t\tfor (let i of items) ARR.push(elements, i.$mount({parent: state, key}))\n\t\tif (this.length === 0) DOM.after(anchor, ...elements)\n\t\telse DOM.after(this[this.length - 1].$ctx.nodeInfo.placeholder, ...elements)\n\t\texec()\n\t\treturn ARR.push(this, ...items)\n\t},\n\tremove(item) {\n\t\tif (this.indexOf(item) === -1) return\n\t\titem.$umount()\n\t\treturn item\n\t},\n\treverse({state, key, anchor}) {\n\t\tif (this.length === 0) return this\n\t\tconst tempArr = ARR.copy(this)\n\t\tconst elements = []\n\t\tinform()\n\t\tfor (let i = tempArr.length - 1; i >= 0; i--) {\n\t\t\ttempArr[i].$umount()\n\t\t\tARR.push(elements, tempArr[i].$mount({parent: state, key}))\n\t\t}\n\t\tARR.push(this, ...ARR.reverse(tempArr))\n\t\tDOM.after(anchor, ...elements)\n\t\texec()\n\t\treturn this\n\t},\n\tshift() {\n\t\tif (this.length === 0) return\n\t\tconst shifted = ARR.shift(this)\n\t\tshifted.$umount()\n\t\treturn shifted\n\t},\n\tsort({state, key, anchor}, fn) {\n\t\tif (this.length === 0) return this\n\t\tconst sorted = ARR.copy(ARR.sort(this, fn))\n\t\tconst elements = []\n\t\tinform()\n\t\tfor (let i of sorted) {\n\t\t\ti.$umount()\n\t\t\tARR.push(elements, i.$mount({parent: state, key}))\n\t\t}\n\t\tARR.push(this, ...sorted)\n\t\tDOM.after(anchor, ...elements)\n\t\texec()\n\t\treturn this\n\t},\n\tsplice(...args) {\n\t\tif (this.length === 0) return this\n\t\tconst spliced = ARR.splice(ARR.copy(this), ...args)\n\t\tinform()\n\t\tfor (let i of spliced) i.$umount()\n\t\texec()\n\t\treturn spliced\n\t},\n\tunshift({state, key, anchor}, ...items) {\n\t\tif (this.length === 0) return this.push(...items).length\n\t\tconst elements = []\n\t\tinform()\n\t\tfor (let i of items) ARR.push(elements, i.$mount({parent: state, key}))\n\t\tDOM.after(anchor, ...elements)\n\t\texec()\n\t\treturn ARR.unshift(this, ...items)\n\t}\n}\n\nconst defineArr = (arr, info) => {\n\tObject.defineProperties(arr, {\n\t\tempty: {value: DOMARR.empty},\n\t\tpop: {value: DOMARR.pop},\n\t\tpush: {value: DOMARR.push.bind(arr, info)},\n\t\tremove: {value: DOMARR.remove},\n\t\treverse: {value: DOMARR.reverse.bind(arr, info)},\n\t\tshift: {value: DOMARR.shift},\n\t\tsort: {value: DOMARR.sort.bind(arr, info)},\n\t\tsplice: {value: DOMARR.splice},\n\t\tunshift: {value: DOMARR.unshift.bind(arr, info)}\n\t})\n\treturn arr\n}\n\nexport default defineArr\n","import createElement from './element-creator.js'\nimport { queue, inform, exec } from './render-queue.js'\nimport DOM from './utils/dom-helper.js'\nimport ARR from './utils/array-helper.js'\nimport defineArr from './utils/dom-arr-helper.js'\nimport typeOf from './utils/type-of.js'\nimport initBinding from './binding.js'\n\nconst bindTextNode = ({node, state, handlers, subscribers, innerData, element}) => {\n\t// Data binding text node\n\tconst textNode = document.createTextNode('')\n\tconst { dataNode, handlerNode, _key } = initBinding({bind: node, state, handlers, subscribers, innerData})\n\tconst handler = () => {\n\t\ttextNode.textContent = dataNode[_key]\n\t}\n\thandlerNode.push(handler)\n\tqueue([handler])\n\n\t// Append element to the component\n\tDOM.append(element, textNode)\n}\n\nconst updateMountingNode = ({state, children, key, anchor, value}) => {\n\tif (children[key] === value) return\n\tif (value) {\n\t\tif (value.$ctx.nodeInfo.parent && process.env.NODE_ENV !== 'production') console.warn('[EF]', 'Better detach the component before attaching it to a new component!')\n\t\tif (value.$ctx.nodeInfo.element.contains(state.$ctx.nodeInfo.element)) {\n\t\t\tif (process.env.NODE_ENV !== 'production') console.warn('[EF]', 'Cannot mount a component to it\\'s child component!')\n\t\t\treturn\n\t\t}\n\t}\n\n\tinform()\n\t// Update component\n\tif (children[key]) children[key].$umount()\n\t// Update stored value\n\tchildren[key] = value\n\tif (value) value.$mount({target: anchor, parent: state, option: 'before', key})\n\texec()\n}\n\nconst bindMountingNode = ({state, key, children, anchor}) => {\n\tObject.defineProperty(state, key, {\n\t\tget() {\n\t\t\treturn children[key]\n\t\t},\n\t\tset(value) {\n\t\t\tupdateMountingNode({state, children, key, anchor, value})\n\t\t},\n\t\tenumerable: true,\n\t\tconfigurable: true\n\t})\n}\n\nconst updateMountingList = ({state, children, key, anchor, value}) => {\n\tif (value) value = ARR.copy(value)\n\telse value = []\n\tconst fragment = document.createDocumentFragment()\n\t// Update components\n\tinform()\n\tif (children[key]) {\n\t\tfor (let j of value) {\n\t\t\tif (j.$ctx.nodeInfo.element.contains(state.$ctx.nodeInfo.element)) {\n\t\t\t\tif (process.env.NODE_ENV !== 'production') console.warn('[EF]', 'Cannot mount a component to it\\'s child component!')\n\t\t\t\treturn\n\t\t\t}\n\t\t\tj.$umount()\n\t\t\tDOM.append(fragment, j.$mount({parent: state, key}))\n\t\t}\n\t\tfor (let j of ARR.copy(children[key])) j.$umount()\n\t} else for (let j of value) DOM.append(fragment, j.$mount({parent: state, key}))\n\t// Update stored value\n\tchildren[key].length = 0\n\tARR.push(children[key], ...value)\n\t// Append to current component\n\tDOM.after(anchor, fragment)\n\texec()\n}\n\nconst bindMountingList = ({state, key, children, anchor}) => {\n\tchildren[key] = defineArr([], {state, key, anchor})\n\tObject.defineProperty(state, key, {\n\t\tget() {\n\t\t\treturn children[key]\n\t\t},\n\t\tset(value) {\n\t\t\tif (children[key] && ARR.equals(children[key], value)) return\n\t\t\tupdateMountingList({state, children, key, anchor, value})\n\t\t},\n\t\tenumerable: true,\n\t\tconfigurable: true\n\t})\n}\n\nconst resolveAST = ({node, nodeType, element, state, innerData, refs, children, handlers, subscribers, svg, create}) => {\n\tswitch (nodeType) {\n\t\tcase 'string': {\n\t\t\t// Static text node\n\t\t\tDOM.append(element, document.createTextNode(node))\n\t\t\tbreak\n\t\t}\n\t\tcase 'array': {\n\t\t\tif (typeOf(node[0]) === 'object') DOM.append(element, create({node, state, innerData, refs, children, handlers, subscribers, svg, create}))\n\t\t\telse bindTextNode({node, state, handlers, subscribers, innerData, element})\n\t\t\tbreak\n\t\t}\n\t\tcase 'object': {\n\t\t\tconst anchor = document.createTextNode('')\n\t\t\tif (node.t === 0) bindMountingNode({state, key: node.n, children, anchor})\n\t\t\telse if (node.t === 1) bindMountingList({state, key: node.n, children, anchor})\n\t\t\telse throw new TypeError(`Not a standard ef.js AST: Unknown mounting point type '${node.t}'`)\n\t\t\t// Append anchor\n\t\t\tDOM.append(element, anchor)\n\t\t\t// Display anchor indicator in development mode\n\t\t\tif (process.env.NODE_ENV !== 'production') {\n\t\t\t\tDOM.before(anchor, document.createComment(`Start of mounting point '${node.n}'`))\n\t\t\t\tDOM.after(anchor, document.createComment(`End of mounting point '${node.n}'`))\n\t\t\t}\n\t\t\tbreak\n\t\t}\n\t\tdefault: {\n\t\t\tthrow new TypeError(`Not a standard ef.js AST: Unknown node type '${nodeType}'`)\n\t\t}\n\t}\n}\n\nconst create = ({node, state, innerData, refs, children, handlers, subscribers, svg, create}) => {\n\tconst [info, ...childNodes] = node\n\tif (!svg && info.t === 'svg') svg = true\n\t// First create an element according to the description\n\tconst element = createElement({info, state, innerData, refs, handlers, subscribers, svg})\n\n\t// Append child nodes\n\tfor (let i of childNodes) resolveAST({node: i, nodeType: typeOf(i), element, state, innerData, refs, children, handlers, subscribers, svg, create})\n\n\treturn element\n}\n\nexport default create\n","const mountOptions = {\n\tBEFORE: 'before',\n\tAFTER: 'after',\n\tAPPEND: 'append',\n\tREPLACE: 'replace'\n}\n\nexport default mountOptions\n","import create from './creator.js'\nimport initBinding from './binding.js'\nimport { queueDom, inform, exec } from './render-queue.js'\nimport { resolveReactivePath, resolveSubscriber } from './resolver.js'\nimport DOM from './utils/dom-helper.js'\nimport ARR from './utils/array-helper.js'\nimport { assign } from './utils/polyfills.js'\nimport mountOptions from '../mount-options.js'\n\nconst unsubscribe = (_path, fn, subscribers) => {\n\tconst subscriberNode = resolveSubscriber(_path, subscribers)\n\tARR.remove(subscriberNode, fn)\n}\n\nconst state = class {\n\tconstructor (ast) {\n\t\tconst children = {}\n\t\tconst refs = {}\n\t\tconst innerData = {}\n\t\tconst methods = {}\n\t\tconst handlers = {}\n\t\tconst subscribers = {}\n\t\tconst nodeInfo = {\n\t\t\tplaceholder: document.createTextNode(''),\n\t\t\treplace: [],\n\t\t\tparent: null,\n\t\t\tkey: null\n\t\t}\n\n\t\t/* Detatched components will be put in the safe zone.\n\t\t * Split safe zone to each component in order to make\n\t\t * the component memory recycleable when lost reference\n\t\t */\n\t\tconst safeZone = document.createDocumentFragment()\n\n\t\tif (process.env.NODE_ENV !== 'production') nodeInfo.placeholder = document.createComment('EF COMPONENT PLACEHOLDER')\n\n\t\tconst mount = () => {\n\t\t\tif (nodeInfo.replace.length > 0) {\n\t\t\t\tfor (let i of nodeInfo.replace) DOM.remove(i)\n\t\t\t\tARR.empty(nodeInfo.replace)\n\t\t\t}\n\t\t\tDOM.before(nodeInfo.placeholder, nodeInfo.element)\n\t\t}\n\n\t\tconst ctx = {\n\t\t\tmount, refs, innerData, methods, handlers,\n\t\t\tsubscribers, nodeInfo, safeZone\n\t\t}\n\n\t\tObject.defineProperty(this, '$ctx', {\n\t\t\tget() {\n\t\t\t\treturn ctx\n\t\t\t}\n\t\t})\n\n\t\tinform()\n\t\t// Init root data node\n\t\tresolveReactivePath(['$data'], this, false)\n\n\t\tnodeInfo.element = create({node: ast, state: this, innerData, refs, children, handlers, subscribers, svg: false, create})\n\t\tDOM.append(safeZone, nodeInfo.placeholder)\n\t\tqueueDom(mount)\n\t\texec()\n\t}\n\n\tget $methods() {\n\t\tconst { methods } = this.$ctx\n\t\treturn methods\n\t}\n\n\tset $methods(newMethods) {\n\t\tconst { methods } = this.$ctx\n\t\tassign(methods, newMethods)\n\t}\n\n\tget $refs() {\n\t\treturn this.$ctx.refs\n\t}\n\n\t$mount({target, option, parent, key}) {\n\t\tconst { nodeInfo, mount } = this.$ctx\n\t\tif (typeof target === 'string') target = document.querySelector(target)\n\n\t\tinform()\n\t\tif (nodeInfo.parent) {\n\t\t\tthis.$umount()\n\t\t\tif (process.env.NODE_ENV !== 'production') console.warn('[EF]', 'Component detached from previous mounting point.')\n\t\t}\n\n\t\tif (!parent) parent = target\n\t\tif (!key) key = '__DIRECTMOUNT__'\n\t\tnodeInfo.parent = parent\n\t\tnodeInfo.key = key\n\t\tqueueDom(mount)\n\n\t\tif (!target) {\n\t\t\texec()\n\t\t\treturn nodeInfo.placeholder\n\t\t}\n\n\t\tswitch (option) {\n\t\t\tcase mountOptions.BEFORE: {\n\t\t\t\tDOM.before(target, nodeInfo.placeholder)\n\t\t\t\tbreak\n\t\t\t}\n\t\t\tcase mountOptions.AFTER: {\n\t\t\t\tDOM.after(target, nodeInfo.placeholder)\n\t\t\t\tbreak\n\t\t\t}\n\t\t\tcase mountOptions.REPLACE: {\n\t\t\t\tDOM.before(target, nodeInfo.placeholder)\n\t\t\t\tnodeInfo.replace.push(target)\n\t\t\t\tbreak\n\t\t\t}\n\t\t\tcase mountOptions.APPEND:\n\t\t\tdefault: {\n\t\t\t\tDOM.append(target, nodeInfo.placeholder)\n\t\t\t}\n\t\t}\n\t\treturn exec()\n\t}\n\n\t$umount() {\n\t\tconst { nodeInfo, safeZone, mount } = this.$ctx\n\t\tconst { parent, key } = nodeInfo\n\t\tnodeInfo.parent = null\n\t\tnodeInfo.key = null\n\n\t\tinform()\n\t\tif (parent && key !== '__DIRECTMOUNT__' && parent[key]) {\n\t\t\tif (Array.isArray(parent[key])) ARR.remove(parent[key], this)\n\t\t\telse {\n\t\t\t\tparent[key] = null\n\t\t\t\treturn exec()\n\t\t\t}\n\t\t}\n\t\tDOM.append(safeZone, nodeInfo.placeholder)\n\t\tqueueDom(mount)\n\t\treturn exec()\n\t}\n\n\t$subscribe(pathStr, subscriber) {\n\t\tconst { handlers, subscribers, innerData } = this.$ctx\n\t\tconst _path = pathStr.split('.')\n\t\tconst { dataNode, subscriberNode, _key } = initBinding({bind: [_path], state: this, handlers, subscribers, innerData})\n\t\tinform()\n\t\t// Execute the subscriber function immediately\n\t\ttry {\n\t\t\tsubscriber({state: this, value: dataNode[_key]})\n\t\t\t// Put the subscriber inside the subscriberNode\n\t\t\tsubscriberNode.push(subscriber)\n\t\t} catch (e) {\n\t\t\tconsole.error('[EF]', 'Error caught when registering subscriber:\\n', e)\n\t\t}\n\t\texec()\n\t}\n\n\t$unsubscribe(_path, fn) {\n\t\tconst { subscribers } = this.$ctx\n\t\tunsubscribe(_path, fn, subscribers)\n\t}\n\n\t$update(newState) {\n\t\tinform()\n\t\tconst tmpState = assign({}, newState)\n\t\tif (tmpState.$data) {\n\t\t\tassign(this.$data, tmpState.$data)\n\t\t\tdelete(tmpState.$data)\n\t\t}\n\t\tif (tmpState.$methods) {\n\t\t\tassign(this.$methods, tmpState.$methods)\n\t\t\tdelete(tmpState.$methods)\n\t\t}\n\t\tassign(this, tmpState)\n\t\texec()\n\t}\n\n\t$destroy() {\n\t\tconst { nodeInfo } = this.$ctx\n\t\tinform()\n\t\tthis.$umount()\n\t\tfor (let i in this) {\n\t\t\tthis[i] = null\n\t\t\tdelete this[i]\n\t\t}\n\t\t// Push DOM removement operation to query\n\t\tqueueDom(() => {\n\t\t\tDOM.remove(nodeInfo.element)\n\t\t\tDOM.remove(nodeInfo.placeholder)\n\t\t})\n\t\t// Render\n\t\treturn exec()\n\t}\n}\n\nexport default state\n","// Import everything\nimport state from './lib/renderer.js'\nimport mountOptions from './mount-options.js'\nimport { onNextRender, inform, exec, bundle, isPaused } from './lib/render-queue.js'\nimport { version } from '../package.json'\n\nconst create = (value) => {\n\tconst ast = value\n\tconst ef = class extends state {\n\t\tconstructor(newState) {\n\t\t\tinform()\n\t\t\tsuper(ast)\n\t\t\tif (newState) this.$update(newState)\n\t\t\texec()\n\t\t}\n\t}\n\treturn ef\n}\n\nexport { create, onNextRender, inform, exec, bundle, isPaused, mountOptions, version }\n\nif (process.env.NODE_ENV !== 'production') console.info('[EF]', `ef-core v${version} initialized!`)\n","// Import everything\nimport parse from './lib/parser.js'\nimport typeOf from 'ef-core/src/lib/utils/type-of.js'\nimport { mixStr } from 'ef-core/src/lib/utils/literals-mix.js'\nimport parseEft from 'eft-parser'\nimport { version } from '../package.json'\n// Import core components\nimport {\n\tcreate as createComponent,\n\tonNextRender,\n\tinform,\n\texec,\n\tbundle,\n\tisPaused,\n\tmountOptions\n} from 'ef-core'\n\n// Set parser\nlet parser = parseEft\n\nconst create = (value) => {\n\tconst valType = typeOf(value)\n\tif (valType === 'string') value = parse(value, parser)\n\telse if (valType !== 'array') throw new TypeError('Cannot create new component without proper template or AST!')\n\n\treturn createComponent(value)\n}\n\n// Change parser\nconst setParser = (newParser) => {\n\tparser = newParser\n}\n\nconst t = (...args) => create(mixStr(...args))\n\nexport {\n\tt,\n\tcreate,\n\tonNextRender,\n\tinform,\n\texec,\n\tbundle,\n\tisPaused,\n\tsetParser,\n\tparseEft,\n\tmountOptions,\n\tversion\n}\n\nif (process.env.NODE_ENV !== 'production') console.info('[EF]', `ef.js v${version} initialized!`)\n","import eftParser from 'eft-parser'\n\nconst parse = (template, parser) => {\n\tif (!parser) parser = eftParser\n\treturn parser(template)\n}\n\nexport default parse\n","(function (global, factory) {\n\ttypeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n\ttypeof define === 'function' && define.amd ? define(factory) :\n\t(global.page = factory());\n}(this, (function () { 'use strict';\n\nvar isarray = Array.isArray || function (arr) {\n  return Object.prototype.toString.call(arr) == '[object Array]';\n};\n\n/**\n * Expose `pathToRegexp`.\n */\nvar pathToRegexp_1 = pathToRegexp;\nvar parse_1 = parse;\nvar compile_1 = compile;\nvar tokensToFunction_1 = tokensToFunction;\nvar tokensToRegExp_1 = tokensToRegExp;\n\n/**\n * The main path matching regexp utility.\n *\n * @type {RegExp}\n */\nvar PATH_REGEXP = new RegExp([\n  // Match escaped characters that would otherwise appear in future matches.\n  // This allows the user to escape special characters that won't transform.\n  '(\\\\\\\\.)',\n  // Match Express-style parameters and un-named parameters with a prefix\n  // and optional suffixes. Matches appear as:\n  //\n  // \"/:test(\\\\d+)?\" => [\"/\", \"test\", \"\\d+\", undefined, \"?\", undefined]\n  // \"/route(\\\\d+)\"  => [undefined, undefined, undefined, \"\\d+\", undefined, undefined]\n  // \"/*\"            => [\"/\", undefined, undefined, undefined, undefined, \"*\"]\n  '([\\\\/.])?(?:(?:\\\\:(\\\\w+)(?:\\\\(((?:\\\\\\\\.|[^()])+)\\\\))?|\\\\(((?:\\\\\\\\.|[^()])+)\\\\))([+*?])?|(\\\\*))'\n].join('|'), 'g');\n\n/**\n * Parse a string for the raw tokens.\n *\n * @param  {String} str\n * @return {Array}\n */\nfunction parse (str) {\n  var tokens = [];\n  var key = 0;\n  var index = 0;\n  var path = '';\n  var res;\n\n  while ((res = PATH_REGEXP.exec(str)) != null) {\n    var m = res[0];\n    var escaped = res[1];\n    var offset = res.index;\n    path += str.slice(index, offset);\n    index = offset + m.length;\n\n    // Ignore already escaped sequences.\n    if (escaped) {\n      path += escaped[1];\n      continue\n    }\n\n    // Push the current path onto the tokens.\n    if (path) {\n      tokens.push(path);\n      path = '';\n    }\n\n    var prefix = res[2];\n    var name = res[3];\n    var capture = res[4];\n    var group = res[5];\n    var suffix = res[6];\n    var asterisk = res[7];\n\n    var repeat = suffix === '+' || suffix === '*';\n    var optional = suffix === '?' || suffix === '*';\n    var delimiter = prefix || '/';\n    var pattern = capture || group || (asterisk ? '.*' : '[^' + delimiter + ']+?');\n\n    tokens.push({\n      name: name || key++,\n      prefix: prefix || '',\n      delimiter: delimiter,\n      optional: optional,\n      repeat: repeat,\n      pattern: escapeGroup(pattern)\n    });\n  }\n\n  // Match any characters still remaining.\n  if (index < str.length) {\n    path += str.substr(index);\n  }\n\n  // If the path exists, push it onto the end.\n  if (path) {\n    tokens.push(path);\n  }\n\n  return tokens\n}\n\n/**\n * Compile a string to a template function for the path.\n *\n * @param  {String}   str\n * @return {Function}\n */\nfunction compile (str) {\n  return tokensToFunction(parse(str))\n}\n\n/**\n * Expose a method for transforming tokens into the path function.\n */\nfunction tokensToFunction (tokens) {\n  // Compile all the tokens into regexps.\n  var matches = new Array(tokens.length);\n\n  // Compile all the patterns before compilation.\n  for (var i = 0; i < tokens.length; i++) {\n    if (typeof tokens[i] === 'object') {\n      matches[i] = new RegExp('^' + tokens[i].pattern + '$');\n    }\n  }\n\n  return function (obj) {\n    var path = '';\n    var data = obj || {};\n\n    for (var i = 0; i < tokens.length; i++) {\n      var token = tokens[i];\n\n      if (typeof token === 'string') {\n        path += token;\n\n        continue\n      }\n\n      var value = data[token.name];\n      var segment;\n\n      if (value == null) {\n        if (token.optional) {\n          continue\n        } else {\n          throw new TypeError('Expected \"' + token.name + '\" to be defined')\n        }\n      }\n\n      if (isarray(value)) {\n        if (!token.repeat) {\n          throw new TypeError('Expected \"' + token.name + '\" to not repeat, but received \"' + value + '\"')\n        }\n\n        if (value.length === 0) {\n          if (token.optional) {\n            continue\n          } else {\n            throw new TypeError('Expected \"' + token.name + '\" to not be empty')\n          }\n        }\n\n        for (var j = 0; j < value.length; j++) {\n          segment = encodeURIComponent(value[j]);\n\n          if (!matches[i].test(segment)) {\n            throw new TypeError('Expected all \"' + token.name + '\" to match \"' + token.pattern + '\", but received \"' + segment + '\"')\n          }\n\n          path += (j === 0 ? token.prefix : token.delimiter) + segment;\n        }\n\n        continue\n      }\n\n      segment = encodeURIComponent(value);\n\n      if (!matches[i].test(segment)) {\n        throw new TypeError('Expected \"' + token.name + '\" to match \"' + token.pattern + '\", but received \"' + segment + '\"')\n      }\n\n      path += token.prefix + segment;\n    }\n\n    return path\n  }\n}\n\n/**\n * Escape a regular expression string.\n *\n * @param  {String} str\n * @return {String}\n */\nfunction escapeString (str) {\n  return str.replace(/([.+*?=^!:${}()[\\]|\\/])/g, '\\\\$1')\n}\n\n/**\n * Escape the capturing group by escaping special characters and meaning.\n *\n * @param  {String} group\n * @return {String}\n */\nfunction escapeGroup (group) {\n  return group.replace(/([=!:$\\/()])/g, '\\\\$1')\n}\n\n/**\n * Attach the keys as a property of the regexp.\n *\n * @param  {RegExp} re\n * @param  {Array}  keys\n * @return {RegExp}\n */\nfunction attachKeys (re, keys) {\n  re.keys = keys;\n  return re\n}\n\n/**\n * Get the flags for a regexp from the options.\n *\n * @param  {Object} options\n * @return {String}\n */\nfunction flags (options) {\n  return options.sensitive ? '' : 'i'\n}\n\n/**\n * Pull out keys from a regexp.\n *\n * @param  {RegExp} path\n * @param  {Array}  keys\n * @return {RegExp}\n */\nfunction regexpToRegexp (path, keys) {\n  // Use a negative lookahead to match only capturing groups.\n  var groups = path.source.match(/\\((?!\\?)/g);\n\n  if (groups) {\n    for (var i = 0; i < groups.length; i++) {\n      keys.push({\n        name: i,\n        prefix: null,\n        delimiter: null,\n        optional: false,\n        repeat: false,\n        pattern: null\n      });\n    }\n  }\n\n  return attachKeys(path, keys)\n}\n\n/**\n * Transform an array into a regexp.\n *\n * @param  {Array}  path\n * @param  {Array}  keys\n * @param  {Object} options\n * @return {RegExp}\n */\nfunction arrayToRegexp (path, keys, options) {\n  var parts = [];\n\n  for (var i = 0; i < path.length; i++) {\n    parts.push(pathToRegexp(path[i], keys, options).source);\n  }\n\n  var regexp = new RegExp('(?:' + parts.join('|') + ')', flags(options));\n\n  return attachKeys(regexp, keys)\n}\n\n/**\n * Create a path regexp from string input.\n *\n * @param  {String} path\n * @param  {Array}  keys\n * @param  {Object} options\n * @return {RegExp}\n */\nfunction stringToRegexp (path, keys, options) {\n  var tokens = parse(path);\n  var re = tokensToRegExp(tokens, options);\n\n  // Attach keys back to the regexp.\n  for (var i = 0; i < tokens.length; i++) {\n    if (typeof tokens[i] !== 'string') {\n      keys.push(tokens[i]);\n    }\n  }\n\n  return attachKeys(re, keys)\n}\n\n/**\n * Expose a function for taking tokens and returning a RegExp.\n *\n * @param  {Array}  tokens\n * @param  {Array}  keys\n * @param  {Object} options\n * @return {RegExp}\n */\nfunction tokensToRegExp (tokens, options) {\n  options = options || {};\n\n  var strict = options.strict;\n  var end = options.end !== false;\n  var route = '';\n  var lastToken = tokens[tokens.length - 1];\n  var endsWithSlash = typeof lastToken === 'string' && /\\/$/.test(lastToken);\n\n  // Iterate over the tokens and create our regexp string.\n  for (var i = 0; i < tokens.length; i++) {\n    var token = tokens[i];\n\n    if (typeof token === 'string') {\n      route += escapeString(token);\n    } else {\n      var prefix = escapeString(token.prefix);\n      var capture = token.pattern;\n\n      if (token.repeat) {\n        capture += '(?:' + prefix + capture + ')*';\n      }\n\n      if (token.optional) {\n        if (prefix) {\n          capture = '(?:' + prefix + '(' + capture + '))?';\n        } else {\n          capture = '(' + capture + ')?';\n        }\n      } else {\n        capture = prefix + '(' + capture + ')';\n      }\n\n      route += capture;\n    }\n  }\n\n  // In non-strict mode we allow a slash at the end of match. If the path to\n  // match already ends with a slash, we remove it for consistency. The slash\n  // is valid at the end of a path match, not in the middle. This is important\n  // in non-ending mode, where \"/test/\" shouldn't match \"/test//route\".\n  if (!strict) {\n    route = (endsWithSlash ? route.slice(0, -2) : route) + '(?:\\\\/(?=$))?';\n  }\n\n  if (end) {\n    route += '$';\n  } else {\n    // In non-ending mode, we need the capturing groups to match as much as\n    // possible by using a positive lookahead to the end or next path segment.\n    route += strict && endsWithSlash ? '' : '(?=\\\\/|$)';\n  }\n\n  return new RegExp('^' + route, flags(options))\n}\n\n/**\n * Normalize the given path string, returning a regular expression.\n *\n * An empty array can be passed in for the keys, which will hold the\n * placeholder key descriptions. For example, using `/user/:id`, `keys` will\n * contain `[{ name: 'id', delimiter: '/', optional: false, repeat: false }]`.\n *\n * @param  {(String|RegExp|Array)} path\n * @param  {Array}                 [keys]\n * @param  {Object}                [options]\n * @return {RegExp}\n */\nfunction pathToRegexp (path, keys, options) {\n  keys = keys || [];\n\n  if (!isarray(keys)) {\n    options = keys;\n    keys = [];\n  } else if (!options) {\n    options = {};\n  }\n\n  if (path instanceof RegExp) {\n    return regexpToRegexp(path, keys, options)\n  }\n\n  if (isarray(path)) {\n    return arrayToRegexp(path, keys, options)\n  }\n\n  return stringToRegexp(path, keys, options)\n}\n\npathToRegexp_1.parse = parse_1;\npathToRegexp_1.compile = compile_1;\npathToRegexp_1.tokensToFunction = tokensToFunction_1;\npathToRegexp_1.tokensToRegExp = tokensToRegExp_1;\n\n/**\n   * Module dependencies.\n   */\n\n  \n\n  /**\n   * Module exports.\n   */\n\n  var page_js = page;\n  page.default = page;\n  page.Context = Context;\n  page.Route = Route;\n  page.sameOrigin = sameOrigin;\n\n  /**\n   * Short-cuts for global-object checks\n   */\n\n  var hasDocument = ('undefined' !== typeof document);\n  var hasWindow = ('undefined' !== typeof window);\n  var hasHistory = ('undefined' !== typeof history);\n  var hasProcess = typeof process !== 'undefined';\n\n  /**\n   * Detect click event\n   */\n  var clickEvent = hasDocument && document.ontouchstart ? 'touchstart' : 'click';\n\n  /**\n   * To work properly with the URL\n   * history.location generated polyfill in https://github.com/devote/HTML5-History-API\n   */\n\n  var isLocation = hasWindow && !!(window.history.location || window.location);\n\n  /**\n   * Perform initial dispatch.\n   */\n\n  var dispatch = true;\n\n\n  /**\n   * Decode URL components (query string, pathname, hash).\n   * Accommodates both regular percent encoding and x-www-form-urlencoded format.\n   */\n  var decodeURLComponents = true;\n\n  /**\n   * Base path.\n   */\n\n  var base = '';\n\n  /**\n   * Strict path matching.\n   */\n\n  var strict = false;\n\n  /**\n   * Running flag.\n   */\n\n  var running;\n\n  /**\n   * HashBang option\n   */\n\n  var hashbang = false;\n\n  /**\n   * Previous context, for capturing\n   * page exit events.\n   */\n\n  var prevContext;\n\n  /**\n   * The window for which this `page` is running\n   */\n  var pageWindow;\n\n  /**\n   * Register `path` with callback `fn()`,\n   * or route `path`, or redirection,\n   * or `page.start()`.\n   *\n   *   page(fn);\n   *   page('*', fn);\n   *   page('/user/:id', load, user);\n   *   page('/user/' + user.id, { some: 'thing' });\n   *   page('/user/' + user.id);\n   *   page('/from', '/to')\n   *   page();\n   *\n   * @param {string|!Function|!Object} path\n   * @param {Function=} fn\n   * @api public\n   */\n\n  function page(path, fn) {\n    // <callback>\n    if ('function' === typeof path) {\n      return page('*', path);\n    }\n\n    // route <path> to <callback ...>\n    if ('function' === typeof fn) {\n      var route = new Route(/** @type {string} */ (path));\n      for (var i = 1; i < arguments.length; ++i) {\n        page.callbacks.push(route.middleware(arguments[i]));\n      }\n      // show <path> with [state]\n    } else if ('string' === typeof path) {\n      page['string' === typeof fn ? 'redirect' : 'show'](path, fn);\n      // start [options]\n    } else {\n      page.start(path);\n    }\n  }\n\n  /**\n   * Callback functions.\n   */\n\n  page.callbacks = [];\n  page.exits = [];\n\n  /**\n   * Current path being processed\n   * @type {string}\n   */\n  page.current = '';\n\n  /**\n   * Number of pages navigated to.\n   * @type {number}\n   *\n   *     page.len == 0;\n   *     page('/login');\n   *     page.len == 1;\n   */\n\n  page.len = 0;\n\n  /**\n   * Get or set basepath to `path`.\n   *\n   * @param {string} path\n   * @api public\n   */\n\n  page.base = function(path) {\n    if (0 === arguments.length) return base;\n    base = path;\n  };\n\n  /**\n   * Get or set strict path matching to `enable`\n   *\n   * @param {boolean} enable\n   * @api public\n   */\n\n  page.strict = function(enable) {\n    if (0 === arguments.length) return strict;\n    strict = enable;\n  };\n\n  /**\n   * Bind with the given `options`.\n   *\n   * Options:\n   *\n   *    - `click` bind to click events [true]\n   *    - `popstate` bind to popstate [true]\n   *    - `dispatch` perform initial dispatch [true]\n   *\n   * @param {Object} options\n   * @api public\n   */\n\n  page.start = function(options) {\n    options = options || {};\n    if (running) return;\n    running = true;\n    pageWindow = options.window || (hasWindow && window);\n    if (false === options.dispatch) dispatch = false;\n    if (false === options.decodeURLComponents) decodeURLComponents = false;\n    if (false !== options.popstate && hasWindow) pageWindow.addEventListener('popstate', onpopstate, false);\n    if (false !== options.click && hasDocument) {\n      pageWindow.document.addEventListener(clickEvent, onclick, false);\n    }\n    hashbang = !!options.hashbang;\n    if(hashbang && hasWindow && !hasHistory) {\n      pageWindow.addEventListener('hashchange', onpopstate, false);\n    }\n    if (!dispatch) return;\n\n    var url;\n    if(isLocation) {\n      var loc = pageWindow.location;\n\n      if(hashbang && ~loc.hash.indexOf('#!')) {\n        url = loc.hash.substr(2) + loc.search;\n      } else if (hashbang) {\n        url = loc.search + loc.hash;\n      } else {\n        url = loc.pathname + loc.search + loc.hash;\n      }\n    }\n\n    page.replace(url, null, true, dispatch);\n  };\n\n  /**\n   * Unbind click and popstate event handlers.\n   *\n   * @api public\n   */\n\n  page.stop = function() {\n    if (!running) return;\n    page.current = '';\n    page.len = 0;\n    running = false;\n    hasDocument && pageWindow.document.removeEventListener(clickEvent, onclick, false);\n    hasWindow && pageWindow.removeEventListener('popstate', onpopstate, false);\n    hasWindow && pageWindow.removeEventListener('hashchange', onpopstate, false);\n  };\n\n  /**\n   * Show `path` with optional `state` object.\n   *\n   * @param {string} path\n   * @param {Object=} state\n   * @param {boolean=} dispatch\n   * @param {boolean=} push\n   * @return {!Context}\n   * @api public\n   */\n\n  page.show = function(path, state, dispatch, push) {\n    var ctx = new Context(path, state),\n      prev = prevContext;\n    prevContext = ctx;\n    page.current = ctx.path;\n    if (false !== dispatch) page.dispatch(ctx, prev);\n    if (false !== ctx.handled && false !== push) ctx.pushState();\n    return ctx;\n  };\n\n  /**\n   * Goes back in the history\n   * Back should always let the current route push state and then go back.\n   *\n   * @param {string} path - fallback path to go back if no more history exists, if undefined defaults to page.base\n   * @param {Object=} state\n   * @api public\n   */\n\n  page.back = function(path, state) {\n    if (page.len > 0) {\n      // this may need more testing to see if all browsers\n      // wait for the next tick to go back in history\n      hasHistory && pageWindow.history.back();\n      page.len--;\n    } else if (path) {\n      setTimeout(function() {\n        page.show(path, state);\n      });\n    }else{\n      setTimeout(function() {\n        page.show(getBase(), state);\n      });\n    }\n  };\n\n\n  /**\n   * Register route to redirect from one path to other\n   * or just redirect to another route\n   *\n   * @param {string} from - if param 'to' is undefined redirects to 'from'\n   * @param {string=} to\n   * @api public\n   */\n  page.redirect = function(from, to) {\n    // Define route from a path to another\n    if ('string' === typeof from && 'string' === typeof to) {\n      page(from, function(e) {\n        setTimeout(function() {\n          page.replace(/** @type {!string} */ (to));\n        }, 0);\n      });\n    }\n\n    // Wait for the push state and replace it with another\n    if ('string' === typeof from && 'undefined' === typeof to) {\n      setTimeout(function() {\n        page.replace(from);\n      }, 0);\n    }\n  };\n\n  /**\n   * Replace `path` with optional `state` object.\n   *\n   * @param {string} path\n   * @param {Object=} state\n   * @param {boolean=} init\n   * @param {boolean=} dispatch\n   * @return {!Context}\n   * @api public\n   */\n\n\n  page.replace = function(path, state, init, dispatch) {\n    var ctx = new Context(path, state),\n      prev = prevContext;\n    prevContext = ctx;\n    page.current = ctx.path;\n    ctx.init = init;\n    ctx.save(); // save before dispatching, which may redirect\n    if (false !== dispatch) page.dispatch(ctx, prev);\n    return ctx;\n  };\n\n  /**\n   * Dispatch the given `ctx`.\n   *\n   * @param {Context} ctx\n   * @api private\n   */\n\n  page.dispatch = function(ctx, prev) {\n    var i = 0,\n      j = 0;\n\n    function nextExit() {\n      var fn = page.exits[j++];\n      if (!fn) return nextEnter();\n      fn(prev, nextExit);\n    }\n\n    function nextEnter() {\n      var fn = page.callbacks[i++];\n\n      if (ctx.path !== page.current) {\n        ctx.handled = false;\n        return;\n      }\n      if (!fn) return unhandled(ctx);\n      fn(ctx, nextEnter);\n    }\n\n    if (prev) {\n      nextExit();\n    } else {\n      nextEnter();\n    }\n  };\n\n  /**\n   * Unhandled `ctx`. When it's not the initial\n   * popstate then redirect. If you wish to handle\n   * 404s on your own use `page('*', callback)`.\n   *\n   * @param {Context} ctx\n   * @api private\n   */\n  function unhandled(ctx) {\n    if (ctx.handled) return;\n    var current;\n\n    if (hashbang) {\n      current = isLocation && getBase() + pageWindow.location.hash.replace('#!', '');\n    } else {\n      current = isLocation && pageWindow.location.pathname + pageWindow.location.search;\n    }\n\n    if (current === ctx.canonicalPath) return;\n    page.stop();\n    ctx.handled = false;\n    isLocation && (pageWindow.location.href = ctx.canonicalPath);\n  }\n\n  /**\n   * Register an exit route on `path` with\n   * callback `fn()`, which will be called\n   * on the previous context when a new\n   * page is visited.\n   */\n  page.exit = function(path, fn) {\n    if (typeof path === 'function') {\n      return page.exit('*', path);\n    }\n\n    var route = new Route(path);\n    for (var i = 1; i < arguments.length; ++i) {\n      page.exits.push(route.middleware(arguments[i]));\n    }\n  };\n\n  /**\n   * Remove URL encoding from the given `str`.\n   * Accommodates whitespace in both x-www-form-urlencoded\n   * and regular percent-encoded form.\n   *\n   * @param {string} val - URL component to decode\n   */\n  function decodeURLEncodedURIComponent(val) {\n    if (typeof val !== 'string') { return val; }\n    return decodeURLComponents ? decodeURIComponent(val.replace(/\\+/g, ' ')) : val;\n  }\n\n  /**\n   * Initialize a new \"request\" `Context`\n   * with the given `path` and optional initial `state`.\n   *\n   * @constructor\n   * @param {string} path\n   * @param {Object=} state\n   * @api public\n   */\n\n  function Context(path, state) {\n    var pageBase = getBase();\n    if ('/' === path[0] && 0 !== path.indexOf(pageBase)) path = pageBase + (hashbang ? '#!' : '') + path;\n    var i = path.indexOf('?');\n\n    this.canonicalPath = path;\n    this.path = path.replace(pageBase, '') || '/';\n    if (hashbang) this.path = this.path.replace('#!', '') || '/';\n\n    this.title = (hasDocument && pageWindow.document.title);\n    this.state = state || {};\n    this.state.path = path;\n    this.querystring = ~i ? decodeURLEncodedURIComponent(path.slice(i + 1)) : '';\n    this.pathname = decodeURLEncodedURIComponent(~i ? path.slice(0, i) : path);\n    this.params = {};\n\n    // fragment\n    this.hash = '';\n    if (!hashbang) {\n      if (!~this.path.indexOf('#')) return;\n      var parts = this.path.split('#');\n      this.path = this.pathname = parts[0];\n      this.hash = decodeURLEncodedURIComponent(parts[1]) || '';\n      this.querystring = this.querystring.split('#')[0];\n    }\n  }\n\n  /**\n   * Expose `Context`.\n   */\n\n  page.Context = Context;\n\n  /**\n   * Push state.\n   *\n   * @api private\n   */\n\n  Context.prototype.pushState = function() {\n    page.len++;\n    if (hasHistory) {\n        pageWindow.history.pushState(this.state, this.title,\n          hashbang && this.path !== '/' ? '#!' + this.path : this.canonicalPath);\n    }\n  };\n\n  /**\n   * Save the context state.\n   *\n   * @api public\n   */\n\n  Context.prototype.save = function() {\n    if (hasHistory && pageWindow.location.protocol !== 'file:') {\n        pageWindow.history.replaceState(this.state, this.title,\n          hashbang && this.path !== '/' ? '#!' + this.path : this.canonicalPath);\n    }\n  };\n\n  /**\n   * Initialize `Route` with the given HTTP `path`,\n   * and an array of `callbacks` and `options`.\n   *\n   * Options:\n   *\n   *   - `sensitive`    enable case-sensitive routes\n   *   - `strict`       enable strict matching for trailing slashes\n   *\n   * @constructor\n   * @param {string} path\n   * @param {Object=} options\n   * @api private\n   */\n\n  function Route(path, options) {\n    options = options || {};\n    options.strict = options.strict || strict;\n    this.path = (path === '*') ? '(.*)' : path;\n    this.method = 'GET';\n    this.regexp = pathToRegexp_1(this.path,\n      this.keys = [],\n      options);\n  }\n\n  /**\n   * Expose `Route`.\n   */\n\n  page.Route = Route;\n\n  /**\n   * Return route middleware with\n   * the given callback `fn()`.\n   *\n   * @param {Function} fn\n   * @return {Function}\n   * @api public\n   */\n\n  Route.prototype.middleware = function(fn) {\n    var self = this;\n    return function(ctx, next) {\n      if (self.match(ctx.path, ctx.params)) return fn(ctx, next);\n      next();\n    };\n  };\n\n  /**\n   * Check if this route matches `path`, if so\n   * populate `params`.\n   *\n   * @param {string} path\n   * @param {Object} params\n   * @return {boolean}\n   * @api private\n   */\n\n  Route.prototype.match = function(path, params) {\n    var keys = this.keys,\n      qsIndex = path.indexOf('?'),\n      pathname = ~qsIndex ? path.slice(0, qsIndex) : path,\n      m = this.regexp.exec(decodeURIComponent(pathname));\n\n    if (!m) return false;\n\n    for (var i = 1, len = m.length; i < len; ++i) {\n      var key = keys[i - 1];\n      var val = decodeURLEncodedURIComponent(m[i]);\n      if (val !== undefined || !(hasOwnProperty.call(params, key.name))) {\n        params[key.name] = val;\n      }\n    }\n\n    return true;\n  };\n\n\n  /**\n   * Handle \"populate\" events.\n   */\n\n  var onpopstate = (function () {\n    var loaded = false;\n    if ( ! hasWindow ) {\n      return;\n    }\n    if (hasDocument && document.readyState === 'complete') {\n      loaded = true;\n    } else {\n      window.addEventListener('load', function() {\n        setTimeout(function() {\n          loaded = true;\n        }, 0);\n      });\n    }\n    return function onpopstate(e) {\n      if (!loaded) return;\n      if (e.state) {\n        var path = e.state.path;\n        page.replace(path, e.state);\n      } else if (isLocation) {\n        var loc = pageWindow.location;\n        page.show(loc.pathname + loc.hash, undefined, undefined, false);\n      }\n    };\n  })();\n  /**\n   * Handle \"click\" events.\n   */\n\n  /* jshint +W054 */\n  function onclick(e) {\n    if (1 !== which(e)) return;\n\n    if (e.metaKey || e.ctrlKey || e.shiftKey) return;\n    if (e.defaultPrevented) return;\n\n    // ensure link\n    // use shadow dom when available if not, fall back to composedPath() for browsers that only have shady\n    var el = e.target;\n    var eventPath = e.path || (e.composedPath ? e.composedPath() : null);\n\n    if(eventPath) {\n      for (var i = 0; i < eventPath.length; i++) {\n        if (!eventPath[i].nodeName) continue;\n        if (eventPath[i].nodeName.toUpperCase() !== 'A') continue;\n        if (!eventPath[i].href) continue;\n\n        el = eventPath[i];\n        break;\n      }\n    }\n    // continue ensure link\n    // el.nodeName for svg links are 'a' instead of 'A'\n    while (el && 'A' !== el.nodeName.toUpperCase()) el = el.parentNode;\n    if (!el || 'A' !== el.nodeName.toUpperCase()) return;\n\n    // check if link is inside an svg\n    // in this case, both href and target are always inside an object\n    var svg = (typeof el.href === 'object') && el.href.constructor.name === 'SVGAnimatedString';\n\n    // Ignore if tag has\n    // 1. \"download\" attribute\n    // 2. rel=\"external\" attribute\n    if (el.hasAttribute('download') || el.getAttribute('rel') === 'external') return;\n\n    // ensure non-hash for the same path\n    var link = el.getAttribute('href');\n    if(!hashbang && samePath(el) && (el.hash || '#' === link)) return;\n\n    // Check for mailto: in the href\n    if (link && link.indexOf('mailto:') > -1) return;\n\n    // check target\n    // svg target is an object and its desired value is in .baseVal property\n    if (svg ? el.target.baseVal : el.target) return;\n\n    // x-origin\n    // note: svg links that are not relative don't call click events (and skip page.js)\n    // consequently, all svg links tested inside page.js are relative and in the same origin\n    if (!svg && !sameOrigin(el.href)) return;\n\n    // rebuild path\n    // There aren't .pathname and .search properties in svg links, so we use href\n    // Also, svg href is an object and its desired value is in .baseVal property\n    var path = svg ? el.href.baseVal : (el.pathname + el.search + (el.hash || ''));\n\n    path = path[0] !== '/' ? '/' + path : path;\n\n    // strip leading \"/[drive letter]:\" on NW.js on Windows\n    if (hasProcess && path.match(/^\\/[a-zA-Z]:\\//)) {\n      path = path.replace(/^\\/[a-zA-Z]:\\//, '/');\n    }\n\n    // same page\n    var orig = path;\n    var pageBase = getBase();\n\n    if (path.indexOf(pageBase) === 0) {\n      path = path.substr(base.length);\n    }\n\n    if (hashbang) path = path.replace('#!', '');\n\n    if (pageBase && orig === path) return;\n\n    e.preventDefault();\n    page.show(orig);\n  }\n\n  /**\n   * Event button.\n   */\n\n  function which(e) {\n    e = e || (hasWindow && window.event);\n    return null == e.which ? e.button : e.which;\n  }\n\n  /**\n   * Convert to a URL object\n   */\n  function toURL(href) {\n    if(typeof URL === 'function' && isLocation) {\n      return new URL(href, location.toString());\n    } else if (hasDocument) {\n      var anc = document.createElement('a');\n      anc.href = href;\n      return anc;\n    }\n  }\n\n  /**\n   * Check if `href` is the same origin.\n   */\n\n  function sameOrigin(href) {\n    if(!href || !isLocation) return false;\n    var url = toURL(href);\n\n    var loc = pageWindow.location;\n    return loc.protocol === url.protocol &&\n      loc.hostname === url.hostname &&\n      loc.port === url.port;\n  }\n\n  function samePath(url) {\n    if(!isLocation) return false;\n    var loc = pageWindow.location;\n    return url.pathname === loc.pathname &&\n      url.search === loc.search;\n  }\n\n  /**\n   * Gets the `base`, which depends on whether we are using History or\n   * hashbang routing.\n   */\n  function getBase() {\n    if(!!base) return base;\n    var loc = hasWindow && pageWindow && pageWindow.location;\n    return (hasWindow && hashbang && loc && loc.protocol === 'file:') ? loc.pathname : base;\n  }\n\n  page.sameOrigin = sameOrigin;\n\nreturn page_js;\n\n})));\n","import {inform, exec} from 'ef.js'\n\ninform()\n\nconst fns = []\nconst asyncFns = []\n\nlet domLoaded = false\n\nconst exeAsync = fn => setTimeout(fn, 0)\n\nconst domReady = (fn, _async = false) => {\n\tif (typeof fn !== 'function') return\n\tif (domLoaded) {\n\t\tif (_async) exeAsync(fn)\n\t\telse fn()\n\t\treturn\n\t}\n\tif (_async) asyncFns.push(fn)\n\telse fns.push(fn)\n}\n\nconst init = () => {\n\tfor (let i of fns) i()\n\texec()\n}\n\nconst initAsync = () => {\n\tdocument.removeEventListener('DOMContentLoaded', initAsync, false)\n\tdomLoaded = true\n\tasyncFns.push(init)\n\tinform()\n\tfor (let i of asyncFns) exeAsync(i)\n\texec()\n}\n\ndocument.addEventListener('DOMContentLoaded', initAsync, false)\nif (document.readyState === \"interactive\" || document.readyState === \"complete\") initAsync()\n\nexport default domReady\n","function styleInject(css, ref) {\n  if ( ref === void 0 ) ref = {};\n  var insertAt = ref.insertAt;\n\n  if (!css || typeof document === 'undefined') { return; }\n\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nexport default styleInject;\n","const r = Math.random\n\nconst draw = ({ctx, w, h}) => {\n\tconst startX = r() * w,\n\t\tstartY = r() * h,\n\t\tsize = r() * 120\n\tctx.beginPath()\n\tctx.moveTo(startX, startY - size)\n\tctx.lineTo(startX + size, startY)\n\tctx.lineTo(startX, startY + size)\n\tctx.lineTo(startX - size, startY)\n\tctx.closePath()\n\tctx.stroke()\n}\n\nconst genBg = (cb) => {\n\tconst c = document.createElement('canvas'),\n\t\tw = window.innerWidth,\n\t\th = window.innerHeight,\n\t\tpr = window.devicePixelRatio || 1,\n\t\tds = 42 / 1280 / 720 * w * h\n\tc.width = w * pr\n\tc.height = h * pr\n\tif (!c.toBlob) {\n\t\tc.toBlob = (cb) => {\n\t\t\tconst dataURI = c.toDataURL(),\n\t\t\t\tbinary = atob(dataURI.split(',')[1]),\n\t\t\t\tmime = dataURI.split(',')[0].split(':')[1].split(';')[0]\n\t\t\tlet arr = []\n\n\t\t\tfor (let i = 0; i < binary.length; i++) arr.push(binary.charCodeAt(i))\n\t\t\tcb(new Blob([new Uint8Array(arr)], {type: mime}))\n\t\t}\n\t}\n\n\tconst ctx = c.getContext('2d')\n\tctx.globalAlpha = 0.4\n\tctx.scale(pr, pr)\n\tctx.strokeStyle = '#FFB200'\n\n\tfor (let i = 0; i < ds; i++) draw({ctx, w, h})\n\n\tc.toBlob(blob => cb(URL.createObjectURL(blob)))\n}\n\nexport default genBg\n","// Import style\nimport classes from '../styles/header.css'\nimport shared from '../styles/shared.css'\n// Import template\nimport _header from '../templates/header.eft'\n\nconst header = new _header({\n\t$data: {\n\t\tclass: classes\n\t},\n\t$methods: {\n\t\trecover({state}) {\n\t\t\tstate.$data.class.logoHidden = ''\n\t\t}\n\t}\n})\n\nheader.$data.class = {\n\texamples: classes.link,\n\tapi: classes.link,\n\tguide: classes.link,\n\thome: classes.link\n}\n\nheader.$data.class = shared\n\nexport default header\n","// Import style\nimport classes from '../styles/footer.css'\n// Import template\nimport _footer from '../templates/footer.eft'\n\nconst footer = new _footer({\n\t$data: {\n\t\tclass: classes,\n\t\tyear: (new Date()).getFullYear()\n\t}\n})\n\nexport default footer\n","// Import utils\nimport genBg from './utils/bg-gen.js'\n// Import style\nimport classes from '../styles/mainbody.css'\nimport shared from '../styles/shared.css'\n// Import template\nimport _mainbody from '../templates/mainbody.eft'\n// Import components\nimport header from './header.js'\nimport footer from './footer.js'\n\nconst mainbody = new _mainbody({\n\t$data: {\n\t\tclass: classes\n\t},\n\theader,\n\tfooter\n})\n\nmainbody.$data.class = shared\n\nconst updateBg = (url) => {\n\tmainbody.$data.style = `background-image: url(${url})`\n}\nconst getBg = () => genBg(updateBg)\n\ngetBg()\n\nexport { mainbody, getBg }\n","// Import style\nimport sharedClasses from '../styles/shared.css'\nimport classes from '../styles/404.css'\n// Import template\nimport _notfound from '../templates/404.eft'\n\nconst getNotfound = () => {\n\tconst notfound = new _notfound({\n\t\t$data: {\n\t\t\tclass: sharedClasses\n\t\t},\n\t\t$methods: {\n\t\t\trecover() {\n\t\t\t\tnotfound.$data.class.logoHidden = classes.hidden\n\t\t\t}\n\t\t}\n\t})\n\n\tnotfound.$data.class = classes\n\treturn notfound\n}\n\nexport default getNotfound\n","\n/* **********************************************\n     Begin prism-core.js\n********************************************** */\n\nvar _self = (typeof window !== 'undefined')\n\t? window   // if in browser\n\t: (\n\t\t(typeof WorkerGlobalScope !== 'undefined' && self instanceof WorkerGlobalScope)\n\t\t? self // if in worker\n\t\t: {}   // if in node js\n\t);\n\n/**\n * Prism: Lightweight, robust, elegant syntax highlighting\n * MIT license http://www.opensource.org/licenses/mit-license.php/\n * @author Lea Verou http://lea.verou.me\n */\n\nvar Prism = (function(){\n\n// Private helper vars\nvar lang = /\\blang(?:uage)?-([\\w-]+)\\b/i;\nvar uniqueId = 0;\n\nvar _ = _self.Prism = {\n\tmanual: _self.Prism && _self.Prism.manual,\n\tdisableWorkerMessageHandler: _self.Prism && _self.Prism.disableWorkerMessageHandler,\n\tutil: {\n\t\tencode: function (tokens) {\n\t\t\tif (tokens instanceof Token) {\n\t\t\t\treturn new Token(tokens.type, _.util.encode(tokens.content), tokens.alias);\n\t\t\t} else if (_.util.type(tokens) === 'Array') {\n\t\t\t\treturn tokens.map(_.util.encode);\n\t\t\t} else {\n\t\t\t\treturn tokens.replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/\\u00a0/g, ' ');\n\t\t\t}\n\t\t},\n\n\t\ttype: function (o) {\n\t\t\treturn Object.prototype.toString.call(o).match(/\\[object (\\w+)\\]/)[1];\n\t\t},\n\n\t\tobjId: function (obj) {\n\t\t\tif (!obj['__id']) {\n\t\t\t\tObject.defineProperty(obj, '__id', { value: ++uniqueId });\n\t\t\t}\n\t\t\treturn obj['__id'];\n\t\t},\n\n\t\t// Deep clone a language definition (e.g. to extend it)\n\t\tclone: function (o, visited) {\n\t\t\tvar type = _.util.type(o);\n\t\t\tvisited = visited || {};\n\n\t\t\tswitch (type) {\n\t\t\t\tcase 'Object':\n\t\t\t\t\tif (visited[_.util.objId(o)]) {\n\t\t\t\t\t\treturn visited[_.util.objId(o)];\n\t\t\t\t\t}\n\t\t\t\t\tvar clone = {};\n\t\t\t\t\tvisited[_.util.objId(o)] = clone;\n\n\t\t\t\t\tfor (var key in o) {\n\t\t\t\t\t\tif (o.hasOwnProperty(key)) {\n\t\t\t\t\t\t\tclone[key] = _.util.clone(o[key], visited);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\treturn clone;\n\n\t\t\t\tcase 'Array':\n\t\t\t\t\tif (visited[_.util.objId(o)]) {\n\t\t\t\t\t\treturn visited[_.util.objId(o)];\n\t\t\t\t\t}\n\t\t\t\t\tvar clone = [];\n\t\t\t\t\tvisited[_.util.objId(o)] = clone;\n\n\t\t\t\t\to.forEach(function (v, i) {\n\t\t\t\t\t\tclone[i] = _.util.clone(v, visited);\n\t\t\t\t\t});\n\n\t\t\t\t\treturn clone;\n\t\t\t}\n\n\t\t\treturn o;\n\t\t}\n\t},\n\n\tlanguages: {\n\t\textend: function (id, redef) {\n\t\t\tvar lang = _.util.clone(_.languages[id]);\n\n\t\t\tfor (var key in redef) {\n\t\t\t\tlang[key] = redef[key];\n\t\t\t}\n\n\t\t\treturn lang;\n\t\t},\n\n\t\t/**\n\t\t * Insert a token before another token in a language literal\n\t\t * As this needs to recreate the object (we cannot actually insert before keys in object literals),\n\t\t * we cannot just provide an object, we need anobject and a key.\n\t\t * @param inside The key (or language id) of the parent\n\t\t * @param before The key to insert before. If not provided, the function appends instead.\n\t\t * @param insert Object with the key/value pairs to insert\n\t\t * @param root The object that contains `inside`. If equal to Prism.languages, it can be omitted.\n\t\t */\n\t\tinsertBefore: function (inside, before, insert, root) {\n\t\t\troot = root || _.languages;\n\t\t\tvar grammar = root[inside];\n\n\t\t\tif (arguments.length == 2) {\n\t\t\t\tinsert = arguments[1];\n\n\t\t\t\tfor (var newToken in insert) {\n\t\t\t\t\tif (insert.hasOwnProperty(newToken)) {\n\t\t\t\t\t\tgrammar[newToken] = insert[newToken];\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn grammar;\n\t\t\t}\n\n\t\t\tvar ret = {};\n\n\t\t\tfor (var token in grammar) {\n\n\t\t\t\tif (grammar.hasOwnProperty(token)) {\n\n\t\t\t\t\tif (token == before) {\n\n\t\t\t\t\t\tfor (var newToken in insert) {\n\n\t\t\t\t\t\t\tif (insert.hasOwnProperty(newToken)) {\n\t\t\t\t\t\t\t\tret[newToken] = insert[newToken];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tret[token] = grammar[token];\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Update references in other language definitions\n\t\t\t_.languages.DFS(_.languages, function(key, value) {\n\t\t\t\tif (value === root[inside] && key != inside) {\n\t\t\t\t\tthis[key] = ret;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\treturn root[inside] = ret;\n\t\t},\n\n\t\t// Traverse a language definition with Depth First Search\n\t\tDFS: function(o, callback, type, visited) {\n\t\t\tvisited = visited || {};\n\t\t\tfor (var i in o) {\n\t\t\t\tif (o.hasOwnProperty(i)) {\n\t\t\t\t\tcallback.call(o, i, o[i], type || i);\n\n\t\t\t\t\tif (_.util.type(o[i]) === 'Object' && !visited[_.util.objId(o[i])]) {\n\t\t\t\t\t\tvisited[_.util.objId(o[i])] = true;\n\t\t\t\t\t\t_.languages.DFS(o[i], callback, null, visited);\n\t\t\t\t\t}\n\t\t\t\t\telse if (_.util.type(o[i]) === 'Array' && !visited[_.util.objId(o[i])]) {\n\t\t\t\t\t\tvisited[_.util.objId(o[i])] = true;\n\t\t\t\t\t\t_.languages.DFS(o[i], callback, i, visited);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\tplugins: {},\n\n\thighlightAll: function(async, callback) {\n\t\t_.highlightAllUnder(document, async, callback);\n\t},\n\n\thighlightAllUnder: function(container, async, callback) {\n\t\tvar env = {\n\t\t\tcallback: callback,\n\t\t\tselector: 'code[class*=\"language-\"], [class*=\"language-\"] code, code[class*=\"lang-\"], [class*=\"lang-\"] code'\n\t\t};\n\n\t\t_.hooks.run(\"before-highlightall\", env);\n\n\t\tvar elements = env.elements || container.querySelectorAll(env.selector);\n\n\t\tfor (var i=0, element; element = elements[i++];) {\n\t\t\t_.highlightElement(element, async === true, env.callback);\n\t\t}\n\t},\n\n\thighlightElement: function(element, async, callback) {\n\t\t// Find language\n\t\tvar language, grammar, parent = element;\n\n\t\twhile (parent && !lang.test(parent.className)) {\n\t\t\tparent = parent.parentNode;\n\t\t}\n\n\t\tif (parent) {\n\t\t\tlanguage = (parent.className.match(lang) || [,''])[1].toLowerCase();\n\t\t\tgrammar = _.languages[language];\n\t\t}\n\n\t\t// Set language on the element, if not present\n\t\telement.className = element.className.replace(lang, '').replace(/\\s+/g, ' ') + ' language-' + language;\n\n\t\tif (element.parentNode) {\n\t\t\t// Set language on the parent, for styling\n\t\t\tparent = element.parentNode;\n\n\t\t\tif (/pre/i.test(parent.nodeName)) {\n\t\t\t\tparent.className = parent.className.replace(lang, '').replace(/\\s+/g, ' ') + ' language-' + language;\n\t\t\t}\n\t\t}\n\n\t\tvar code = element.textContent;\n\n\t\tvar env = {\n\t\t\telement: element,\n\t\t\tlanguage: language,\n\t\t\tgrammar: grammar,\n\t\t\tcode: code\n\t\t};\n\n\t\t_.hooks.run('before-sanity-check', env);\n\n\t\tif (!env.code || !env.grammar) {\n\t\t\tif (env.code) {\n\t\t\t\t_.hooks.run('before-highlight', env);\n\t\t\t\tenv.element.textContent = env.code;\n\t\t\t\t_.hooks.run('after-highlight', env);\n\t\t\t}\n\t\t\t_.hooks.run('complete', env);\n\t\t\treturn;\n\t\t}\n\n\t\t_.hooks.run('before-highlight', env);\n\n\t\tif (async && _self.Worker) {\n\t\t\tvar worker = new Worker(_.filename);\n\n\t\t\tworker.onmessage = function(evt) {\n\t\t\t\tenv.highlightedCode = evt.data;\n\n\t\t\t\t_.hooks.run('before-insert', env);\n\n\t\t\t\tenv.element.innerHTML = env.highlightedCode;\n\n\t\t\t\tcallback && callback.call(env.element);\n\t\t\t\t_.hooks.run('after-highlight', env);\n\t\t\t\t_.hooks.run('complete', env);\n\t\t\t};\n\n\t\t\tworker.postMessage(JSON.stringify({\n\t\t\t\tlanguage: env.language,\n\t\t\t\tcode: env.code,\n\t\t\t\timmediateClose: true\n\t\t\t}));\n\t\t}\n\t\telse {\n\t\t\tenv.highlightedCode = _.highlight(env.code, env.grammar, env.language);\n\n\t\t\t_.hooks.run('before-insert', env);\n\n\t\t\tenv.element.innerHTML = env.highlightedCode;\n\n\t\t\tcallback && callback.call(element);\n\n\t\t\t_.hooks.run('after-highlight', env);\n\t\t\t_.hooks.run('complete', env);\n\t\t}\n\t},\n\n\thighlight: function (text, grammar, language) {\n\t\tvar env = {\n\t\t\tcode: text,\n\t\t\tgrammar: grammar,\n\t\t\tlanguage: language\n\t\t};\n\t\t_.hooks.run('before-tokenize', env);\n\t\tenv.tokens = _.tokenize(env.code, env.grammar);\n\t\t_.hooks.run('after-tokenize', env);\n\t\treturn Token.stringify(_.util.encode(env.tokens), env.language);\n\t},\n\n\tmatchGrammar: function (text, strarr, grammar, index, startPos, oneshot, target) {\n\t\tvar Token = _.Token;\n\n\t\tfor (var token in grammar) {\n\t\t\tif(!grammar.hasOwnProperty(token) || !grammar[token]) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tif (token == target) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar patterns = grammar[token];\n\t\t\tpatterns = (_.util.type(patterns) === \"Array\") ? patterns : [patterns];\n\n\t\t\tfor (var j = 0; j < patterns.length; ++j) {\n\t\t\t\tvar pattern = patterns[j],\n\t\t\t\t\tinside = pattern.inside,\n\t\t\t\t\tlookbehind = !!pattern.lookbehind,\n\t\t\t\t\tgreedy = !!pattern.greedy,\n\t\t\t\t\tlookbehindLength = 0,\n\t\t\t\t\talias = pattern.alias;\n\n\t\t\t\tif (greedy && !pattern.pattern.global) {\n\t\t\t\t\t// Without the global flag, lastIndex won't work\n\t\t\t\t\tvar flags = pattern.pattern.toString().match(/[imuy]*$/)[0];\n\t\t\t\t\tpattern.pattern = RegExp(pattern.pattern.source, flags + \"g\");\n\t\t\t\t}\n\n\t\t\t\tpattern = pattern.pattern || pattern;\n\n\t\t\t\t// Don’t cache length as it changes during the loop\n\t\t\t\tfor (var i = index, pos = startPos; i < strarr.length; pos += strarr[i].length, ++i) {\n\n\t\t\t\t\tvar str = strarr[i];\n\n\t\t\t\t\tif (strarr.length > text.length) {\n\t\t\t\t\t\t// Something went terribly wrong, ABORT, ABORT!\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (str instanceof Token) {\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (greedy && i != strarr.length - 1) {\n\t\t\t\t\t\tpattern.lastIndex = pos;\n\t\t\t\t\t\tvar match = pattern.exec(text);\n\t\t\t\t\t\tif (!match) {\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tvar from = match.index + (lookbehind ? match[1].length : 0),\n\t\t\t\t\t\t    to = match.index + match[0].length,\n\t\t\t\t\t\t    k = i,\n\t\t\t\t\t\t    p = pos;\n\n\t\t\t\t\t\tfor (var len = strarr.length; k < len && (p < to || (!strarr[k].type && !strarr[k - 1].greedy)); ++k) {\n\t\t\t\t\t\t\tp += strarr[k].length;\n\t\t\t\t\t\t\t// Move the index i to the element in strarr that is closest to from\n\t\t\t\t\t\t\tif (from >= p) {\n\t\t\t\t\t\t\t\t++i;\n\t\t\t\t\t\t\t\tpos = p;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// If strarr[i] is a Token, then the match starts inside another Token, which is invalid\n\t\t\t\t\t\tif (strarr[i] instanceof Token) {\n\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Number of tokens to delete and replace with the new match\n\t\t\t\t\t\tdelNum = k - i;\n\t\t\t\t\t\tstr = text.slice(pos, p);\n\t\t\t\t\t\tmatch.index -= pos;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tpattern.lastIndex = 0;\n\n\t\t\t\t\t\tvar match = pattern.exec(str),\n\t\t\t\t\t\t\tdelNum = 1;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (!match) {\n\t\t\t\t\t\tif (oneshot) {\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\n\t\t\t\t\tif(lookbehind) {\n\t\t\t\t\t\tlookbehindLength = match[1] ? match[1].length : 0;\n\t\t\t\t\t}\n\n\t\t\t\t\tvar from = match.index + lookbehindLength,\n\t\t\t\t\t    match = match[0].slice(lookbehindLength),\n\t\t\t\t\t    to = from + match.length,\n\t\t\t\t\t    before = str.slice(0, from),\n\t\t\t\t\t    after = str.slice(to);\n\n\t\t\t\t\tvar args = [i, delNum];\n\n\t\t\t\t\tif (before) {\n\t\t\t\t\t\t++i;\n\t\t\t\t\t\tpos += before.length;\n\t\t\t\t\t\targs.push(before);\n\t\t\t\t\t}\n\n\t\t\t\t\tvar wrapped = new Token(token, inside? _.tokenize(match, inside) : match, alias, match, greedy);\n\n\t\t\t\t\targs.push(wrapped);\n\n\t\t\t\t\tif (after) {\n\t\t\t\t\t\targs.push(after);\n\t\t\t\t\t}\n\n\t\t\t\t\tArray.prototype.splice.apply(strarr, args);\n\n\t\t\t\t\tif (delNum != 1)\n\t\t\t\t\t\t_.matchGrammar(text, strarr, grammar, i, pos, true, token);\n\n\t\t\t\t\tif (oneshot)\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\n\ttokenize: function(text, grammar, language) {\n\t\tvar strarr = [text];\n\n\t\tvar rest = grammar.rest;\n\n\t\tif (rest) {\n\t\t\tfor (var token in rest) {\n\t\t\t\tgrammar[token] = rest[token];\n\t\t\t}\n\n\t\t\tdelete grammar.rest;\n\t\t}\n\n\t\t_.matchGrammar(text, strarr, grammar, 0, 0, false);\n\n\t\treturn strarr;\n\t},\n\n\thooks: {\n\t\tall: {},\n\n\t\tadd: function (name, callback) {\n\t\t\tvar hooks = _.hooks.all;\n\n\t\t\thooks[name] = hooks[name] || [];\n\n\t\t\thooks[name].push(callback);\n\t\t},\n\n\t\trun: function (name, env) {\n\t\t\tvar callbacks = _.hooks.all[name];\n\n\t\t\tif (!callbacks || !callbacks.length) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tfor (var i=0, callback; callback = callbacks[i++];) {\n\t\t\t\tcallback(env);\n\t\t\t}\n\t\t}\n\t}\n};\n\nvar Token = _.Token = function(type, content, alias, matchedStr, greedy) {\n\tthis.type = type;\n\tthis.content = content;\n\tthis.alias = alias;\n\t// Copy of the full string this token was created from\n\tthis.length = (matchedStr || \"\").length|0;\n\tthis.greedy = !!greedy;\n};\n\nToken.stringify = function(o, language, parent) {\n\tif (typeof o == 'string') {\n\t\treturn o;\n\t}\n\n\tif (_.util.type(o) === 'Array') {\n\t\treturn o.map(function(element) {\n\t\t\treturn Token.stringify(element, language, o);\n\t\t}).join('');\n\t}\n\n\tvar env = {\n\t\ttype: o.type,\n\t\tcontent: Token.stringify(o.content, language, parent),\n\t\ttag: 'span',\n\t\tclasses: ['token', o.type],\n\t\tattributes: {},\n\t\tlanguage: language,\n\t\tparent: parent\n\t};\n\n\tif (o.alias) {\n\t\tvar aliases = _.util.type(o.alias) === 'Array' ? o.alias : [o.alias];\n\t\tArray.prototype.push.apply(env.classes, aliases);\n\t}\n\n\t_.hooks.run('wrap', env);\n\n\tvar attributes = Object.keys(env.attributes).map(function(name) {\n\t\treturn name + '=\"' + (env.attributes[name] || '').replace(/\"/g, '&quot;') + '\"';\n\t}).join(' ');\n\n\treturn '<' + env.tag + ' class=\"' + env.classes.join(' ') + '\"' + (attributes ? ' ' + attributes : '') + '>' + env.content + '</' + env.tag + '>';\n\n};\n\nif (!_self.document) {\n\tif (!_self.addEventListener) {\n\t\t// in Node.js\n\t\treturn _self.Prism;\n\t}\n\n\tif (!_.disableWorkerMessageHandler) {\n\t\t// In worker\n\t\t_self.addEventListener('message', function (evt) {\n\t\t\tvar message = JSON.parse(evt.data),\n\t\t\t\tlang = message.language,\n\t\t\t\tcode = message.code,\n\t\t\t\timmediateClose = message.immediateClose;\n\n\t\t\t_self.postMessage(_.highlight(code, _.languages[lang], lang));\n\t\t\tif (immediateClose) {\n\t\t\t\t_self.close();\n\t\t\t}\n\t\t}, false);\n\t}\n\n\treturn _self.Prism;\n}\n\n//Get current script and highlight\nvar script = document.currentScript || [].slice.call(document.getElementsByTagName(\"script\")).pop();\n\nif (script) {\n\t_.filename = script.src;\n\n\tif (!_.manual && !script.hasAttribute('data-manual')) {\n\t\tif(document.readyState !== \"loading\") {\n\t\t\tif (window.requestAnimationFrame) {\n\t\t\t\twindow.requestAnimationFrame(_.highlightAll);\n\t\t\t} else {\n\t\t\t\twindow.setTimeout(_.highlightAll, 16);\n\t\t\t}\n\t\t}\n\t\telse {\n\t\t\tdocument.addEventListener('DOMContentLoaded', _.highlightAll);\n\t\t}\n\t}\n}\n\nreturn _self.Prism;\n\n})();\n\nif (typeof module !== 'undefined' && module.exports) {\n\tmodule.exports = Prism;\n}\n\n// hack for components to work correctly in node.js\nif (typeof global !== 'undefined') {\n\tglobal.Prism = Prism;\n}\n\n\n/* **********************************************\n     Begin prism-markup.js\n********************************************** */\n\nPrism.languages.markup = {\n\t'comment': /<!--[\\s\\S]*?-->/,\n\t'prolog': /<\\?[\\s\\S]+?\\?>/,\n\t'doctype': /<!DOCTYPE[\\s\\S]+?>/i,\n\t'cdata': /<!\\[CDATA\\[[\\s\\S]*?]]>/i,\n\t'tag': {\n\t\tpattern: /<\\/?(?!\\d)[^\\s>\\/=$<%]+(?:\\s+[^\\s>\\/=]+(?:=(?:(\"|')(?:\\\\[\\s\\S]|(?!\\1)[^\\\\])*\\1|[^\\s'\">=]+))?)*\\s*\\/?>/i,\n\t\tgreedy: true,\n\t\tinside: {\n\t\t\t'tag': {\n\t\t\t\tpattern: /^<\\/?[^\\s>\\/]+/i,\n\t\t\t\tinside: {\n\t\t\t\t\t'punctuation': /^<\\/?/,\n\t\t\t\t\t'namespace': /^[^\\s>\\/:]+:/\n\t\t\t\t}\n\t\t\t},\n\t\t\t'attr-value': {\n\t\t\t\tpattern: /=(?:(\"|')(?:\\\\[\\s\\S]|(?!\\1)[^\\\\])*\\1|[^\\s'\">=]+)/i,\n\t\t\t\tinside: {\n\t\t\t\t\t'punctuation': [\n\t\t\t\t\t\t/^=/,\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tpattern: /(^|[^\\\\])[\"']/,\n\t\t\t\t\t\t\tlookbehind: true\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t},\n\t\t\t'punctuation': /\\/?>/,\n\t\t\t'attr-name': {\n\t\t\t\tpattern: /[^\\s>\\/]+/,\n\t\t\t\tinside: {\n\t\t\t\t\t'namespace': /^[^\\s>\\/:]+:/\n\t\t\t\t}\n\t\t\t}\n\n\t\t}\n\t},\n\t'entity': /&#?[\\da-z]{1,8};/i\n};\n\nPrism.languages.markup['tag'].inside['attr-value'].inside['entity'] =\n\tPrism.languages.markup['entity'];\n\n// Plugin to make entity title show the real entity, idea by Roman Komarov\nPrism.hooks.add('wrap', function(env) {\n\n\tif (env.type === 'entity') {\n\t\tenv.attributes['title'] = env.content.replace(/&amp;/, '&');\n\t}\n});\n\nPrism.languages.xml = Prism.languages.markup;\nPrism.languages.html = Prism.languages.markup;\nPrism.languages.mathml = Prism.languages.markup;\nPrism.languages.svg = Prism.languages.markup;\n\n\n/* **********************************************\n     Begin prism-css.js\n********************************************** */\n\nPrism.languages.css = {\n\t'comment': /\\/\\*[\\s\\S]*?\\*\\//,\n\t'atrule': {\n\t\tpattern: /@[\\w-]+?.*?(?:;|(?=\\s*\\{))/i,\n\t\tinside: {\n\t\t\t'rule': /@[\\w-]+/\n\t\t\t// See rest below\n\t\t}\n\t},\n\t'url': /url\\((?:([\"'])(?:\\\\(?:\\r\\n|[\\s\\S])|(?!\\1)[^\\\\\\r\\n])*\\1|.*?)\\)/i,\n\t'selector': /[^{}\\s][^{};]*?(?=\\s*\\{)/,\n\t'string': {\n\t\tpattern: /(\"|')(?:\\\\(?:\\r\\n|[\\s\\S])|(?!\\1)[^\\\\\\r\\n])*\\1/,\n\t\tgreedy: true\n\t},\n\t'property': /[-_a-z\\xA0-\\uFFFF][-\\w\\xA0-\\uFFFF]*(?=\\s*:)/i,\n\t'important': /\\B!important\\b/i,\n\t'function': /[-a-z0-9]+(?=\\()/i,\n\t'punctuation': /[(){};:]/\n};\n\nPrism.languages.css['atrule'].inside.rest = Prism.languages.css;\n\nif (Prism.languages.markup) {\n\tPrism.languages.insertBefore('markup', 'tag', {\n\t\t'style': {\n\t\t\tpattern: /(<style[\\s\\S]*?>)[\\s\\S]*?(?=<\\/style>)/i,\n\t\t\tlookbehind: true,\n\t\t\tinside: Prism.languages.css,\n\t\t\talias: 'language-css',\n\t\t\tgreedy: true\n\t\t}\n\t});\n\n\tPrism.languages.insertBefore('inside', 'attr-value', {\n\t\t'style-attr': {\n\t\t\tpattern: /\\s*style=(\"|')(?:\\\\[\\s\\S]|(?!\\1)[^\\\\])*\\1/i,\n\t\t\tinside: {\n\t\t\t\t'attr-name': {\n\t\t\t\t\tpattern: /^\\s*style/i,\n\t\t\t\t\tinside: Prism.languages.markup.tag.inside\n\t\t\t\t},\n\t\t\t\t'punctuation': /^\\s*=\\s*['\"]|['\"]\\s*$/,\n\t\t\t\t'attr-value': {\n\t\t\t\t\tpattern: /.+/i,\n\t\t\t\t\tinside: Prism.languages.css\n\t\t\t\t}\n\t\t\t},\n\t\t\talias: 'language-css'\n\t\t}\n\t}, Prism.languages.markup.tag);\n}\n\n/* **********************************************\n     Begin prism-clike.js\n********************************************** */\n\nPrism.languages.clike = {\n\t'comment': [\n\t\t{\n\t\t\tpattern: /(^|[^\\\\])\\/\\*[\\s\\S]*?(?:\\*\\/|$)/,\n\t\t\tlookbehind: true\n\t\t},\n\t\t{\n\t\t\tpattern: /(^|[^\\\\:])\\/\\/.*/,\n\t\t\tlookbehind: true,\n\t\t\tgreedy: true\n\t\t}\n\t],\n\t'string': {\n\t\tpattern: /([\"'])(?:\\\\(?:\\r\\n|[\\s\\S])|(?!\\1)[^\\\\\\r\\n])*\\1/,\n\t\tgreedy: true\n\t},\n\t'class-name': {\n\t\tpattern: /((?:\\b(?:class|interface|extends|implements|trait|instanceof|new)\\s+)|(?:catch\\s+\\())[\\w.\\\\]+/i,\n\t\tlookbehind: true,\n\t\tinside: {\n\t\t\tpunctuation: /[.\\\\]/\n\t\t}\n\t},\n\t'keyword': /\\b(?:if|else|while|do|for|return|in|instanceof|function|new|try|throw|catch|finally|null|break|continue)\\b/,\n\t'boolean': /\\b(?:true|false)\\b/,\n\t'function': /[a-z0-9_]+(?=\\()/i,\n\t'number': /\\b0x[\\da-f]+\\b|(?:\\b\\d+\\.?\\d*|\\B\\.\\d+)(?:e[+-]?\\d+)?/i,\n\t'operator': /--?|\\+\\+?|!=?=?|<=?|>=?|==?=?|&&?|\\|\\|?|\\?|\\*|\\/|~|\\^|%/,\n\t'punctuation': /[{}[\\];(),.:]/\n};\n\n\n/* **********************************************\n     Begin prism-javascript.js\n********************************************** */\n\nPrism.languages.javascript = Prism.languages.extend('clike', {\n\t'keyword': /\\b(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|var|void|while|with|yield)\\b/,\n\t'number': /\\b(?:0[xX][\\dA-Fa-f]+|0[bB][01]+|0[oO][0-7]+|NaN|Infinity)\\b|(?:\\b\\d+\\.?\\d*|\\B\\.\\d+)(?:[Ee][+-]?\\d+)?/,\n\t// Allow for all non-ASCII characters (See http://stackoverflow.com/a/2008444)\n\t'function': /[_$a-z\\xA0-\\uFFFF][$\\w\\xA0-\\uFFFF]*(?=\\s*\\()/i,\n\t'operator': /-[-=]?|\\+[+=]?|!=?=?|<<?=?|>>?>?=?|=(?:==?|>)?|&[&=]?|\\|[|=]?|\\*\\*?=?|\\/=?|~|\\^=?|%=?|\\?|\\.{3}/\n});\n\nPrism.languages.insertBefore('javascript', 'keyword', {\n\t'regex': {\n\t\tpattern: /((?:^|[^$\\w\\xA0-\\uFFFF.\"'\\])\\s])\\s*)\\/(\\[[^\\]\\r\\n]+]|\\\\.|[^/\\\\\\[\\r\\n])+\\/[gimyu]{0,5}(?=\\s*($|[\\r\\n,.;})\\]]))/,\n\t\tlookbehind: true,\n\t\tgreedy: true\n\t},\n\t// This must be declared before keyword because we use \"function\" inside the look-forward\n\t'function-variable': {\n\t\tpattern: /[_$a-z\\xA0-\\uFFFF][$\\w\\xA0-\\uFFFF]*(?=\\s*=\\s*(?:function\\b|(?:\\([^()]*\\)|[_$a-z\\xA0-\\uFFFF][$\\w\\xA0-\\uFFFF]*)\\s*=>))/i,\n\t\talias: 'function'\n\t},\n\t'constant': /\\b[A-Z][A-Z\\d_]*\\b/\n});\n\nPrism.languages.insertBefore('javascript', 'string', {\n\t'template-string': {\n\t\tpattern: /`(?:\\\\[\\s\\S]|\\${[^}]+}|[^\\\\`])*`/,\n\t\tgreedy: true,\n\t\tinside: {\n\t\t\t'interpolation': {\n\t\t\t\tpattern: /\\${[^}]+}/,\n\t\t\t\tinside: {\n\t\t\t\t\t'interpolation-punctuation': {\n\t\t\t\t\t\tpattern: /^\\${|}$/,\n\t\t\t\t\t\talias: 'punctuation'\n\t\t\t\t\t},\n\t\t\t\t\trest: null // See below\n\t\t\t\t}\n\t\t\t},\n\t\t\t'string': /[\\s\\S]+/\n\t\t}\n\t}\n});\nPrism.languages.javascript['template-string'].inside['interpolation'].inside.rest = Prism.languages.javascript;\n\nif (Prism.languages.markup) {\n\tPrism.languages.insertBefore('markup', 'tag', {\n\t\t'script': {\n\t\t\tpattern: /(<script[\\s\\S]*?>)[\\s\\S]*?(?=<\\/script>)/i,\n\t\t\tlookbehind: true,\n\t\t\tinside: Prism.languages.javascript,\n\t\t\talias: 'language-javascript',\n\t\t\tgreedy: true\n\t\t}\n\t});\n}\n\nPrism.languages.js = Prism.languages.javascript;\n\n\n/* **********************************************\n     Begin prism-file-highlight.js\n********************************************** */\n\n(function () {\n\tif (typeof self === 'undefined' || !self.Prism || !self.document || !document.querySelector) {\n\t\treturn;\n\t}\n\n\tself.Prism.fileHighlight = function() {\n\n\t\tvar Extensions = {\n\t\t\t'js': 'javascript',\n\t\t\t'py': 'python',\n\t\t\t'rb': 'ruby',\n\t\t\t'ps1': 'powershell',\n\t\t\t'psm1': 'powershell',\n\t\t\t'sh': 'bash',\n\t\t\t'bat': 'batch',\n\t\t\t'h': 'c',\n\t\t\t'tex': 'latex'\n\t\t};\n\n\t\tArray.prototype.slice.call(document.querySelectorAll('pre[data-src]')).forEach(function (pre) {\n\t\t\tvar src = pre.getAttribute('data-src');\n\n\t\t\tvar language, parent = pre;\n\t\t\tvar lang = /\\blang(?:uage)?-([\\w-]+)\\b/i;\n\t\t\twhile (parent && !lang.test(parent.className)) {\n\t\t\t\tparent = parent.parentNode;\n\t\t\t}\n\n\t\t\tif (parent) {\n\t\t\t\tlanguage = (pre.className.match(lang) || [, ''])[1];\n\t\t\t}\n\n\t\t\tif (!language) {\n\t\t\t\tvar extension = (src.match(/\\.(\\w+)$/) || [, ''])[1];\n\t\t\t\tlanguage = Extensions[extension] || extension;\n\t\t\t}\n\n\t\t\tvar code = document.createElement('code');\n\t\t\tcode.className = 'language-' + language;\n\n\t\t\tpre.textContent = '';\n\n\t\t\tcode.textContent = 'Loading…';\n\n\t\t\tpre.appendChild(code);\n\n\t\t\tvar xhr = new XMLHttpRequest();\n\n\t\t\txhr.open('GET', src, true);\n\n\t\t\txhr.onreadystatechange = function () {\n\t\t\t\tif (xhr.readyState == 4) {\n\n\t\t\t\t\tif (xhr.status < 400 && xhr.responseText) {\n\t\t\t\t\t\tcode.textContent = xhr.responseText;\n\n\t\t\t\t\t\tPrism.highlightElement(code);\n\t\t\t\t\t}\n\t\t\t\t\telse if (xhr.status >= 400) {\n\t\t\t\t\t\tcode.textContent = '✖ Error ' + xhr.status + ' while fetching file: ' + xhr.statusText;\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tcode.textContent = '✖ Error: File does not exist or is empty';\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\n\t\t\txhr.send(null);\n\t\t});\n\n\t\tif (Prism.plugins.toolbar) {\n\t\t\tPrism.plugins.toolbar.registerButton('download-file', function (env) {\n\t\t\t\tvar pre = env.element.parentNode;\n\t\t\t\tif (!pre || !/pre/i.test(pre.nodeName) || !pre.hasAttribute('data-src') || !pre.hasAttribute('data-download-link')) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tvar src = pre.getAttribute('data-src');\n\t\t\t\tvar a = document.createElement('a');\n\t\t\t\ta.textContent = pre.getAttribute('data-download-link-label') || 'Download';\n\t\t\t\ta.setAttribute('download', '');\n\t\t\t\ta.href = src;\n\t\t\t\treturn a;\n\t\t\t});\n\t\t}\n\n\t};\n\n\tdocument.addEventListener('DOMContentLoaded', self.Prism.fileHighlight);\n\n})();","export default {\n\t'efml_line': {\n\t\tpattern: /^.*?(\\n|$)/,\n\t\tinside: {\n\t\t\tcomment: /^(\\s+)?(?=[^\\s>.|#%@+-]).*?(\\n|$)/,\n\t\t\t'tag_define': {\n\t\t\t\tpattern: /^\\s*(?=>).*?(\\n|$)/,\n\t\t\t\tinside: {\n\t\t\t\t\ttag: />.*?(?=(\\.|#|$|\\n))/,\n\t\t\t\t\tclass: {\n\t\t\t\t\t\talias: 'attr-name',\n\t\t\t\t\t\tpattern: /\\..*?(?=((#([^}]|\\}[^}])*$)|$|\\n))/,\n\t\t\t\t\t\tinside: {\n\t\t\t\t\t\t\tmustache: {\n\t\t\t\t\t\t\t\tpattern: /(\\{\\{).*?(?=(\\}\\}|$|\\n))/,\n\t\t\t\t\t\t\t\tlookbehind: true,\n\t\t\t\t\t\t\t\tinside: {\n\t\t\t\t\t\t\t\t\tkeyword: /^[^=].*?(?=(=|$))/,\n\t\t\t\t\t\t\t\t\tstring: {\n\t\t\t\t\t\t\t\t\t\tpattern: /(=).*?(?=(\\n|$))/,\n\t\t\t\t\t\t\t\t\t\tlookbehind: true,\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tproperty: /#([^}]|\\}[^}])*$/\n\t\t\t\t}\n\t\t\t},\n\t\t\t'attr_define': {\n\t\t\t\tpattern: /\\s*?(?=#).*?(\\n|$)/,\n\t\t\t\tinside: {\n\t\t\t\t\t'attr-name': /#[^=].*?(?=(=|\\n|$))/,\n\t\t\t\t\tstring: {\n\t\t\t\t\t\tpattern: /(=).*?(?=(\\n|$))/,\n\t\t\t\t\t\tlookbehind: true,\n\t\t\t\t\t\tinside: {\n\t\t\t\t\t\t\tmustache: {\n\t\t\t\t\t\t\t\tpattern: /(\\{\\{).*?(?=(\\}\\}|$|\\n))/,\n\t\t\t\t\t\t\t\tlookbehind: true,\n\t\t\t\t\t\t\t\tinside: {\n\t\t\t\t\t\t\t\t\tkeyword: /^[^=].*?(?=(=|$))/,\n\t\t\t\t\t\t\t\t\tstring: {\n\t\t\t\t\t\t\t\t\t\tpattern: /(=).*?(?=(\\n|$))/,\n\t\t\t\t\t\t\t\t\t\tlookbehind: true\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\t'prop_define': {\n\t\t\t\tpattern: /\\s*?(?=%).*?(\\n|$)/,\n\t\t\t\tinside: {\n\t\t\t\t\tproperty: /%[^=].*?(?=(=|\\n|$))/,\n\t\t\t\t\tstring: {\n\t\t\t\t\t\tpattern: /(=).*?(?=(\\n|$))/,\n\t\t\t\t\t\tlookbehind: true,\n\t\t\t\t\t\tinside: {\n\t\t\t\t\t\t\tmustache: {\n\t\t\t\t\t\t\t\tpattern: /(\\{\\{).*?(?=(\\}\\}|$|\\n))/,\n\t\t\t\t\t\t\t\tlookbehind: true,\n\t\t\t\t\t\t\t\tinside: {\n\t\t\t\t\t\t\t\t\tkeyword: /^[^=].*?(?=(=|$))/,\n\t\t\t\t\t\t\t\t\tstring: {\n\t\t\t\t\t\t\t\t\t\tpattern: /(=).*?(?=(\\n|$))/,\n\t\t\t\t\t\t\t\t\t\tlookbehind: true\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\t'event_define': {\n\t\t\t\tpattern: /\\s*?(?=@).*?(\\n|$)/,\n\t\t\t\tinside: {\n\t\t\t\t\tkeyword: /@[^=].*?(?=(=|\\n|$))/,\n\t\t\t\t\tfunction: {\n\t\t\t\t\t\tpattern: /(=)[^:].*?(?=(:|\\n|$))/,\n\t\t\t\t\t\tlookbehind: true\n\t\t\t\t\t},\n\t\t\t\t\tstring: {\n\t\t\t\t\t\tpattern: /(:).*?(?=(\\n|$))/,\n\t\t\t\t\t\tlookbehind: true,\n\t\t\t\t\t\tinside: {\n\t\t\t\t\t\t\tmustache: {\n\t\t\t\t\t\t\t\tpattern: /(\\{\\{).*?(?=(\\}\\}|$|\\n))/,\n\t\t\t\t\t\t\t\tlookbehind: true,\n\t\t\t\t\t\t\t\tinside: {\n\t\t\t\t\t\t\t\t\tkeyword: /^[^=].*?(?=(=|$))/,\n\t\t\t\t\t\t\t\t\tstring: {\n\t\t\t\t\t\t\t\t\t\tpattern: /(=).*?(?=(\\n|$))/,\n\t\t\t\t\t\t\t\t\t\tlookbehind: true\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\ttext: {\n\t\t\t\tpattern: /\\s*?(?=(\\.|\\|)).*?(\\n|$)/,\n\t\t\t\tinside: {\n\t\t\t\t\tmustache: {\n\t\t\t\t\t\tpattern: /(\\{\\{).*?(?=(\\}\\}|$|\\n))/,\n\t\t\t\t\t\tlookbehind: true,\n\t\t\t\t\t\tinside: {\n\t\t\t\t\t\t\tkeyword: /^[^=].*?(?=(=|$))/,\n\t\t\t\t\t\t\tstring: {\n\t\t\t\t\t\t\t\tpattern: /(=).*?(?=(\\n|$))/,\n\t\t\t\t\t\t\t\tlookbehind: true\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\n","import { inform, exec } from 'ef.js'\nimport Prism from 'prismjs'\n// Import utils\nimport { goto } from './router.js'\nimport efmlSyntax from './utils/prism-efml.js'\n// Import style\nimport sharedClasses from '../styles/shared.css'\nimport classes from '../styles/guide.css'\n// Import template\nimport _guide from '../templates/guide.eft'\nimport _item from '../templates/index-item.eft'\nimport { applyStyle, _guides } from './guides.js'\n// Import codes\nimport code1 from '../templates/guides/codes/code1.tjs'\nimport code2 from '../templates/guides/codes/code2.efml'\nimport code3 from '../templates/guides/codes/code3.tjs'\nimport code4 from '../templates/guides/codes/code4.efml'\nimport code5 from '../templates/guides/codes/code5.tjs'\n\nconst indexList = []\nconst guides = {}\nconst cache = {}\n\nconst show = ({value}) => {\n\tgoto({value: `guides/${value}`})\n}\n\nconst items = [\n\t{\n\t\ttitle: 'Quick Start',\n\t\tref: 'quick-start',\n\t\tcontent: _guides._quickStart,\n\t\tstate: {\n\t\t\t$data: {\n\t\t\t\tcode1: Prism.highlight(code1, Prism.languages.javascript),\n\t\t\t\tcode2: Prism.highlight(code2, efmlSyntax),\n\t\t\t\tcode3: Prism.highlight(code3, Prism.languages.javascript),\n\t\t\t\tcode4: Prism.highlight(code4, efmlSyntax)\n\t\t\t}\n\t\t}\n\t}, {\n\t\ttitle: 'EFML',\n\t\tref: 'efml',\n\t\tcontent: _guides._EFML\n\t}, {\n\t\ttitle: 'Basic Binding',\n\t\tref: 'basic-binding',\n\t\tcontent: _guides._basicBinding\n\t}, {\n\t\ttitle: 'Two-way Binding',\n\t\tref: 'two-way-binding',\n\t\tcontent: _guides._twoWayBinding\n\t}, {\n\t\ttitle: 'Value Subscribing',\n\t\tref: 'value-subscribing',\n\t\tcontent: _guides._valueSubscribing\n\t}, {\n\t\ttitle: 'Events Handling',\n\t\tref: 'events-handling',\n\t\tcontent: _guides._eventsHandling\n\t}, {\n\t\ttitle: 'Mounting',\n\t\tref: 'mounting',\n\t\tcontent: _guides._mounting\n\t}, {\n\t\ttitle: 'Bundled Rendering',\n\t\tref: 'bundled-rendering',\n\t\tcontent: _guides._bundledRendering\n\t}, {\n\t\ttitle: 'Modulize',\n\t\tref: 'modulelize',\n\t\tcontent: _guides._modulize,\n\t\tstate: {\n\t\t\t$data: {\n\t\t\t\tcode5: Prism.highlight(code5, Prism.languages.javascript)\n\t\t\t}\n\t\t}\n\t}, {\n\t// \ttitle: 'Dig into ef',\n\t// \tref: 'dig-into-ef',\n\t// \tcontent: _guides._digIntoEf\n\t// }, {\n\t\ttitle: 'AST Structure',\n\t\tref: 'ast-structure',\n\t\tcontent: _guides._astStructure\n\t}\n]\n\nfor (let i of items) {\n\tconst { title, ref, content, state } = i\n\tindexList.push(new _item({\n\t\t$data: {\n\t\t\tclass: sharedClasses.item,\n\t\t\tref,\n\t\t\ttitle\n\t\t},\n\t\t$methods: { show }\n\t}))\n\n\tObject.defineProperty(guides, ref, {\n\t\tget() {\n\t\t\treturn {\n\t\t\t\ttitle,\n\t\t\t\tcomponent: cache[ref] || (cache[ref] = applyStyle(new content(state)))\n\t\t\t}\n\t\t}\n\t})\n}\n\nconst getGuide = () => {\n\tconst guide = new _guide({\n\t\t$data: {\n\t\t\tclass: sharedClasses\n\t\t},\n\t\tindexes: indexList\n\t})\n\tguide.$data.class = classes\n\n\tconst updateScroll = () => {\n\t\tconst height = window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop || 0\n\t\tconst position = document.body.scrollHeight - window.innerHeight - height\n\t\tinform()\n\t\tif (height > 0 && position > -height && position < 150 && window.innerWidth > 640) {\n\t\t\tguide.$data.position = 'absolute'\n\t\t\tguide.$data.top = `${document.body.scrollHeight - window.innerHeight - 10}px`\n\t\t} else {\n\t\t\tguide.$data.position = 'fixed'\n\t\t\tguide.$data.top = 'initial'\n\t\t}\n\t\texec()\n\t}\n\n\treturn { guide, updateScroll }\n}\n\nexport { getGuide, guides }\n","import classes from '../styles/guides.css'\nimport _quickStart from '../templates/guides/quick-start.eft'\nimport _EFML from '../templates/guides/efml.eft'\nimport _basicBinding from '../templates/guides/basic-binding.eft'\nimport _twoWayBinding from '../templates/guides/two-way-binding.eft'\nimport _valueSubscribing from '../templates/guides/value-subscribing.eft'\nimport _eventsHandling from '../templates/guides/events-handling.eft'\nimport _mounting from '../templates/guides/mounting.eft'\nimport _bundledRendering from '../templates/guides/bundled-rendering.eft'\nimport _modulize from '../templates/guides/modulize.eft'\nimport _digIntoEf from '../templates/guides/dig-into-ef.eft'\nimport _astStructure from '../templates/guides/ast-structure.eft'\n\nconst applyStyle = (state) => {\n\tstate.$data.class = classes\n\treturn state\n}\n\nconst _guides = {\n\t_quickStart,\n\t_EFML,\n\t_basicBinding,\n\t_twoWayBinding,\n\t_valueSubscribing,\n\t_eventsHandling,\n\t_mounting,\n\t_bundledRendering,\n\t_modulize,\n\t_digIntoEf,\n\t_astStructure\n}\n\nexport { applyStyle, _guides }\n","import { inform, exec } from 'ef.js'\n// Import style\nimport sharedClasses from '../styles/shared.css'\nimport classes from '../styles/examples.css'\n// Import template\nimport _examples from '../templates/examples.eft'\n\nconst selected = `${sharedClasses.item} ${sharedClasses.selected}`\n\nconst info = {\n\ttodo: {\n\t\tsrc: 'https://classicoldsong.github.io/todomvc-efjs/',\n\t\trepo: 'https://github.com/ClassicOldSong/todomvc-efjs',\n\t\tclass: {\n\t\t\ttodo: selected,\n\t\t\tdbmon: sharedClasses.item,\n\t\t\tsite: sharedClasses.item\n\t\t}\n\t},\n\tdbmon: {\n\t\tsrc: 'https://classicoldsong.github.io/js-repaint-perfs/ef/opt.html',\n\t\trepo: 'https://github.com/ClassicOldSong/js-repaint-perfs',\n\t\tclass: {\n\t\t\ttodo: sharedClasses.item,\n\t\t\tdbmon: selected,\n\t\t\tsite: sharedClasses.item\n\t\t}\n\t},\n\tsite: {\n\t\tsrc: `${location.origin}${location.pathname}`,\n\t\trepo: 'https://github.com/ClassicOldSong/ef.js.org',\n\t\tclass: {\n\t\t\ttodo: sharedClasses.item,\n\t\t\tdbmon: sharedClasses.item,\n\t\t\tsite: selected\n\t\t}\n\t}\n}\n\nconst show = ({state, value}) => {\n\tstate.$data = info[value]\n}\n\nconst getExamples = () => {\n\tconst examples = new _examples({\n\t\t$data: {\n\t\t\tclass: sharedClasses\n\t\t},\n\t\t$methods: { show }\n\t})\n\n\texamples.$data.class = classes\n\tshow({state: examples, value: 'todo'})\n\n\tconst updateScroll = () => {\n\t\tconst height = window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop || 0\n\t\tconst position = document.body.scrollHeight - window.innerHeight - height\n\t\tinform()\n\t\tif (height > 0 && position > -height && position < 150 && window.innerWidth > 640) {\n\t\t\texamples.$data.position = 'absolute'\n\t\t\texamples.$data.top = `${document.body.scrollHeight - window.innerHeight - 10}px`\n\t\t} else {\n\t\t\texamples.$data.position = 'fixed'\n\t\t\texamples.$data.top = 'initial'\n\t\t}\n\t\texec()\n\t}\n\n\treturn {examples, updateScroll}\n}\n\nexport default getExamples\n","import {inform, exec} from 'ef.js'\n// Import utilities\nimport page from 'page'\nimport domReady from './utils/domready.js'\n// Import style\nimport headerClass from '../styles/header.css'\nimport notfoundClass from '../styles/404.css'\nimport mainClass from '../styles/mainbody.css'\n// Import components\nimport { mainbody, getBg } from './mainbody.js'\nimport header from './header.js'\nimport getNotfound from './404.js'\nimport getHome from './home.js'\nimport { getGuide, guides } from './guide.js'\n// import getApi from './api.js'\nimport getExamples from './examples.js'\n\nwindow.mainbody = mainbody\n\n// console.log(mainbody)\n\nconst cache = {}\n\nconst goto = ({value}) => {\n\twindow.scrollTo(0, 0)\n\tpage(value)\n}\n\nconst open = ({value}) => window.open(value)\n\nconst changePage = (_path) => {\n\tif (_path) header.$data.class[_path] = headerClass.selected\n\n\theader.$data.class.logoHidden = ''\n\twindow.requestAnimationFrame(() => {\n\t\theader.$data.class.logoHidden = headerClass.hidden\n\t})\n}\n\npage('/*', (ctx) => {\n\tif (ctx.path === '/') page.redirect('home')\n\telse page.redirect(ctx.path.replace(/^\\/+/, ''))\n})\npage('home', () => {\n\tinform()\n\tif (!cache.home) {\n\t\tconst {home, updateScroll} = getHome()\n\t\tcache.home = {home, updateScroll}\n\t\thome.$methods = { goto, open }\n\t}\n\tconst {home, updateScroll} = cache.home\n\tmainbody.body = home\n\twindow.addEventListener('scroll', updateScroll)\n\tupdateScroll()\n\tchangePage('home')\n\texec()\n})\npage.exit('home', (ctx, next) => {\n\twindow.removeEventListener('scroll', cache.home.updateScroll)\n\tnext()\n})\npage('guides', () => {\n\tpage.redirect('guides/quick-start')\n})\n// page('api', () => {\n// \tinform()\n// \tif (!cache.api) cache.api = getApi()\n// \tmainbody.body = cache.api\n// \tchangePage('api')\n// \texec()\n// })\npage('examples', () => {\n\tinform()\n\tif (!cache.examples) {\n\t\tconst {examples, updateScroll} = getExamples()\n\t\tcache.examples = {examples, updateScroll}\n\t\texamples.$methods.open = open\n\t}\n\twindow.addEventListener('scroll', cache.examples.updateScroll)\n\tmainbody.body = cache.examples.examples\n\tcache.examples.updateScroll()\n\tchangePage('examples')\n\texec()\n})\npage.exit('examples', (ctx, next) => {\n\twindow.removeEventListener('scroll', cache.examples.updateScroll)\n\tnext()\n})\npage('guides/:ref', (ctx) => {\n\tinform()\n\tif (!(ctx.params.ref in guides)) {\n\t\tif (!cache.notfound) cache.notfound = getNotfound()\n\t\tmainbody.body = cache.notfound\n\t\treturn exec()\n\t}\n\n\tconst {title, component} = guides[ctx.params.ref]\n\tif (!cache.guide) {\n\t\tconst {guide, updateScroll} = getGuide()\n\t\tcache.guide = {guide, updateScroll}\n\t}\n\twindow.addEventListener('scroll', cache.guide.updateScroll)\n\tcache.guide.guide.$data.title = title\n\tcache.guide.guide.section = component\n\n\tcache.guide.updateScroll()\n\n\tmainbody.body = cache.guide.guide\n\tchangePage('guides')\n\texec()\n})\npage.exit('guides/*', (ctx, next) => {\n\twindow.removeEventListener('scroll', cache.guide.updateScroll)\n\tnext()\n})\npage('*', () => {\n\tinform()\n\tif (!cache.notfound) cache.notfound = getNotfound()\n\tmainbody.body = cache.notfound\n\tcache.notfound.$data.class.logoHidden = ''\n\twindow.requestAnimationFrame(() => {\n\t\tcache.notfound.$data.class.logoHidden = notfoundClass.hidden\n\t})\n\tchangePage()\n\texec()\n})\npage.exit('*', (ctx, next) => {\n\theader.$data.class[ctx.path.split('/')[0]] = ''\n\tnext()\n})\n\npage({hashbang: true})\n\nheader.$methods.goto = goto\nheader.$methods.getBg = getBg\n\nconst init = () => {\n\tmainbody.$mount({target: document.body, option: 'replace'})\n\theader.$data.class.logoHidden = ''\n}\n\nconst onload = () => {\n\twindow.removeEventListener('load', onload)\n\theader.$data.class.logoHidden = headerClass.hidden\n\tmainbody.$data.class.shown = mainClass.show\n}\n\nwindow.addEventListener('load', onload)\n\ndomReady(init)\n\nexport { goto, open }\n","import {inform, exec} from 'ef.js'\n// Import style\nimport sharedClasses from '../styles/shared.css'\nimport classes from '../styles/home.css'\n// Import template\nimport _home from '../templates/home.eft'\n\nconst getHome = () => {\n\tconst home = new _home({\n\t\t$data: {\n\t\t\tclass: sharedClasses\n\t\t}\n\t})\n\n\thome.$data.class = classes\n\n\tconst updateScroll = () => {\n\t\tlet height = window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop || 0\n\t\tlet width = window.innerWidth - 36\n\n\t\tinform()\n\t\tif (height > window.innerHeight * 3) {\n\t\t\thome.$data.position = 'absolute'\n\t\t\thome.$data.top = window.innerHeight * 3\n\t\t\theight = window.innerHeight * 3\n\t\t} else {\n\t\t\thome.$data.position = 'fixed'\n\t\t\thome.$data.top = '0'\n\t\t}\n\t\tif (width > 500) width = 500\n\t\thome.$data.scrollLeft = -1 * height / window.innerHeight * width\n\t\texec()\n\t}\n\n\treturn { home, updateScroll }\n}\n\nexport default getHome\n","// Import modules\nimport * as ef from 'ef.js'\nimport './js/router.js'\n\nwindow.ef = ef\n"],"names":["const","char","doubleChar","oct","RegExp","ucp","uni","hex","esc","b","t","n","v","f","r","O2C","SyntaxError","UC2C","val","substr","length","parseInt","String","fromCodePoint","err","U2C","substring","fromCharCode","X2C","efEscape","string","escaped","split","let","escapedStr","replace","push","join","splitWith","escapedSplit","i","splitBy","splitArr","shift","typeSymbols","reserved","mustache","spaceIndent","hashref","getErrorMsg","msg","line","checkValidType","obj","indexOf","ESCAPE","parsed","JSON","parse","e","splitDefault","slice","pathArr","_path","trim","map","_default","defaultVal","splitLiterals","strs","tmpl","mustaches","match","pushStr","textArr","str","parseText","result","exprs","dotToSpace","parseNodeProps","splited","name","value","getOption","options","keys","option","keyCode","isNaN","s","p","h","a","c","u","console","warn","setOption","parseLine","ref","parsingInfo","offset","offsetReg","trimmedLine","removed","prevDepth","removeOffset","indentReg","spaces","getIndent","content","escapedName","tagInfo","depth","test","getDepth","prevType","topExists","type","currentNode","ast","resolveDepth","minDepth","info","tag","class","newNode","l","listener","ops","k","getEventOptions","m","method","_value","ref$6","ref$7","parseEft","template","TypeError","tplType","lines","typeOf","Array","isArray","mixStr","getVal","proto","prototype","ARR","copy","arr","call","empty","equals","left","right","pop","apply","items","remove","item","index","splice","reverse","rightUnique","newArr","j","sort","fn","args","unshift","window","Set","from","unique","modificationQueue","domQueue","userQueue","count","queue","handlers","queueDom","handler","inform","execUserQueue","userFnQueue","exec","immediate","renderQueue","execModifications","domRenderQueue","execDomModifications","setTimeout","assign","Object","ee","er","resolveReactivePath","enume","node","defineProperty","get","set","data","configurable","enumerable","subscriberCallStack","execSubscribers","subscriberNode","subscriber","error","isnan","initBinding","parentNode","bind","_key","state","$data","subscribers","innerData","handlerNode","dataNode","resolveAllPath","hasOwnProperty","getEvent","props","bubbles","cancelable","event","document","createEvent","initEvent","getElement","ref$1","element","svg","createElementNS","createElement","refs","regTmpl","_handler","updateOthers","addAttr","key","attr","setAttribute","removeAttribute","addProp","_update","prop","expr","addEventListener","dispatchEvent","tagName","radios","querySelectorAll","selected","checked","rawHandler","addEvent","shiftKey","altKey","ctrlKey","metaKey","which","stopPropagation","stopImmediatePropagation","preventDefault","$methods","Node","DOM","before","tempFragment","createDocumentFragment","nodes","appendChild","insertBefore","after","nextSibling","append","nodeType","removeChild","DOMARR","$destroy","this","poped","$umount","elements","$mount","parent","anchor","$ctx","nodeInfo","placeholder","tempArr","shifted","sorted","spliced","bindMountingNode","children","contains","target","bindMountingList","defineProperties","fragment","updateMountingList","resolveAST","textNode","createTextNode","create","textContent","createComment","childNodes","mountOptions","BEFORE","AFTER","APPEND","REPLACE","safeZone","mount","ctx","prototypeAccessors","newMethods","methods","$refs","querySelector","$subscribe","pathStr","$unsubscribe","resolveSubscriber","$update","newState","tmpState","super","parser","valType","eftParser","createComponent","cb","newParser","module","isarray","toString","pathToRegexp_1","pathToRegexp","parse_1","compile_1","tokensToFunction","tokensToFunction_1","tokensToRegExp_1","tokensToRegExp","PATH_REGEXP","res","group","tokens","path","prefix","capture","suffix","asterisk","repeat","optional","delimiter","pattern","matches","token","segment","encodeURIComponent","escapeString","attachKeys","re","flags","sensitive","strict","end","route","lastToken","endsWithSlash","groups","source","regexpToRegexp","parts","arrayToRegexp","stringToRegexp","compile","page_js","page","default","Context","Route","sameOrigin","running","prevContext","pageWindow","hasDocument","hasWindow","hasHistory","history","hasProcess","process","clickEvent","ontouchstart","isLocation","location","dispatch","decodeURLComponents","base","hashbang","arguments","callbacks","middleware","start","decodeURLEncodedURIComponent","decodeURIComponent","pageBase","getBase","canonicalPath","title","querystring","pathname","params","hash","regexp","exits","current","len","enable","popstate","onpopstate","click","onclick","url","loc","search","stop","removeEventListener","show","prev","handled","pushState","back","redirect","to","init","save","nextEnter","href","nextExit","exit","protocol","replaceState","self","next","qsIndex","undefined","loaded","readyState","button","defaultPrevented","el","eventPath","composedPath","nodeName","toUpperCase","constructor","hasAttribute","getAttribute","link","samePath","baseVal","orig","URL","anc","toURL","hostname","port","factory","fns","asyncFns","domLoaded","exeAsync","initAsync","styleInject","css","insertAt","head","getElementsByTagName","style","firstChild","styleSheet","cssText","Math","random","header","classes","recover","logoHidden","examples","api","guide","home","shared","footer","year","Date","getFullYear","mainbody","_mainbody","updateBg","getBg","w","innerWidth","innerHeight","pr","devicePixelRatio","ds","width","height","toBlob","dataURI","toDataURL","binary","atob","mime","charCodeAt","Blob","Uint8Array","startX","startY","size","getContext","globalAlpha","scale","strokeStyle","beginPath","moveTo","lineTo","closePath","stroke","blob","createObjectURL","genBg","getNotfound","notfound","_notfound","sharedClasses","hidden","_self","WorkerGlobalScope","Prism","lang","uniqueId","_","manual","disableWorkerMessageHandler","util","encode","Token","alias","o","objId","clone","visited","forEach","languages","extend","id","redef","inside","insert","root","grammar","newToken","ret","DFS","callback","plugins","highlightAll","async","highlightAllUnder","container","env","selector","hooks","run","highlightElement","language","className","toLowerCase","code","Worker","worker","filename","onmessage","evt","highlightedCode","innerHTML","postMessage","stringify","immediateClose","highlight","text","tokenize","matchGrammar","strarr","startPos","oneshot","patterns","lookbehind","greedy","lookbehindLength","global","pos","lastIndex","delNum","wrapped","rest","all","add","matchedStr","attributes","aliases","message","close","script","currentScript","src","requestAnimationFrame","exports","markup","comment","prolog","doctype","cdata","punctuation","namespace","attr-value","attr-name","entity","xml","html","mathml","atrule","rule","property","important","function","style-attr","clike","class-name","keyword","boolean","number","operator","javascript","regex","function-variable","constant","template-string","interpolation","interpolation-punctuation","js","fileHighlight","Extensions","py","rb","ps1","psm1","sh","bat","tex","pre","extension","xhr","XMLHttpRequest","open","onreadystatechange","status","responseText","statusText","send","toolbar","registerButton","efml_line","tag_define","attr_define","prop_define","event_define","_guides","_quickStart","_EFML","_basicBinding","_twoWayBinding","_valueSubscribing","_eventsHandling","_mounting","_bundledRendering","_modulize","_digIntoEf","_astStructure","indexList","guides","cache","goto","code1","code2","efmlSyntax","code3","code4","code5","_item","component","todo","repo","dbmon","site","scrollTo","changePage","headerClass","_home","pageYOffset","documentElement","scrollTop","body","position","top","scrollLeft","getHome","updateScroll","_examples","scrollHeight","getExamples","_guide","indexes","getGuide","section","notfoundClass","_async","onload","shown","mainClass","ef"],"mappings":"yBACAA,IAAMC,EAAO,IACPC,EAAaD,EAAOA,EAGpBE,EAAM,IAAIC,uBAA8B,KACxCC,EAAM,IAAID,uBAA8B,KACxCE,EAAM,IAAIF,oBAA2B,KACrCG,EAAM,IAAIH,oBAA2B,KACrCI,EAAM,IAAIJ,aAAoB,KAC9BK,EAAI,IAAIL,cAAqB,KAC7BM,EAAI,IAAIN,cAAqB,KAC7BO,EAAI,IAAIP,cAAqB,KAC7BQ,EAAI,IAAIR,cAAqB,KAC7BS,EAAI,IAAIT,cAAqB,KAC7BU,EAAI,IAAIV,cAAqB,KAG7BW,aACL,MAAM,IAAIC,YAAY,oDAIjBC,WAAQC,GAGb,GAFAA,EAAMA,EAAIC,OAAO,EAAGD,EAAIE,OAAS,KACjCF,EAAMG,SAASH,EAAK,KACV,MAAM,IAAIF,YAAY,mCAChC,IACC,OAAOM,OAAOC,cAAcL,GAC3B,MAAOM,GACR,MAAM,IAAIR,YAAY,kCAKlBS,WAAOP,GAGZ,GAFAA,EAAMA,EAAIQ,UAAU,KACpBR,EAAMG,SAASH,EAAK,KACV,MAAM,IAAIF,YAAY,mCAChC,OAAOM,OAAOK,aAAaT,IAItBU,WAAOV,GAGZ,GAFAA,EAAM,KAAKA,EAAIQ,UAAU,KACzBR,EAAMG,SAASH,EAAK,KACV,MAAM,IAAIF,YAAY,uCAChC,OAAOM,OAAOK,aAAaT,IAGtBW,WAAYC,GAMjB,IAJA9B,IACM+B,EAAU,SADCD,EAAOE,MAAM9B,mBAIN,CAAnB+B,IACEC,OACJC,QAAQhC,EAAKY,GACboB,QAAQ9B,EAAKY,GACbkB,QAAQ7B,EAAKmB,GACbU,QAAQ5B,EAAKqB,GACbO,QAAQ1B,EAAG,MACX0B,QAAQzB,EAAG,MACXyB,QAAQxB,EAAG,MACXwB,QAAQvB,EAAG,MACXuB,QAAQtB,EAAG,MACXsB,QAAQrB,EAAG,MAEXqB,QAAQ3B,EAAK,IACfuB,EAAQK,KAAKF,GAGd,OAAOH,EAAQM,KAAKpC,IAKfqC,WAAaR,EAAQ7B,GAI1B,IAHAD,IAHmB8B,EAIbS,EAAe,GACjBR,GAAU,QAFGD,EAAOE,MAAM/B,mBAGN,CAAnBgC,IAAIO,OACJT,EAASQ,EAAaA,EAAanB,OAAS,IAAM,GAAGnB,EAAOuC,EAC3DD,EAAaH,KAAKI,GACvBT,GATkBD,EASIU,GATaV,EAAOV,OAAS,KAAOnB,EAW3D,OAAOsC,GAGFE,WAAWX,EAAQ7B,GAGxB,IAFAD,IAAM0C,EAAWZ,EAAOE,MAAM9B,GACxB6B,EAAUO,EAAUI,EAASC,QAAS1C,SAC9ByC,kBAAU,CAAnBT,IAAIO,OACFD,EAAeD,EAAUE,EAAGvC,GAClC8B,EAAQA,EAAQX,OAAS,IAAM,KAAgBmB,EAAaI,QAC5DZ,EAAQK,WAAKL,EAAGQ,GAEjB,OAAOR,GChGFa,EAAc,UACdC,EAAW,CAChB,OAAQ,QAAS,QAAS,WAAY,SAAU,UAChD,aAAc,eAAgB,UAAW,WAAY,mBAEhDC,EAAW,eACXC,EAAc,eACdC,EAAU,kBAEVC,WAAeC,EAAKC,0BAAQ,oCAAuCD,gBAAgBC,EAAO,IAI1FC,WAAiBC,UAA8D,EAAvD,CAAC,SAAU,UAAW,UAAUC,eAAeD,IAEvEE,WAAUzB,GACf,IAAKA,EAAQ,MAAO,CAACA,GAAQ,GAC7B,IACC9B,IAAMwD,EAASC,KAAKC,MAAM5B,GAC1B,OAAsD,IAAlD,CAAC,SAAU,WAAWwB,eAAeE,GAAuB,CAAC3B,EAASC,IAAS,GAC5E,CAAC0B,GAAQ,GACf,MAAOG,GACR,MAAO,CAAC9B,EAASC,IAAS,KA+CtB8B,WAAgB9B,GACrBA,EAASA,EAAO+B,MAAM,EAAG/B,EAAOV,OAAS,GACzC,MAA6BqB,EAAQX,EAAQ,yBACvCgC,EAAUrB,EAAQsB,EAAMC,OAAQ,KAAKC,IAAIpC,KACjB0B,EAAOW,EAAS7B,KAAK,KAAK2B,sBACxD,OAAIZ,EAAee,KAAgBpC,IAAaA,GAA0B,KAAfoC,GAA4B,CAACL,EAASK,GAC1F,CAACL,IAGHM,WAAiBtC,GACtB9B,IAAMqE,EAAOvC,EAAOE,MAAMc,GAC1B,GAAoB,IAAhBuB,EAAKjD,OAAc,OAAOmC,EAAOzB,GAAQ,GAC7C9B,IAAMsE,EAAO,GACO,IAAhBD,EAAKjD,QAAiBiD,EAAK,IAAOA,EAAK,GACtCC,EAAKlC,KAAKiC,EAAKJ,IAAIpC,IADuByC,EAAKlC,KAAK,GAEzDpC,IAAMuE,EAAYzC,EAAO0C,MAAM1B,GAE/B,OADIyB,GAAWD,EAAKlC,WAAKkC,EAAGC,EAAUN,IAAIL,IACnCU,GAGFG,WAAWC,EAASC,GACrBA,GAAKD,EAAQtC,KAAKuC,IAGjBC,WAAa9C,GAClB9B,IAAM6E,EAAST,EAActC,GAC7B,GAAIsB,EAAeyB,GAAS,MAAO,IAAIA,GAGvC,IAFA,wBACMH,EAAU,GACPlC,EAAI,EAAGA,EAAIsC,EAAM1D,OAAQoB,IACjCiC,EAAQC,EAASL,EAAK7B,IACtBkC,EAAQtC,KAAK0C,EAAMtC,IAGpB,OADAiC,EAAQC,EAASL,EAAKA,EAAKjD,OAAS,IAC7BsD,GAGFK,WAAa7D,UAAOA,EAAIiB,QAAQ,MAAO,MAevC6C,WAAkBlD,GACvB9B,IAAMiF,EAAUxC,EAAQX,EAAQ,KAChC,MAAO,CACNoD,KAAMrD,EAASoD,EAAQtC,QAAQqB,QAC/BmB,MAAOf,EAAca,EAAQ5C,KAAK,KAAK2B,UAoDnCoB,WAAaC,EAASC,EAAMC,GACjCvF,IAAMwF,EAAUnE,SAASkE,EAAQ,IACjC,GAAIE,MAAMD,GAAU,gBA1CFH,EAASE,GAC3B,OAAQA,GACP,IAAK,OACJF,EAAQK,EAAI,EACZ,MAED,IAAK,gBACJL,EAAQ7C,EAAI,EACZ,MAED,IAAK,UACJ6C,EAAQM,EAAI,EACZ,MAED,IAAK,QACJN,EAAQO,EAAI,EACZ,MAED,IAAK,MACJP,EAAQQ,EAAI,EACZ,MAED,IAAK,OACJR,EAAQS,EAAI,EACZ,MAED,IAAK,OACJT,EAAQ3E,EAAI,EACZ,MAED,IAAK,UACJ2E,EAAQU,EAAI,EACZ,MAED,QACCC,QAAQC,gDAAgDV,SAO/BW,CAAUb,EAASxD,EAAS0D,IACvDD,EAAKlD,KAAKoD,IAqBLW,WAAaC,kDAClB,GAAYjD,EA/LqBhB,QAAQ,KAAM,IA+L/C,KAhLkBL,EAAQuE,EAARvE,EAiLRqB,EAhLiB,QADDkD,EAiLVA,GAhLAC,SAChBD,EAAYC,OAASxE,EAAO0C,MAAM,OAAO,GACrC6B,EAAYC,SAAQD,EAAYE,UAAYF,EAAYC,SAgL5DtG,IAAMwG,WA7Ke1E,EAAQuE,EAAa7D,GAC1C,GAAI6D,EAAYE,UAAW,CAC1BtE,IAAIwE,GAAU,EAKd,GAJA3E,EAASA,EAAOK,QAAQkE,EAAYE,qBAEnC,OADAE,GAAU,EACH,MAEHA,EAAS,MAAM,IAAIzF,YAAYiC,wDAAiEoD,EAAYK,UAAY,kBAAiBlE,IAE/I,OAAOV,EAoKa6E,CAAaxD,EAAMkD,EAAa7D,aAjKlCV,EAAQuE,GAC1B,IAAIA,EAAYO,UAAhB,CACA5G,IAAM6G,EAAS/E,EAAO0C,MAAMzB,GAAa,GACrC8D,IACHR,EAAYO,UAAY,IAAIxG,OAAOyG,EAAQ,OA8J5CC,CAAUN,EAAaH,GAEvB,QAbMU,EACAC,EAlEA/B,EArBAgC,mBAzDWnF,EAAQuE,EAAa7D,GACtCP,IAAIiF,EAAQ,EACRb,EAAYO,YAAW9E,EAASA,EAAOK,QAAQ,gBAAQwC,UAAOA,EAAIxC,QAAQkE,EAAYO,UAAW,SACrG5G,IAAM+G,EAAUjF,EAAOK,QAAQ,gBAASwC,GAEvC,OADAuC,EAAQvC,EAAIvD,OACL,KAER,GAAI,MAAM+F,KAAKJ,GAAU,MAAM,IAAI/F,YAAYiC,EAAY,aAAcT,IACzE,MAAO,OAAE0E,UAAOH,GAoJSK,CAASZ,EAAaH,EAAa7D,yBAE5D,GAAIuE,EAAS,CACZ,GAAIG,EAAQ,GAAqC,EAAhCA,EAAQb,EAAYK,WAAkBQ,EAAQb,EAAYK,WAAc,IAA2D,IAAtD,CAAC,UAAW,OAAOpD,QAAQ+C,EAAYgB,WAA+C,YAAzBhB,EAAYgB,UAAoC,IAAVH,GAAeb,EAAYiB,UAAY,MAAM,IAAItG,YAAYiC,wDAAiEoD,EAAYK,UAAY,gBAAcQ,EAAS1E,IAC9WxC,IAAMuH,EAAOR,EAAQ,GAErB,GADAA,EAAUA,EAAQlD,MAAM,IACnBwC,EAAYiB,WAA0C,GAA7B1E,EAAYU,QAAQiE,IAAuB,MAATA,EAAc,MAAM,IAAIvG,YAAYiC,EAAY,qBAAsBT,IACtI,IAAKuE,GAAwC,GAA7BnE,EAAYU,QAAQiE,GAAY,MAAM,IAAIvG,YAAYiC,EAAY,gBAAiBT,IAKnG,QAHI0E,EAAQb,EAAYK,WAAcQ,IAAUb,EAAYK,WAAsC,QAAzBL,EAAYgB,YAAqBhB,EAAYmB,qBA1JlGC,EAAKP,GAE1B,IADAjF,IAAIuF,EAAcC,EACTjF,EAAI,EAAGA,EAAI0E,EAAO1E,IAAKgF,EAAcA,EAAYA,EAAYpG,OAAS,GAC/E,OAAOoG,EAuJ8HE,CAAaD,EAAKP,IACtJb,EAAYK,UAAYQ,EAEhBK,GACP,IAAK,IACClB,EAAYiB,YAChBjB,EAAYiB,WAAY,EACxBjB,EAAYsB,SAAWT,GAExBlH,IAAM4H,GArHHX,EAAU,KACUxE,EAoHDsE,EApHgB5E,QAAQa,WAAU9B,GAE1D,OADA+F,EAAQb,IAAMlF,EAAI2C,MAAM,GACjB,KACJ,yBACJoD,EAAQY,IAAMhG,EAASgG,GACvBZ,EAAQa,MAAQ1D,EAAc2C,EAAQ1E,KAAK,MACd,iBAAlB4E,EAAQa,MAAoBb,EAAQa,MAAQ/C,EAAWkC,EAAQa,OAAO9D,OACxEiD,EAAQa,MAAM,KAAIb,EAAQa,MAAM,GAAKb,EAAQa,MAAM,GAAG7D,IAAIc,IAC5DkC,GA6GEc,EAAU,CAAC,CAChBrH,EAAGkH,EAAKC,MAELD,EAAKE,QACRC,EAAQ,GAAGlC,EAAI,GACfkC,EAAQ,GAAGlC,EAAEiC,MAAQF,EAAKE,OAEvBF,EAAKxB,MAAK2B,EAAQ,GAAGjH,EAAI8G,EAAKxB,KAClCC,EAAYmB,YAAYpF,KAAK2F,GAC7B1B,EAAYmB,YAAcO,EAC1B1B,EAAYgB,SAAW,MACvB,MAED,IAAK,IACJ,MAAwBrC,EAAe+B,sBAClCV,EAAYmB,YAAY,GAAG3B,IAAGQ,EAAYmB,YAAY,GAAG3B,EAAI,IAClEQ,EAAYmB,YAAY,GAAG3B,EAAEX,GAAQC,EACrCkB,EAAYgB,SAAW,OACvB,MAED,IAAK,IACJ,MAAwBrC,EAAe+B,sBAClCV,EAAYmB,YAAY,GAAG7B,IAAGU,EAAYmB,YAAY,GAAG7B,EAAI,IAClEU,EAAYmB,YAAY,GAAG7B,EAAET,GAAQC,EACrCkB,EAAYgB,SAAW,OACvB,MAED,IAAK,IACJ,MA5HI,CACNnC,MAFKD,EAAUxC,EA6HsBsE,EA7HN,MAEjBpE,QAAQqB,OACtBmB,MAAOF,EAAQ5C,KAAK,KAAK2B,2BA2HlBqC,EAAYmB,YAAY,GAAG7D,IAAG0C,EAAYmB,YAAY,GAAG7D,EAAI,IAClE3D,IAAMqF,WA1EeH,GACxBlF,IAAMqF,EAAU,GACVC,EAAO,KACc7C,EAAQyC,EAAM,yBACzCG,EAAQ2C,EAAInG,EAASoG,GACrB,IAAK,UAASC,mBAATjG,IAAIO,OAAU4C,EAAUC,EAASC,EAAM9C,GAE5C,OADkB,EAAd8C,EAAKlE,SAAYiE,EAAQ8C,EAAI7C,GAC1BD,EAmEY+C,CAAgBlD,QA/DVzC,EAgEe0C,EAhEC,YACnC4B,aAAgB1E,KAAK,KACrB2E,EAAcnF,EAASqD,EAAKlB,QAC9B+C,EAAgB,CAACC,EAAa5C,EAAc2C,IACzC,CAACC,kBA6DL3B,EAAQgD,EAAIC,EACRC,IAAQlD,EAAQzE,EAAI2H,GACxBlC,EAAYmB,YAAY,GAAG7D,EAAEvB,KAAKiD,GAClCgB,EAAYgB,SAAW,QACvB,MAED,IAAK,OACJhB,EAAYmB,aAAYpF,WAAKoG,EAAG5D,EAAUmC,IAC1CV,EAAYgB,SAAW,OACvB,MAED,IAAK,IACiC,EAAjChB,EAAYmB,YAAYpG,SAAY2F,EAAU,KAAKA,MACvDV,EAAYmB,aAAYpF,WAAKqG,EAAG7D,EAAUmC,IAC1CV,EAAYgB,SAAW,iBACvB,MAED,IAAK,IACJ,IAAmC,IAA/BxE,EAASS,QAAQyD,GAAiB,MAAM,IAAI/F,YAAYiC,oBAA8B8D,yBAA+BvE,IACzH6D,EAAYmB,YAAYpF,KAAK,CAC5BzB,EAAGoG,EACHrG,EAAG,IAEJ2F,EAAYgB,SAAW,OACvB,MAED,IAAK,IACJhB,EAAYmB,YAAYpF,KAAK,CAC5BzB,EAAGoG,EACHrG,EAAG,IAEJ2F,EAAYgB,SAAW,OACvB,MAED,QACChB,EAAYgB,SAAW,cAMrBqB,WAAYC,GACjB,IAAKA,EAAU,MAAM,IAAIC,UAAU3F,EAAY,yCAC/CjD,IAAM6I,SAAiBF,EACvB,GAAgB,WAAZE,EAAsB,MAAM,IAAID,UAAU3F,qCAA+C4F,IAY7F,IAXA7I,IAAM8I,EAAQH,EAAS3G,MAAM,SACvByF,EAAM,GACNpB,EAAc,CACnBO,UAAW,KACXF,UAAW,EACXJ,OAAQ,KACRC,UAAW,KACXc,SAAU,UACVG,YAAaC,EACbH,WAAW,GAEH9E,EAAI,EAAGA,EAAIsG,EAAM1H,OAAQoB,IAAK2D,EAAU,CAAChD,KAAM2F,EAAMtG,OAAIiF,cAAKpB,IAAa7D,IAEpF,GAAIiF,EAAI,GAAI,OAAOA,EAAI,GACvB,MAAM,IAAIzG,YAAYiC,EAAY,uBAAwB6F,EAAM1H,OAAS,KChUpE2H,WAAU1F,GACf,OAAI2F,MAAMC,QAAQ5F,GAAa,eACjBA,GCFT6F,WAAU7E,gEAEf,IADApC,IAAIH,EAAS,GACJU,EAAI,EAAGA,EAAIsC,EAAM1D,OAAQoB,IAAKV,GAAWuC,EAAK7B,GAAKsC,EAAMtC,GAClE,OAAOV,EAASuC,EAAKA,EAAKjD,OAAS,IAG9B+H,WAAU/C,8BCNVgD,EAAQJ,MAAMK,UAEdC,EAAM,CACXC,cAAKC,GACJ,OAAOJ,EAAMvF,MAAM4F,KAAKD,EAAK,IAE9BE,eAAMF,GAEL,OADAA,EAAIpI,OAAS,EACNoI,GAERG,gBAAOC,EAAMC,GACZ,IAAKb,MAAMC,QAAQY,GAAQ,OAAO,EAClC,GAAID,IAASC,EAAO,OAAO,EAC3B,GAAID,EAAKxI,SAAWyI,EAAMzI,OAAQ,OAAO,EACzC,IAAKa,IAAIO,EAAI,EAAGwF,EAAI4B,EAAKxI,OAAQoB,EAAIwF,EAAGxF,IACvC,GAAIoH,EAAKpH,KAAOqH,EAAMrH,GAAI,OAAO,EAElC,OAAO,GAERsH,aAAIN,GACH,OAAOJ,EAAMU,IAAIL,KAAKD,IAEvBpH,cAAKoH,gEACJ,OAAOJ,EAAMhH,KAAK2H,MAAMP,EAAKQ,IAE9BC,gBAAOT,EAAKU,GACXlK,IAAMmK,EAAQf,EAAM9F,QAAQmG,KAAKD,EAAKU,GACtC,IAAa,EAATC,EAEH,OADAf,EAAMgB,OAAOX,KAAKD,EAAKW,EAAO,GACvBD,GAGTG,iBAAQb,GACP,OAAOJ,EAAMiB,QAAQZ,KAAKD,IAE3Bc,qBAAYd,GAEX,IADAxJ,IAAMuK,EAAS,GACN/H,EAAI,EAAGA,EAAIgH,EAAIpI,OAAQoB,IAAK,CACpC,IAAKP,IAAIuI,EAAIhI,EAAI,EAAGgI,EAAIhB,EAAIpI,OAAQoJ,IAAShB,EAAIhH,KAAOgH,EAAIgB,KAAIA,EAAIhI,GAAK,GACzE+H,EAAOnI,KAAKoH,EAAIhH,IAEjB,OAAO+H,GAER5H,eAAM6G,GACL,OAAOJ,EAAMzG,MAAM8G,KAAKD,IAEzB3F,eAAM2F,EAAKW,EAAO/I,GACjB,OAAOgI,EAAMvF,MAAM4F,KAAKD,EAAKW,EAAO/I,IAErCqJ,cAAKjB,EAAKkB,GACT,OAAOtB,EAAMqB,KAAKhB,KAAKD,EAAKkB,IAE7BN,gBAAOZ,gEACN,OAAOJ,EAAMgB,OAAOL,MAAMP,EAAKmB,IAEhCC,iBAAQpB,gEACP,OAAOJ,EAAMwB,QAAQb,MAAMP,EAAKQ,KAI9Ba,OAAOC,KAAO9B,MAAM+B,KAAMzB,EAAI0B,gBAASxB,UAAOR,MAAM+B,KAAK,IAAID,IAAItB,KAChEF,EAAI0B,OAAS1B,EAAIgB,YC3DtBtK,IAAMiL,EAAoB,GACpBC,EAAW,GACXC,EAAY,GACdC,EAAQ,EAENC,WAAQC,UAAYL,EAAkB7I,WAAK6I,EAAGK,IAC9CC,WAAWC,UAAWN,EAAS9I,KAAKoJ,IAKpCC,aAEL,OADAL,GAAS,GAkBJM,aACL,GAAyB,IAArBP,EAAU/J,OAAd,CAEA,IADApB,IAAM2L,EAAcrC,EAAI0B,OAAOG,SACjBQ,oBAAanJ,UACgBwD,QAAQ4B,KAAK,OAAWuD,uCAA8CQ,uBACjHrC,EAAII,MAAMyB,KAGLS,WAAQC,GACb,OAAKA,GAA4B,GAAdT,GAAS,MAC5BA,EAAQ,GAEJH,EAAkB7J,mBAxBtB,IADApB,IAAM8L,EAAcxC,EAAI0B,OAAOC,SACjBa,mBAAatJ,UACgBwD,QAAQ4B,KAAK,OAAWqD,+CAA8Da,uBACjIxC,EAAII,MAAMuB,GAsBwBc,GAEZ,EAAlBb,EAAS9J,mBAnBb,IADApB,IAAMgM,EAAiB1C,EAAIgB,YAAYY,SACzBc,mBAAgBxJ,UACawD,QAAQ4B,KAAK,OAAWsD,sCAA4Cc,uBAC/G1C,EAAII,MAAMwB,GAiBee,GAGF,EAAnBd,EAAU/J,QAAY8K,WAAWR,EAAe,IARTN,GCnCtCe,EAASC,OAAOD,iBALLE,EAAIC,GACpB,IAAKrK,IAAIO,KAAK8J,EAAID,EAAG7J,GAAK8J,EAAG9J,GAC7B,OAAO6J,GCgBFE,WAAuBxI,EAAOV,EAAKmJ,GACxC,IAAK,UAASzI,kBAAO,CAAhB9B,IAAIO,OACR,IAAKa,EAAIb,GAAI,CACZxC,IAAMyM,EAAO,GACbL,OAAOM,eAAerJ,EAAKb,EAAG,CAC7BmK,eACC,OAAOF,GAERG,aAAIC,GACHpB,IACAU,EAAOM,EAAMI,GACbjB,KAEDkB,cAAeN,EACfO,WAAYP,IAGdnJ,EAAMA,EAAIb,GAEX,OAAOa,GCnCF2J,GAAsB,GAQtBC,YAAmBC,EAAgBL,OAJvBK,EAEDA,EAFCA,EASPA,EATyBF,GAAoB5K,KAAK8K,GAW5DzB,IACA,IACC,IAAK,UAAoByB,oBAAgBC,QAAWN,IACnD,MAAOlJ,GACRqC,QAAQoH,MAAM,OAAQ,6CAA8CzJ,GAErEiI,IAfgBsB,EAiBPA,EAjByB5D,EAAIW,OAAO+C,GAAqBE,ICR7DG,YAAQhK,UAAOA,GAAQA,GCuBvBiK,YAAelH,OHiBJA,cACVmH,UGpCenH,4EAmBfrC,EAAQuF,EAAIC,KAAKiE,EAAK,IACtBC,EAAO1J,EAAM+F,SHeH1D,EGdsD,OACrErC,OACA0J,EACAZ,KAAMa,EAAMC,eACZrC,cACAsC,YACAC,0EHSKN,EAAahB,EAAoBxI,EAAO8I,GAAM,cAvC7BzG,GACvB,mEAAcrC,kBAAO,CAAhB9B,IAAIO,OACH8I,EAAS9I,KAAI8I,EAAS9I,GAAK,IAC3BoL,EAAYpL,KAAIoL,EAAYpL,GAAK,IACjCqL,EAAUrL,KAAIqL,EAAUrL,GAAK,IAClC8I,EAAWA,EAAS9I,GACpBoL,EAAcA,EAAYpL,GAC1BqL,EAAYA,EAAUrL,GAEvB,MAAO,CACNsL,YAAaxC,EACb4B,eAAgBU,EAChBG,SAAUF,GA4BqCG,CAAe,OAACjK,WAAOuH,cAAUsC,YAAaC,oDACzFC,EAAYL,KAAOK,EAAYL,GAAQ,IACvCP,EAAeO,KAAOP,EAAeO,GAAQ,IAC7CrB,OAAO/C,UAAU4E,eAAexE,KAAKsE,EAAUN,KAAOM,EAASN,GAAQ,IACrE,YAAEF,EAAYO,YAAaA,EAAYL,GAAOP,eAAgBA,EAAeO,YAAOM,mEGL3F,OALK3B,OAAO/C,UAAU4E,eAAexE,KAAK8D,EAAYE,QA/BjCrH,EA+BqD,YAACmH,WAAYQ,cAAUD,iBAAaZ,QAAgBQ,OAAOD,kFA9BrIrB,OAAOM,eAAea,EAAYE,EAAM,CACvCd,eACC,OAAOoB,EAASN,IAEjBb,aAAIzH,GAEC4I,EAASN,KAAUtI,GAAUkI,GAAMU,EAASN,KAAUJ,GAAMlI,KAChE4I,EAASN,GAAQtI,EACjBsG,IACAJ,EAAMyC,GACNlC,IAC4B,EAAxBsB,EAAe9L,QAAY6L,GAAgBC,EAAgB,OAACQ,QAAOvI,MAExE4H,YAAY,KAoBK,EAAdS,EAAKpM,SAAYmM,EAAWE,GAAQD,EAAK,IAEtC,UAACO,aAAUR,cAAYO,iBAAaZ,OAAgBO,ICvCtDS,YAAYhJ,EAAMiJ,kBAAQ,CAC/BC,SAAS,EACTC,YAAY,IAEZrO,IAAMsO,EAAQC,SAASC,YAAY,SAEnC,OADAF,EAAMG,UAAUvJ,EAAMiJ,EAAMC,QAASD,EAAME,YACpCC,GCHFlL,YAAiBC,UAA8D,EAAvD,CAAC,SAAU,UAAW,UAAUC,eAAeD,IAQvEqL,YAAcC,OALC9G,mCAMd+G,GANc/G,EAMQA,EAAKgH,EALjBN,SAASO,gBAAgB,6BAA8BjH,GAChE0G,SAASQ,cAAclH,IAS9B,OAJIzB,GAAKgG,OAAOM,eAAesC,EAAM5I,EAAK,CACzCjB,MAAOyJ,EACP7B,YAAY,IAEN6B,GAGFK,YAAW7I,gFAChB,GAAI4C,MAAMC,QAAQ/H,GAAM,CACvB,wBACMoD,EAAO,CAACD,GACR6K,oBAAiB1D,WTnBTnH,gEACf,IAAKA,EAAM,OAAO8E,EAAOrE,EAAM,IAC/B9E,IAAM2I,EAAW,CAACtE,GAElB,OADAsE,EAASvG,WAAKuG,EAAG7D,EAAMb,IAAIkF,IACpBD,aAAO,EAAGP,eSesB,EAAGrE,KAMzC,OALAA,EAAKlC,WAAKkC,EAAGQ,EAAMb,aAAKiG,GACvB,MAAsCoD,GAAY,CAACE,KAAMtD,QAAMwD,WAAOpC,cAAUsC,YAAaC,0CAE7F,OADAC,EAAY1L,KAAK8M,GACV,UAACnB,OAAUN,MAEZyB,EAER,yBAAahO,IAGRiO,YAAgB/I,sEAErBkD,EAAIW,OAAO6D,EAAaoB,GACxBzD,IACA8B,EAAWE,GAAQtI,EACnByG,IAEAtC,EAAIlH,KAAK0L,EAAaoB,IAuDjBE,YAAWhJ,OAdOwI,EAASS,oFAehC,GAAIjM,GAAekM,GAAOV,EAAQW,aAAaF,EAAKC,OAC/C,CACJtP,IAAMwL,GAjBgBoD,EAiBSA,EAhBpB,WADoBS,EAiBSA,YAhBZnO,GAG5B,KAFAA,MAASA,GAAMiB,QAAQ,OAAQ,KAAK6B,QAE1B,OAAO4K,EAAQY,gBAAgBH,GACzCT,EAAQW,aAAaF,EAAKnO,aAEnBA,GAEP,GAAY,KAARA,EAAY,OAAO0N,EAAQY,gBAAgBH,GAC/CT,EAAQW,aAAaF,EAAKnO,KAQ1BmK,EAAM,CAAC4D,GAAQ,CAAC/N,IAAKoO,QAAM5B,WAAOpC,cAAUsC,YAAaC,UAAWrC,QAIhEiE,YAAWrJ,OA5DOA,0BAEjBsJ,oFA2DN,GAAItM,GAAeuM,GAAOf,EAAQS,GAAOM,MACpC,CACJ3P,IAGMkP,EAAWD,GAAQ,CAAC/N,IAAKyO,QAAMjC,WAAOpC,cAAUsC,YAAaC,mBAHlD3M,GAChB0N,EAAQS,GAAOnO,KAGH,UAARmO,GACI,YAARA,GACCM,EAAK,KArEevJ,EAqEI,UAAC8I,QAAUxB,WAAOpC,cAAUsC,YAAaC,UAAWe,MAASS,EAAKO,KAAMD,EAAK,qGApEhErC,GAAY,CAACE,KAAMoC,QAAMlC,WAAOpC,cAAUsC,YAAaC,4CACzF6B,oBAAgBP,GAAa,YAAC5B,cAAYO,WAAaoB,OAAUzB,EAAMtI,MAAOyJ,EAAQzJ,SAChF,UAARkK,GAEHT,EAAQiB,iBAAiB,QAASH,GAAS,GAC3Cd,EAAQiB,iBAAiB,QAASH,GAAS,GAC3Cd,EAAQiB,iBAAiB,SAAUH,GAAS,KAS5Cd,EAAQiB,iBAAiB,oBAGxB,GADAjB,EAAQkB,cAAc5B,GAAS,oBACP,UAApBU,EAAQmB,SAAwC,UAAjBnB,EAAQrH,MAAqC,KAAjBqH,EAAQ1J,KAAa,CAEnFlF,IAAMgQ,EAASzB,SAAS0B,+BAA+BrB,YACvD,GAAIoB,EAAQ,CACXhQ,IAAMkQ,EAAW5G,EAAIC,KAAKyG,GAC1B1G,EAAIW,OAAOiG,EAAUtB,GAKrB,IAAK,UAASsB,uBAAYJ,cAAc5B,GAAS,wBAGjD,GAEHU,EAAQiB,iBAAiB,oCAAyBV,GAAa,YAAC5B,cAAYO,WAAaoB,OAAUzB,EAAMtI,MAAOyJ,EAAQuB,cAoCxH9E,EAAM,CAAC6D,MAKHkB,YAAalP,UAAOA,GAEpBmP,YAAYjK,0JAiBX8I,EAAWD,GAAQ,CAAC/N,IAAKN,QAAG8M,WAAOpC,cAAUsC,YAAaC,EAAWrC,QAAS4E,KACpFxB,EAAQiB,iBAAiB7H,WAAIrE,KACtBiC,KAAQjC,EAAE2M,YACbzK,KAAQlC,EAAE4M,UACVzK,KAAQnC,EAAE6M,WACV9P,KAAQiD,EAAE8M,SACXtI,IAA6B,IAAxBA,EAAE7E,QAAQK,EAAE+M,SACfhL,GAAG/B,EAAEgN,kBACLnO,GAAGmB,EAAEiN,2BACLjL,GAAGhC,EAAEkN,iBACLnD,EAAMoD,SAASzI,GAAIqF,EAAMoD,SAASzI,GAAG,GAAC1E,EAAGwB,MAAO+J,UAAYxB,IAChB1H,QAAQC,KAAK,wBAAyBoC,uCAAuC6G,SACzHnJ,IC1JAqD,GAAQ2H,KAAK1H,UAGb2H,GAAM,CAyCXC,gBAAOxE,gEACNzM,IAAMkR,EAAe3C,SAAS4C,yBAC9BC,EAAM/G,UACN,IAAK,UAAS+G,mBAATnP,IAAIO,OAAY4G,GAAMiI,YAAY5H,KAAKyH,EAAc1O,GAC1D4G,GAAMkI,aAAa7H,KAAKgD,EAAKc,WAAY2D,EAAczE,IAGxD8E,eAAM9E,gEAEL,IADAzM,IAAMkR,EAAe3C,SAAS4C,+BAChBC,mBAATnP,IAAIO,OAAY4G,GAAMiI,YAAY5H,KAAKyH,EAAc1O,GACtDiK,EAAK+E,YAAapI,GAAMkI,aAAa7H,KAAKgD,EAAKc,WAAY2D,EAAczE,EAAK+E,aAC7EpI,GAAMiI,YAAY5H,KAAKgD,EAAKc,WAAY2D,IAG9CO,gBAAOhF,gEACN,IAAyC,IAArC,CAAC,EAAE,EAAE,IAAInJ,QAAQmJ,EAAKiF,UAA1B,CAEA,IADA1R,IAAMkR,EAAe3C,SAAS4C,+BAChBC,mBAATnP,IAAIO,OAAY4G,GAAMiI,YAAY5H,KAAKyH,EAAc1O,GAC1D4G,GAAMiI,YAAY5H,KAAKgD,EAAMyE,KAmC9BjH,gBAAOwC,GACNrD,GAAMuI,YAAYlI,KAAKgD,EAAKc,WAAYd,KC9FpCmF,GAAS,CACdlI,iBACC+B,IACA,IAAK,UAASnC,EAAIC,iCAAcsI,WAChCjG,IACAtC,EAAII,MAAMoI,OAEXhI,eACC,GAAoB,IAAhBgI,KAAK1Q,OAAT,CACApB,IAAM+R,EAAQzI,EAAIQ,IAAIgI,MAEtB,OADAC,EAAMC,UACCD,IAER3P,cAAKgE,6FACJpG,IAAMiS,EAAW,GACjBxG,IACA,IAAK,UAASzB,mBAAT/H,IAAIO,OAAY8G,EAAIlH,KAAK6P,EAAUzP,EAAE0P,OAAO,CAACC,OAAQzE,MAAO2B,KAIjE,OAHoB,IAAhByC,KAAK1Q,OAAc4P,GAAIO,gBAAMa,UAAWH,IACvCjB,GAAIO,gBAAMO,KAAKA,KAAK1Q,OAAS,GAAGiR,KAAKC,SAASC,oBAAgBN,IACnErG,IACOtC,EAAIlH,cAAK0P,aAAS9H,KAE1BC,gBAAOC,GACN,IAA4B,IAAxB4H,KAAKxO,QAAQ4G,GAEjB,OADAA,EAAK8H,UACE9H,GAERG,iBAAQjE,oCACP,GAAoB,IAAhB0L,KAAK1Q,OAAc,OAAO0Q,KAC9B9R,IAAMwS,EAAUlJ,EAAIC,KAAKuI,MACnBG,EAAW,GACjBxG,IACA,IAAKxJ,IAAIO,EAAIgQ,EAAQpR,OAAS,EAAQ,GAALoB,EAAQA,IACxCgQ,EAAQhQ,GAAGwP,UACX1I,EAAIlH,KAAK6P,EAAUO,EAAQhQ,GAAG0P,OAAO,CAACC,OAAQzE,MAAO2B,KAKtD,OAHA/F,EAAIlH,cAAK0P,aAASxI,EAAIe,QAAQmI,KAC9BxB,GAAIO,gBAAMa,UAAWH,IACrBrG,IACOkG,MAERnP,iBACC,GAAoB,IAAhBmP,KAAK1Q,OAAT,CACApB,IAAMyS,EAAUnJ,EAAI3G,MAAMmP,MAE1B,OADAW,EAAQT,UACDS,IAERhI,cAAKrE,EAAsBsE,oCAC1B,GAAoB,IAAhBoH,KAAK1Q,OAAc,OAAO0Q,KAC9B9R,IAAM0S,EAASpJ,EAAIC,KAAKD,EAAImB,KAAKqH,KAAMpH,IACjCuH,EAAW,GACjBxG,IACA,IAAK,UAASiH,kBAAQ,CAAjBzQ,IAAIO,OACRA,EAAEwP,UACF1I,EAAIlH,KAAK6P,EAAUzP,EAAE0P,OAAO,CAACC,OAAQzE,MAAO2B,KAK7C,OAHA/F,EAAIlH,cAAK0P,aAASY,IAClB1B,GAAIO,gBAAMa,UAAWH,IACrBrG,IACOkG,MAER1H,yEACC,GAAoB,IAAhB0H,KAAK1Q,OAAc,OAAO0Q,KAC9B9R,IAAM2S,EAAUrJ,EAAIc,gBAAOd,EAAIC,KAAKuI,cAAUnH,IAC9Cc,IACA,IAAK,UAASkH,wBAAWX,UAEzB,OADApG,IACO+G,GAER/H,iBAAQxE,+FACP,GAAoB,IAAhB0L,KAAK1Q,OAAc,SAAO0Q,MAAK1P,WAAKuM,EAAG3E,GAAO5I,OAClDpB,IAAMiS,EAAW,GACjBxG,IACA,IAAK,UAASzB,mBAAT/H,IAAIO,OAAY8G,EAAIlH,KAAK6P,EAAUzP,EAAE0P,OAAO,CAACC,OAAQzE,MAAO2B,KAGjE,OAFA2B,GAAIO,gBAAMa,UAAWH,IACrBrG,IACOtC,EAAIsB,iBAAQkH,aAAS9H,MCvCxB4I,YAAoBxM,iDACzBgG,OAAOM,eAAegB,EAAO2B,EAAK,CACjC1C,eACC,OAAOkG,EAASxD,IAEjBzC,aAAIzH,OAxBsBiB,eAAAA,EAyBN,OAACsH,WAAOmF,MAAUxD,SAAK+C,QAAQjN,oDAxBhD0N,EAASxD,KAASlK,IAClBA,IACCA,EAAMkN,KAAKC,SAASH,QAAiDnM,QAAQC,KAAK,OAAQ,uEAC1Fd,EAAMkN,KAAKC,SAAS1D,QAAQkE,SAASpF,EAAM2E,KAAKC,SAAS1D,UACjB5I,QAAQC,KAAK,OAAQ,sDAKlEwF,IAEIoH,EAASxD,IAAMwD,EAASxD,GAAK2C,WAEjCa,EAASxD,GAAOlK,IACLA,EAAM+M,OAAO,CAACa,OAAQX,EAAQD,OAAQzE,EAAOnI,OAAQ,aAAU8J,IAC1EzD,OAWCmB,YAAY,EACZD,cAAc,KA6BVkG,YAAoB5M,ODKPoD,EAAK5B,4CCJvBiL,EAASxD,IDIS7F,ECJQ,GDIH5B,ECJO,OAAC8F,MAAO2B,SAAK+C,GDK3ChG,OAAO6G,iBAAiBzJ,EAAK,CAC5BE,MAAO,CAACvE,MAAOyM,GAAOlI,OACtBI,IAAK,CAAC3E,MAAOyM,GAAO9H,KACpB1H,KAAM,CAAC+C,MAAOyM,GAAOxP,KAAKoL,KAAKhE,EAAK5B,IACpCqC,OAAQ,CAAC9E,MAAOyM,GAAO3H,QACvBI,QAAS,CAAClF,MAAOyM,GAAOvH,QAAQmD,KAAKhE,EAAK5B,IAC1CjF,MAAO,CAACwC,MAAOyM,GAAOjP,OACtB8H,KAAM,CAACtF,MAAOyM,GAAOnH,KAAK+C,KAAKhE,EAAK5B,IACpCwC,OAAQ,CAACjF,MAAOyM,GAAOxH,QACvBQ,QAAS,CAACzF,MAAOyM,GAAOhH,QAAQ4C,KAAKhE,EAAK5B,MAEpC4B,GCfP4C,OAAOM,eAAegB,EAAO2B,EAAK,CACjC1C,eACC,OAAOkG,EAASxD,IAEjBzC,aAAIzH,GACC0N,EAASxD,IAAQ/F,EAAIK,OAAOkJ,EAASxD,GAAMlK,aAhCtBiB,2DAChBjB,EAAPA,EAAemE,EAAIC,KAAKpE,GACf,GACbnF,IAAMkT,EAAW3E,SAAS4C,yBAG1B,GADA1F,IACIoH,EAASxD,GAAM,CAClB,IAAK,UAASlK,kBAAO,CAAhBlD,IAAIuI,OACR,GAAIA,EAAE6H,KAAKC,SAAS1D,QAAQkE,SAASpF,EAAM2E,KAAKC,SAAS1D,SAExD,OAD2C5I,QAAQC,KAAK,OAAQ,qDAGjEuE,EAAEwH,UACFhB,GAAIS,OAAOyB,EAAU1I,EAAE0H,OAAO,CAACC,OAAQzE,MAAO2B,KAE/C,IAAK,UAAS/F,EAAIC,KAAKsJ,EAASxD,yBAAS2C,eACnC,IAAK,UAAS7M,mBAATlD,IAAIuI,OAAYwG,GAAIS,OAAOyB,EAAU1I,EAAE0H,OAAO,CAACC,OAAQzE,MAAO2B,KAE1EwD,EAASxD,GAAKjO,OAAS,EACvBkI,EAAIlH,cAAKyQ,EAASxD,WAASlK,IAE3B6L,GAAIO,MAAMa,EAAQc,GAClBtH,IAWEuH,CAAmB,OAACzF,WAAOmF,MAAUxD,SAAK+C,QAAQjN,KAEnD4H,YAAY,EACZD,cAAc,KAIVsG,YAAchN,OAtFEA,cAEfiN,UAEA7H,kIAmFN,OAAQkG,GACP,IAAK,SAEJV,GAAIS,OAAO7C,EAASL,SAAS+E,eAAe7G,IAC5C,MAED,IAAK,QACoB,WAApB1D,EAAO0D,EAAK,IAAkBuE,GAAIS,OAAO7C,EAAS2E,EAAO,MAAC9G,QAAMiB,YAAOG,OAAWmB,WAAM6D,WAAUvH,cAAUsC,MAAaiB,SAAK0E,SA9F/GnN,EA+FD,MAACqG,QAAMiB,WAAOpC,cAAUsC,YAAaC,UAAWe,0EA7F9DyE,EAAW9E,SAAS+E,eAAe,MACDhG,GAAY,CAACE,KAAMf,QAAMiB,WAAOpC,cAAUsC,YAAaC,0CACzFrC,aACL6H,EAASG,YAAczF,EAASN,IAEjCK,EAAY1L,KAAKoJ,GACjBH,EAAM,CAACG,IAGPwF,GAAIS,OAAO7C,EAASyE,IAqFlB,MAED,IAAK,SACJrT,IAAMoS,EAAS7D,SAAS+E,eAAe,IACvC,GAAe,IAAX7G,EAAK/L,EAASkS,GAAiB,OAAClF,EAAO2B,IAAK5C,EAAK9L,WAAGkS,SAAUT,QAC7D,CAAA,GAAe,IAAX3F,EAAK/L,EACT,MAAM,IAAIkI,oEAAoE6D,SAD5DuG,GAAiB,OAACtF,EAAO2B,IAAK5C,EAAK9L,WAAGkS,SAAUT,IAGvEpB,GAAIS,OAAO7C,EAASwD,GAGnBpB,GAAIC,OAAOmB,EAAQ7D,SAASkF,0CAA0ChH,UACtEuE,GAAIO,MAAMa,EAAQ7D,SAASkF,wCAAwChH,UAEpE,MAED,QACC,MAAM,IAAI7D,0DAA0D8I,SAKjE6B,YAAUnN,kIAEVyI,GAAkB,QAAXjH,EAAKlH,IAAamO,GAAM,GAKpC,IAHA7O,IAAM4O,WH2BgBxI,oHAUhBwI,EAAUF,GAAW,CAAC7G,IAAKnH,EAAG0F,IAAKtF,OAAGkO,MAAMH,IAClD,IAAK5M,IAAIO,KAAKqD,EAAGuJ,GAAQ,SAACR,EAASU,KAAMzJ,EAAErD,GAAI6M,IAAK7M,QAAGkL,WAAOpC,cAAUsC,YAAaC,IACrF,IAAK5L,IAAIO,KAAKmD,EAAG8J,GAAQ,SAACb,EAASe,KAAMhK,EAAEnD,GAAI6M,IAAK7M,QAAGkL,WAAOpC,cAAUsC,YAAaC,IACrF,IAAK5L,IAAIO,KAAKmB,EAAG0M,GAAS,SAACzB,EAASN,MAAO3K,EAAEnB,SAAIkL,WAAOpC,cAAUsC,YAAaC,IAC/E,OAAOe,EGzCSG,CAAc,MAACnH,QAAM8F,YAAOG,OAAWmB,WAAM1D,cAAUsC,MAAaiB,UAGtE6E,mBAATzR,IAAIO,OAAiB4Q,GAAW,CAAC3G,KAAMjK,EAAGkP,SAAU3I,EAAOvG,WAAIoM,QAASlB,YAAOG,OAAWmB,WAAM6D,WAAUvH,cAAUsC,MAAaiB,SAAK0E,IAE3I,OAAO3E,GCvIF+E,GAAe,CACpBC,OAAQ,SACRC,MAAO,QACPC,OAAQ,SACRC,QAAS,WCUJrG,cACL,WAAajG,GACZzH,IACMgP,EAAO,GACPnB,EAAY,GAEZvC,EAAW,GACXsC,EAAc,GACd0E,EAAW,CAChBC,YAAahE,SAAS+E,eAAe,IACrCnR,QAAS,GACTgQ,OAAQ,KACR9C,IAAK,MAOA2E,EAAWzF,SAAS4C,yBAEiBmB,EAASC,YAAchE,SAASkF,cAAc,4BAEzFzT,IAAMiU,aACL,GAA8B,EAA1B3B,EAASnQ,QAAQf,OAAY,CAChC,IAAK,UAASkR,EAASnQ,yBAAlBF,IAAIO,OAAuBwO,GAAI/G,OAAOzH,GAC3C8G,EAAII,MAAM4I,EAASnQ,SAEpB6O,GAAIC,OAAOqB,EAASC,YAAaD,EAAS1D,UAGrCsF,EAAM,OACXD,OAAOjF,YAAMnB,UA3BE,YA2BkBvC,cACjCsC,WAAa0E,WAAU0B,GAGxB5H,OAAOM,eAAeoF,KAAM,OAAQ,CACnCnF,eACC,OAAOuH,KAITzI,IAEAc,EAAoB,CAAC,SAAUuF,MAAM,GAErCQ,EAAS1D,QAAU2E,GAAO,CAAC9G,KAAMhF,EAAKiG,MAAOoE,eAAMjE,OAAWmB,WA5C7C,YA4C6D1D,cAAUsC,EAAaiB,KAAK,SAAO0E,KACjHvC,GAAIS,OAAOuC,EAAU1B,EAASC,aAC9BhH,EAAS0I,GACTrI,sEAGDuI,EAAIrD,wBAEH,OADoBgB,KAAKO,cAI1B8B,EAAIrD,sBAASsD,GACZ,MAAoBtC,KAAKO,aACzBlG,EAAOkI,EAASD,IAGjBD,EAAIG,qBACH,OAAOxC,KAAKO,KAAKrD,kBAGlBkD,gBAAO9L,kDACsB0L,KAAKO,4BAejC,GAdsB,iBAAXU,IAAqBA,EAASxE,SAASgG,cAAcxB,IAEhEtH,IACI6G,EAASH,SACZL,KAAKE,UACsChM,QAAQC,KAAK,OAAQ,qDAG5DkM,IAAQA,EAASY,GACjB1D,IAAKA,EAAM,mBAChBiD,EAASH,OAASA,EAClBG,EAASjD,IAAMA,EACf9D,EAAS0I,IAEJlB,EAEJ,OADAnH,IACO0G,EAASC,YAGjB,OAAQhN,GACP,KAAKoO,GAAaC,OACjB5C,GAAIC,OAAO8B,EAAQT,EAASC,aAC5B,MAED,KAAKoB,GAAaE,MACjB7C,GAAIO,MAAMwB,EAAQT,EAASC,aAC3B,MAED,KAAKoB,GAAaI,QACjB/C,GAAIC,OAAO8B,EAAQT,EAASC,aAC5BD,EAASnQ,QAAQC,KAAK2Q,GACtB,MAED,KAAKY,GAAaG,OAClB,QACC9C,GAAIS,OAAOsB,EAAQT,EAASC,aAG9B,OAAO3G,iBAGRoG,mBACC,MAAsCF,KAAKO,4DAM3C,GAJAC,EAASH,OAAS,KAClBG,EAASjD,IAAM,KAEf5D,IACI0G,GAAkB,oBAAR9C,GAA6B8C,EAAO9C,GAAM,CACvD,IAAIrG,MAAMC,QAAQkJ,EAAO9C,IAGxB,OADA8C,EAAO9C,GAAO,KACPzD,IAHwBtC,EAAIW,OAAOkI,EAAO9C,GAAMyC,MAQzD,OAFAd,GAAIS,OAAOuC,EAAU1B,EAASC,aAC9BhH,EAAS0I,GACFrI,iBAGR4I,oBAAWC,EAAStH,GACnB,MAA6C2E,KAAKO,gDAC5CtO,EAAQ0Q,EAAQzS,MAAM,OACesL,GAAY,CAACE,KAAM,CAACzJ,GAAQ2J,MAAOoE,cAAMxG,cAAUsC,YAAaC,6CAC3GpC,IAEA,IACC0B,EAAW,CAACO,MAAOoE,KAAM3M,MAAO4I,EAASN,KAEzCP,EAAe9K,KAAK+K,GACnB,MAAOxJ,GACRqC,QAAQoH,MAAM,OAAQ,8CAA+CzJ,GAEtEiI,iBAGD8I,sBAAa3Q,EAAO2G,GACnB,IAtJ0BA,EACrBwC,IAqJmB4E,KAAKO,iBAtJH3H,EAuJPA,EAtJdwC,WVwCoBnJ,EAAO6J,GAGjC,IAFA5N,IAAM8D,EAAUC,EAAM/B,MAAM,KACtBqN,EAAMvL,EAAQgG,YACNhG,kBAAS,CAAlB7B,IAAIO,OACHoL,EAAYpL,KAAIoL,EAAYpL,GAAK,IACtCoL,EAAcA,EAAYpL,GAE3B,OAAOoL,EAAYyB,GU/CIsF,CAsJV5Q,EAAW6J,GArJxBtE,EAAIW,OAAOiD,EAAgBxC,gBAwJ3BkK,iBAAQC,GACPpJ,IACAzL,IAAM8U,EAAW3I,EAAO,GAAI0I,GACxBC,EAASnH,QACZxB,EAAO2F,KAAKnE,MAAOmH,EAASnH,cACrBmH,EAAc,OAElBA,EAAShE,WACZ3E,EAAO2F,KAAKhB,SAAUgE,EAAShE,iBACxBgE,EAAiB,UAEzB3I,EAAO2F,KAAMgD,GACblJ,iBAGDiG,0BACsBC,KAAKO,cAG1B,IAAKpQ,IAAIO,KAFTiJ,IACAqG,KAAKE,oBAECxP,GAAK,iBACEA,GAQb,OALA+I,aACCyF,GAAI/G,OAAOqI,EAAS1D,SACpBoC,GAAI/G,OAAOqI,EAASC,eAGd3G,iDC1LH2H,YAAUpO,GACfnF,IAAMyH,EAAMtC,EASZ,8BAPa0P,GACXpJ,IACAsJ,YAAMtN,GACFoN,GAAU/C,KAAK8C,QAAQC,GAC3BjJ,yFALuB8B,KAaiB1H,QAAQ4B,KAAK,sCCHxD3F,IAAI+S,GAAStM,EAEP6K,YAAUpO,GACfnF,ICnBwBgV,EDmBlBC,EAAUlM,EAAO5D,GACvB,GAAgB,WAAZ8P,GCpBoBD,EDoBuBA,MCnBlCA,EAASE,GDmBI/P,EClBnB6P,EDkBiC7P,QACnC,GAAgB,UAAZ8P,EAAqB,MAAM,IAAIrM,UAAU,+DAElD,OAAOuM,GAAgBhQ,IAwBmBa,QAAQ4B,KAAK,oIAhBjC2L,GAAOrK,aAAO,EAAGyB,qCdxBnBa,UAAWL,EAAU/I,KAAKoJ,oCA6C/B4J,GACf3J,IACA,IACC,OAAOG,EAAKwJ,EAAG3J,EAAQG,IACtB,MAAOjI,GAER,OADAqC,QAAQoH,MAAM,OAAQ,wCAAyCzJ,GACxDiI,iCAjDsB,EAARR,sBckBJiK,GAClBL,GAASK,8OE7BsDC,qBAKhE,IAAIC,EAAUvM,MAAMC,SAAW,SAAUO,GACvC,MAA8C,kBAAvC4C,OAAO/C,UAAUmM,SAAS/L,KAAKD,IAMpCiM,EAAiBC,EACjBC,EAAUjS,EACVkS,EA+FJ,SAAkBjR,GAChB,OAAOkR,EAAiBnS,EAAMiB,KA/F5BmR,EAAqBD,EACrBE,EAAmBC,EAOnBC,EAAc,IAAI7V,OAAO,CAG3B,UAOA,kGACAiC,KAAK,KAAM,KAQb,SAASqB,EAAOiB,GAOd,IANA,IAIIuR,EA+JgBC,EAnKhBC,EAAS,GACT/G,EAAM,EACNlF,EAAQ,EACRkM,EAAO,GAG6B,OAAhCH,EAAMD,EAAYrK,KAAKjH,KAAe,CAC5C,IAAI0D,EAAI6N,EAAI,GACRnU,EAAUmU,EAAI,GACd5P,EAAS4P,EAAI/L,MAKjB,GAJAkM,GAAQ1R,EAAId,MAAMsG,EAAO7D,GACzB6D,EAAQ7D,EAAS+B,EAAEjH,OAGfW,EACFsU,GAAQtU,EAAQ,OADlB,CAMIsU,IACFD,EAAOhU,KAAKiU,GACZA,EAAO,IAGT,IAAIC,EAASJ,EAAI,GACbhR,EAAOgR,EAAI,GACXK,EAAUL,EAAI,GACdC,EAAQD,EAAI,GACZM,EAASN,EAAI,GACbO,EAAWP,EAAI,GAEfQ,EAAoB,MAAXF,GAA6B,MAAXA,EAC3BG,EAAsB,MAAXH,GAA6B,MAAXA,EAC7BI,EAAYN,GAAU,IACtBO,EAAUN,GAAWJ,IAAUM,EAAW,KAAO,KAAOG,EAAY,OAExER,EAAOhU,KAAK,CACV8C,KAAMA,GAAQmK,IACdiH,OAAQA,GAAU,GAClBM,UAAWA,EACXD,SAAUA,EACVD,OAAQA,EACRG,SAwHgBV,EAxHKU,EAyHlBV,EAAMhU,QAAQ,gBAAiB,YA3GtC,OATIgI,EAAQxF,EAAIvD,SACdiV,GAAQ1R,EAAIxD,OAAOgJ,IAIjBkM,GACFD,EAAOhU,KAAKiU,GAGPD,EAgBT,SAASP,EAAkBO,GAKzB,IAHA,IAAIU,EAAU,IAAI9N,MAAMoN,EAAOhV,QAGtBoB,EAAI,EAAGA,EAAI4T,EAAOhV,OAAQoB,IACR,iBAAd4T,EAAO5T,KAChBsU,EAAQtU,GAAK,IAAIpC,OAAO,IAAMgW,EAAO5T,GAAGqU,QAAU,MAItD,OAAO,SAAUxT,GAIf,IAHA,IAAIgT,EAAO,GACPxJ,EAAOxJ,GAAO,GAETb,EAAI,EAAGA,EAAI4T,EAAOhV,OAAQoB,IAAK,CACtC,IAAIuU,EAAQX,EAAO5T,GAEnB,GAAqB,iBAAVuU,EAAX,CAMA,IACIC,EADA7R,EAAQ0H,EAAKkK,EAAM7R,MAGvB,GAAa,MAATC,EAAe,CACjB,GAAI4R,EAAMJ,SACR,SAEA,MAAM,IAAI/N,UAAU,aAAemO,EAAM7R,KAAO,mBAIpD,GAAIqQ,EAAQpQ,GAAZ,CACE,IAAK4R,EAAML,OACT,MAAM,IAAI9N,UAAU,aAAemO,EAAM7R,KAAO,kCAAoCC,EAAQ,KAG9F,GAAqB,IAAjBA,EAAM/D,OAAc,CACtB,GAAI2V,EAAMJ,SACR,SAEA,MAAM,IAAI/N,UAAU,aAAemO,EAAM7R,KAAO,qBAIpD,IAAK,IAAIsF,EAAI,EAAGA,EAAIrF,EAAM/D,OAAQoJ,IAAK,CAGrC,GAFAwM,EAAUC,mBAAmB9R,EAAMqF,KAE9BsM,EAAQtU,GAAG2E,KAAK6P,GACnB,MAAM,IAAIpO,UAAU,iBAAmBmO,EAAM7R,KAAO,eAAiB6R,EAAMF,QAAU,oBAAsBG,EAAU,KAGvHX,IAAe,IAAN7L,EAAUuM,EAAMT,OAASS,EAAMH,WAAaI,OApBzD,CA4BA,GAFAA,EAAUC,mBAAmB9R,IAExB2R,EAAQtU,GAAG2E,KAAK6P,GACnB,MAAM,IAAIpO,UAAU,aAAemO,EAAM7R,KAAO,eAAiB6R,EAAMF,QAAU,oBAAsBG,EAAU,KAGnHX,GAAQU,EAAMT,OAASU,QAhDrBX,GAAQU,EAmDZ,OAAOV,GAUX,SAASa,EAAcvS,GACrB,OAAOA,EAAIxC,QAAQ,2BAA4B,QAoBjD,SAASgV,EAAYC,EAAI9R,GAEvB,OADA8R,EAAG9R,KAAOA,EACH8R,EAST,SAASC,EAAOhS,GACd,OAAOA,EAAQiS,UAAY,GAAK,IAgFlC,SAAStB,EAAgBI,EAAQ/Q,GAU/B,IAPA,IAAIkS,GAFJlS,EAAUA,GAAW,IAEAkS,OACjBC,GAAsB,IAAhBnS,EAAQmS,IACdC,EAAQ,GACRC,EAAYtB,EAAOA,EAAOhV,OAAS,GACnCuW,EAAqC,iBAAdD,GAA0B,MAAMvQ,KAAKuQ,GAGvDlV,EAAI,EAAGA,EAAI4T,EAAOhV,OAAQoB,IAAK,CACtC,IAAIuU,EAAQX,EAAO5T,GAEnB,GAAqB,iBAAVuU,EACTU,GAASP,EAAaH,OACjB,CACL,IAAIT,EAASY,EAAaH,EAAMT,QAC5BC,EAAUQ,EAAMF,QAEhBE,EAAML,SACRH,GAAW,MAAQD,EAASC,EAAU,MAKpCA,EAFAQ,EAAMJ,SACJL,EACQ,MAAQA,EAAS,IAAMC,EAAU,MAEjC,IAAMA,EAAU,KAGlBD,EAAS,IAAMC,EAAU,IAGrCkB,GAASlB,GAoBb,OAZKgB,IACHE,GAASE,EAAgBF,EAAM5T,MAAM,GAAI,GAAK4T,GAAS,iBAIvDA,GADED,EACO,IAIAD,GAAUI,EAAgB,GAAK,YAGnC,IAAIvX,OAAO,IAAMqX,EAAOJ,EAAMhS,IAevC,SAASqQ,EAAcW,EAAM/Q,EAAMD,GAUjC,OAPKkQ,EAFLjQ,EAAOA,GAAQ,IAKHD,IACVA,EAAU,KAHVA,EAAUC,EACVA,EAAO,IAKL+Q,aAAgBjW,OApJtB,SAAyBiW,EAAM/Q,GAE7B,IAAIsS,EAASvB,EAAKwB,OAAOrT,MAAM,aAE/B,GAAIoT,EACF,IAAK,IAAIpV,EAAI,EAAGA,EAAIoV,EAAOxW,OAAQoB,IACjC8C,EAAKlD,KAAK,CACR8C,KAAM1C,EACN8T,OAAQ,KACRM,UAAW,KACXD,UAAU,EACVD,QAAQ,EACRG,QAAS,OAKf,OAAOM,EAAWd,EAAM/Q,GAoIfwS,CAAezB,EAAM/Q,GAG1BiQ,EAAQc,GA5Hd,SAAwBA,EAAM/Q,EAAMD,GAGlC,IAFA,IAAI0S,EAAQ,GAEHvV,EAAI,EAAGA,EAAI6T,EAAKjV,OAAQoB,IAC/BuV,EAAM3V,KAAKsT,EAAaW,EAAK7T,GAAI8C,EAAMD,GAASwS,QAKlD,OAAOV,EAFM,IAAI/W,OAAO,MAAQ2X,EAAM1V,KAAK,KAAO,IAAKgV,EAAMhS,IAEnCC,GAoHjB0S,CAAc3B,EAAM/Q,EAAMD,GAzGrC,SAAyBgR,EAAM/Q,EAAMD,GAKnC,IAJA,IAAI+Q,EAAS1S,EAAM2S,GACfe,EAAKpB,EAAeI,EAAQ/Q,GAGvB7C,EAAI,EAAGA,EAAI4T,EAAOhV,OAAQoB,IACR,iBAAd4T,EAAO5T,IAChB8C,EAAKlD,KAAKgU,EAAO5T,IAIrB,OAAO2U,EAAWC,EAAI9R,GAiGf2S,CAAe5B,EAAM/Q,EAAMD,GAGpCoQ,EAAe/R,MAAQiS,EACvBF,EAAeyC,QAAUtC,EACzBH,EAAeI,iBAAmBC,EAClCL,EAAeO,eAAiBD,EAY9B,IAAIoC,EAAUC,GACdA,EAAKC,QAAUD,GACVE,QAAUA,EACfF,EAAKG,MAAQA,EACbH,EAAKI,WAAaA,EAMlB,IA8CIC,EAaAC,EAKAC,EAhEAC,EAAe,oBAAuBrK,SACtCsK,EAAa,oBAAuBhO,OACpCiO,EAAc,oBAAuBC,QACrCC,EAAgC,oBAAZC,QAKpBC,EAAaN,GAAerK,SAAS4K,aAAe,aAAe,QAOnEC,EAAaP,MAAgBhO,OAAOkO,QAAQM,WAAYxO,OAAOwO,UAM/DC,GAAW,EAOXC,GAAsB,EAMtBC,EAAO,GAMPjC,GAAS,EAYTkC,GAAW,EAgCf,SAASrB,EAAK/B,EAAM3L,mBAElB,GAAI,mBAAsB2L,EACxB,OAAO+B,EAAK,IAAK/B,GAInB,GAAI,mBAAsB3L,EAExB,IADA,IAAI+M,EAAQ,IAAIc,KACP/V,EAAI,EAAGA,EAAIkX,UAAUtY,SAAUoB,EACtC4V,EAAKuB,UAAUvX,KAAKqV,EAAMmC,WAAWF,EAAUlX,SAGxC,iBAAoB6T,EAC7B+B,EAAK,iBAAoB1N,EAAK,WAAa,QAAQ2L,EAAM3L,GAGzD0N,EAAKyB,MAAMxD,GAsSf,SAASyD,EAA6B5Y,GACpC,MAAmB,iBAARA,EAA2BA,EAC/BqY,EAAsBQ,mBAAmB7Y,EAAIiB,QAAQ,MAAO,MAAQjB,EAa7E,SAASoX,EAAQjC,EAAM3I,GACrB,IAAIsM,EAAWC,IACX,MAAQ5D,EAAK,IAAM,IAAMA,EAAK/S,QAAQ0W,KAAW3D,EAAO2D,GAAYP,EAAW,KAAO,IAAMpD,GAChG,IAAI7T,EAAI6T,EAAK/S,QAAQ,KAerB,GAbAwO,KAAKoI,cAAgB7D,EACrBvE,KAAKuE,KAAOA,EAAKlU,QAAQ6X,EAAU,KAAO,IACtCP,IAAU3H,KAAKuE,KAAOvE,KAAKuE,KAAKlU,QAAQ,KAAM,KAAO,KAEzD2P,KAAKqI,MAASvB,GAAeD,EAAWpK,SAAS4L,MACjDrI,KAAKpE,MAAQA,GAAS,GACtBoE,KAAKpE,MAAM2I,KAAOA,EAClBvE,KAAKsI,aAAe5X,EAAIsX,EAA6BzD,EAAKxS,MAAMrB,EAAI,IAAM,GAC1EsP,KAAKuI,SAAWP,GAA8BtX,EAAI6T,EAAKxS,MAAM,EAAGrB,GAAK6T,GACrEvE,KAAKwI,OAAS,GAGdxI,KAAKyI,KAAO,IACPd,EAAU,CACb,KAAM3H,KAAKuE,KAAK/S,QAAQ,KAAM,OAC9B,IAAIyU,EAAQjG,KAAKuE,KAAKrU,MAAM,KAC5B8P,KAAKuE,KAAOvE,KAAKuI,SAAWtC,EAAM,GAClCjG,KAAKyI,KAAOT,EAA6B/B,EAAM,KAAO,GACtDjG,KAAKsI,YAActI,KAAKsI,YAAYpY,MAAM,KAAK,IAoDnD,SAASuW,EAAMlC,EAAMhR,IACnBA,EAAUA,GAAW,IACbkS,OAASlS,EAAQkS,QAAUA,EACnCzF,KAAKuE,KAAiB,MAATA,EAAgB,OAASA,EACtCvE,KAAKxJ,OAAS,MACdwJ,KAAK0I,OAAS/E,EAAe3D,KAAKuE,KAChCvE,KAAKxM,KAAO,GACZD,GA/XJ+S,EAAKuB,UAAY,GACjBvB,EAAKqC,MAAQ,GAMbrC,EAAKsC,QAAU,GAWftC,EAAKuC,IAAM,EASXvC,EAAKoB,KAAO,SAASnD,GACnB,GAAI,IAAMqD,UAAUtY,OAAQ,OAAOoY,EACnCA,EAAOnD,GAUT+B,EAAKb,OAAS,SAASqD,GACrB,GAAI,IAAMlB,UAAUtY,OAAQ,OAAOmW,EACnCA,EAASqD,GAgBXxC,EAAKyB,MAAQ,SAASxU,GAEpB,GADAA,EAAUA,GAAW,IACjBoT,IACJA,GAAU,EACVE,EAAatT,EAAQwF,QAAWgO,GAAahO,QACzC,IAAUxF,EAAQiU,WAAUA,GAAW,IACvC,IAAUjU,EAAQkU,sBAAqBA,GAAsB,IAC7D,IAAUlU,EAAQwV,UAAYhC,GAAWF,EAAW9I,iBAAiB,WAAYiL,GAAY,IAC7F,IAAUzV,EAAQ0V,OAASnC,GAC7BD,EAAWpK,SAASsB,iBAAiBqJ,EAAY8B,GAAS,IAE5DvB,IAAapU,EAAQoU,WACNZ,IAAcC,GAC3BH,EAAW9I,iBAAiB,aAAciL,GAAY,GAEnDxB,GAAL,CAEA,IAAI2B,EACJ,GAAG7B,EAAY,CACb,IAAI8B,EAAMvC,EAAWU,SAGnB4B,EADCxB,IAAayB,EAAIX,KAAKjX,QAAQ,MACzB4X,EAAIX,KAAKpZ,OAAO,GAAK+Z,EAAIC,OACtB1B,EACHyB,EAAIC,OAASD,EAAIX,KAEjBW,EAAIb,SAAWa,EAAIC,OAASD,EAAIX,KAI1CnC,EAAKjW,QAAQ8Y,EAAK,MAAM,EAAM3B,KAShClB,EAAKgD,KAAO,WACL3C,IACLL,EAAKsC,QAAU,GACftC,EAAKuC,IAAM,EACXlC,GAAU,EACVG,GAAeD,EAAWpK,SAAS8M,oBAAoBnC,EAAY8B,GAAS,GAC5EnC,GAAaF,EAAW0C,oBAAoB,WAAYP,GAAY,GACpEjC,GAAaF,EAAW0C,oBAAoB,aAAcP,GAAY,KAcxE1C,EAAKkD,KAAO,SAASjF,EAAM3I,EAAO4L,EAAUlX,GAC1C,IAAI8R,EAAM,IAAIoE,EAAQjC,EAAM3I,GAC1B6N,EAAO7C,EAKT,OAHAN,EAAKsC,SADLhC,EAAcxE,GACKmC,MACf,IAAUiD,GAAUlB,EAAKkB,SAASpF,EAAKqH,IACvC,IAAUrH,EAAIsH,UAAW,IAAUpZ,GAAM8R,EAAIuH,YAC1CvH,GAYTkE,EAAKsD,KAAO,SAASrF,EAAM3I,GACV,EAAX0K,EAAKuC,KAGP7B,GAAcH,EAAWI,QAAQ2C,OACjCtD,EAAKuC,OACItE,EACTnK,WAAW,WACTkM,EAAKkD,KAAKjF,EAAM3I,KAGlBxB,WAAW,WACTkM,EAAKkD,KAAKrB,IAAWvM,MAc3B0K,EAAKuD,SAAW,SAAS5Q,EAAM6Q,GAEzB,iBAAoB7Q,GAAQ,iBAAoB6Q,GAClDxD,EAAKrN,EAAM,SAASpH,GAClBuI,WAAW,WACTkM,EAAKjW,YACJ,KAKH,iBAAoB4I,QAAQ,IAAuB6Q,GACrD1P,WAAW,WACTkM,EAAKjW,QAAQ4I,IACZ,IAgBPqN,EAAKjW,QAAU,SAASkU,EAAM3I,EAAOmO,EAAMvC,GACzC,IAAIpF,EAAM,IAAIoE,EAAQjC,EAAM3I,GAC1B6N,EAAO7C,EAMT,OAJAN,EAAKsC,SADLhC,EAAcxE,GACKmC,KACnBnC,EAAI2H,KAAOA,EACX3H,EAAI4H,QACA,IAAUxC,GAAUlB,EAAKkB,SAASpF,EAAKqH,GACpCrH,GAUTkE,EAAKkB,SAAW,SAASpF,EAAKqH,GAC5B,IAAI/Y,EAAI,EACNgI,EAAI,EAQN,SAASuR,IACP,IAyBe7H,EAzBXxJ,EAAK0N,EAAKuB,UAAUnX,KAExB,GAAI0R,EAAImC,OAAS+B,EAAKsC,QAItB,OAAKhQ,OACLA,EAAGwJ,EAAK6H,SAkBO7H,EAnBWA,GAoBpBsH,UAGJ/B,EACQL,GAAca,IAAYtB,EAAWU,SAASkB,KAAKpY,QAAQ,KAAM,IAEjEiX,GAAcT,EAAWU,SAASgB,SAAW1B,EAAWU,SAAS8B,UAG7DjH,EAAIgG,gBACpB9B,EAAKgD,OACLlH,EAAIsH,SAAU,EACdpC,IAAeT,EAAWU,SAAS2C,KAAO9H,EAAIgG,iBAnC1ChG,EAAIsH,SAAU,EAOdD,EAjBJ,SAASU,IACP,IAAIvR,EAAK0N,EAAKqC,MAAMjQ,KACpB,IAAKE,EAAI,OAAOqR,IAChBrR,EAAG6Q,EAAMU,GAeTA,GAEAF,KAkCJ3D,EAAK8D,KAAO,SAAS7F,EAAM3L,mBACzB,GAAoB,mBAAT2L,EACT,OAAO+B,EAAK8D,KAAK,IAAK7F,GAIxB,IADA,IAAIoB,EAAQ,IAAIc,EAAMlC,GACb7T,EAAI,EAAGA,EAAIkX,UAAUtY,SAAUoB,EACtC4V,EAAKqC,MAAMrY,KAAKqV,EAAMmC,WAAWF,EAAUlX,OAyD/C4V,EAAKE,QAAUA,GAQPjP,UAAUoS,UAAY,WAC5BrD,EAAKuC,MACD7B,GACAH,EAAWI,QAAQ0C,UAAU3J,KAAKpE,MAAOoE,KAAKqI,MAC5CV,GAA0B,MAAd3H,KAAKuE,KAAe,KAAOvE,KAAKuE,KAAOvE,KAAKoI,gBAUhE5B,EAAQjP,UAAUyS,KAAO,WACnBhD,GAA+C,UAAjCH,EAAWU,SAAS8C,UAClCxD,EAAWI,QAAQqD,aAAatK,KAAKpE,MAAOoE,KAAKqI,MAC/CV,GAA0B,MAAd3H,KAAKuE,KAAe,KAAOvE,KAAKuE,KAAOvE,KAAKoI,iBAiChE9B,EAAKG,MAAQA,GAWPlP,UAAUuQ,WAAa,SAASlP,GACpC,IAAI2R,EAAOvK,KACX,OAAO,SAASoC,EAAKoI,GACnB,GAAID,EAAK7X,MAAM0P,EAAImC,KAAMnC,EAAIoG,QAAS,OAAO5P,EAAGwJ,EAAKoI,GACrDA,MAcJ/D,EAAMlP,UAAU7E,MAAQ,SAAS6R,EAAMiE,GACrC,IAAIhV,EAAOwM,KAAKxM,KACdiX,EAAUlG,EAAK/S,QAAQ,KACvB+W,GAAYkC,EAAUlG,EAAKxS,MAAM,EAAG0Y,GAAWlG,EAC/ChO,EAAIyJ,KAAK0I,OAAO5O,KAAKmO,mBAAmBM,IAE1C,IAAKhS,EAAG,OAAO,EAEf,IAAK,IAAI7F,EAAI,EAAGmY,EAAMtS,EAAEjH,OAAQoB,EAAImY,IAAOnY,EAAG,CAC5C,IAAI6M,EAAM/J,EAAK9C,EAAI,GACftB,EAAM4Y,EAA6BzR,EAAE7F,SAC7Bga,IAARtb,GAAuB+M,eAAexE,KAAK6Q,EAAQjL,EAAInK,QACzDoV,EAAOjL,EAAInK,MAAQhE,GAIvB,OAAO,GAQT,IAAI4Z,EAAa,WACf,IAAI2B,GAAS,EACb,GAAO5D,EAYP,OATID,GAAuC,aAAxBrK,SAASmO,WAC1BD,GAAS,EAET5R,OAAOgF,iBAAiB,OAAQ,WAC9B3D,WAAW,WACTuQ,GAAS,GACR,KAGA,SAAoB9Y,GACzB,GAAK8Y,EACL,GAAI9Y,EAAE+J,MAAO,CACX,IAAI2I,EAAO1S,EAAE+J,MAAM2I,KACnB+B,EAAKjW,QAAQkU,EAAM1S,EAAE+J,YAChB,GAAI0L,EAAY,CACrB,IAAI8B,EAAMvC,EAAWU,SACrBjB,EAAKkD,KAAKJ,EAAIb,SAAWa,EAAIX,UAAMiC,OAAWA,GAAW,KArB9C,GA8BjB,SAASxB,EAAQrX,GAmFjB,IAAeA,EAlFb,GAAI,KAoFG,OADPA,GADaA,EAlFGA,IAmFNkV,GAAahO,OAAOyD,OACboC,MAAQ/M,EAAEgZ,OAAShZ,EAAE+M,UAlFlC/M,EAAE8M,SAAW9M,EAAE6M,SAAW7M,EAAE2M,UAC5B3M,EAAEiZ,kBAAN,CAIA,IAAIC,EAAKlZ,EAAEoP,OACP+J,EAAYnZ,EAAE0S,OAAS1S,EAAEoZ,aAAepZ,EAAEoZ,eAAiB,MAE/D,GAAGD,EACD,IAAK,IAAIta,EAAI,EAAGA,EAAIsa,EAAU1b,OAAQoB,IACpC,GAAKsa,EAAUta,GAAGwa,UAC0B,MAAxCF,EAAUta,GAAGwa,SAASC,eACrBH,EAAUta,GAAGwZ,KAAlB,CAEAa,EAAKC,EAAUta,GACf,MAKJ,KAAOqa,GAAM,MAAQA,EAAGG,SAASC,eAAeJ,EAAKA,EAAGtP,WACxD,GAAKsP,GAAM,MAAQA,EAAGG,SAASC,cAA/B,CAIA,IAAIpO,EAA0B,iBAAZgO,EAAGb,MAAmD,sBAA7Ba,EAAGb,KAAKkB,YAAYhY,KAK/D,IAAI2X,EAAGM,aAAa,aAA0C,aAA3BN,EAAGO,aAAa,OAAnD,CAGA,IAAIC,EAAOR,EAAGO,aAAa,QAC3B,IAAI3D,IA8EN,SAAkBwB,GAChB,IAAI7B,EAAY,OAAO,EACvB,IAAI8B,EAAMvC,EAAWU,SACrB,OAAO4B,EAAIZ,WAAaa,EAAIb,UAC1BY,EAAIE,SAAWD,EAAIC,OAlFLmC,CAAST,KAAQA,EAAGtC,MAAQ,MAAQ8C,MAGhDA,IAAmC,EAA3BA,EAAK/Z,QAAQ,cAIrBuL,GAAMgO,EAAG9J,OAAOwK,SAAUV,EAAG9J,UAK5BlE,GAAQ2J,EAAWqE,EAAGb,OAA3B,CAKA,IAAI3F,EAAOxH,EAAMgO,EAAGb,KAAKuB,QAAWV,EAAGxC,SAAWwC,EAAG1B,QAAU0B,EAAGtC,MAAQ,IAE1ElE,EAAmB,MAAZA,EAAK,GAAa,IAAMA,EAAOA,EAGlC2C,GAAc3C,EAAK7R,MAAM,oBAC3B6R,EAAOA,EAAKlU,QAAQ,iBAAkB,MAIxC,IAAIqb,EAAOnH,EACP2D,EAAWC,IAEgB,IAA3B5D,EAAK/S,QAAQ0W,KACf3D,EAAOA,EAAKlV,OAAOqY,EAAKpY,SAGtBqY,IAAUpD,EAAOA,EAAKlU,QAAQ,KAAM,KAEpC6X,GAAYwD,IAASnH,IAEzB1S,EAAEkN,iBACFuH,EAAKkD,KAAKkC,QA6BZ,SAAShF,EAAWwD,GAClB,IAAIA,IAAS5C,EAAY,OAAO,EAChC,IAAI6B,EAhBN,SAAee,GACb,GAAkB,mBAARyB,KAAsBrE,EAC9B,OAAO,IAAIqE,IAAIzB,EAAM3C,SAAS7D,YACzB,GAAIoD,EAAa,CACtB,IAAI8E,EAAMnP,SAASQ,cAAc,KAEjC,OADA2O,EAAI1B,KAAOA,EACJ0B,GAUCC,CAAM3B,GAEZd,EAAMvC,EAAWU,SACrB,OAAO6B,EAAIiB,WAAalB,EAAIkB,UAC1BjB,EAAI0C,WAAa3C,EAAI2C,UACrB1C,EAAI2C,OAAS5C,EAAI4C,KAcrB,SAAS5D,IACP,GAAKT,EAAM,OAAOA,EAClB,IAAI0B,EAAMrC,GAAaF,GAAcA,EAAWU,SAChD,OAAQR,GAAaY,GAAYyB,GAAwB,UAAjBA,EAAIiB,SAAwBjB,EAAIb,SAAWb,EAKvF,OAFEpB,EAAKI,WAAaA,EAEbL,EAnnC0E2F,KCCjFrS,IAEAzL,IAAM+d,GAAM,GACNC,GAAW,GAEbC,IAAY,EAEVC,YAAWxT,UAAMwB,WAAWxB,EAAI,IAahCmR,cACL,IAAK,UAASkC,qBAAKvb,UACnBoJ,KAGKuS,cACL5P,SAAS8M,oBAAoB,mBAAoB8C,IAAW,GAC5DF,IAAY,EACZD,GAAS5b,KAAKyZ,IACdpQ,IACA,IAAK,UAASuS,oBAAT/b,IAAIO,OAAe0b,GAAS1b,GACjCoJ,KCjCD,SAASwS,GAAYC,EAAKjY,QACX,IAARA,IAAiBA,EAAM,IAC5B,IAAIkY,EAAWlY,EAAIkY,SAEnB,GAAKD,GAA2B,oBAAb9P,SAAnB,CAEA,IAAIgQ,EAAOhQ,SAASgQ,MAAQhQ,SAASiQ,qBAAqB,QAAQ,GAC9DC,EAAQlQ,SAASQ,cAAc,SACnC0P,EAAMlX,KAAO,WAEI,QAAb+W,GACEC,EAAKG,WACPH,EAAKjN,aAAamN,EAAOF,EAAKG,YAKhCH,EAAKlN,YAAYoN,GAGfA,EAAME,WACRF,EAAME,WAAWC,QAAUP,EAE3BI,EAAMpN,YAAY9C,SAAS+E,eAAe+K,KDa9C9P,SAASsB,iBAAiB,mBAAoBsO,IAAW,GAC7B,gBAAxB5P,SAASmO,YAAwD,aAAxBnO,SAASmO,YAA2ByB,ojLErCjFne,IAAMc,GAAI+d,KAAKC,2oECMTC,GAAS,q5BAAA,CAAY,CAC1BpR,MAAO,CACN7F,MAAOkX,IAERlO,SAAU,CACTmO,iBAAQ7Y,WACDuH,MAAM7F,MAAMoX,WAAa,OAKlCH,GAAOpR,MAAM7F,MAAQ,CACpBqX,SAAUH,GAAQ3B,KAClB+B,IAAKJ,GAAQ3B,KACbgC,MAAOL,GAAQ3B,KACfiC,KAAMN,GAAQ3B,MAGf0B,GAAOpR,MAAM7F,MAAQyX,oVCnBfC,GAAS,yTAAA,CAAY,CAC1B7R,MAAO,CACN7F,0FACA2X,MAAM,IAAKC,MAAQC,iBCGfC,GAAW,IAAIC,GAAU,CAC9BlS,MAAO,CACN7F,MAAOkX,WAERD,UACAS,KAGDI,GAASjS,MAAM7F,MAAQyX,GAEvBvf,IAAM8f,YAAY7E,GACjB2E,GAASjS,MAAM8Q,MAAQ,yBAAyBxD,OAE3C8E,8BHTS3K,GACdpV,IAAM8F,EAAIyI,SAASQ,cAAc,UAChCiR,EAAInV,OAAOoV,WACXra,EAAIiF,OAAOqV,YACXC,EAAKtV,OAAOuV,kBAAoB,EAChCC,EAAK,GAAK,KAAO,IAAML,EAAIpa,EAC5BE,EAAEwa,MAAQN,EAAIG,EACdra,EAAEya,OAAS3a,EAAIua,EACVra,EAAE0a,SACN1a,EAAE0a,gBAAUpL,GAMX,IALApV,IAAMygB,EAAU3a,EAAE4a,YACjBC,EAASC,KAAKH,EAAQze,MAAM,KAAK,IACjC6e,EAAOJ,EAAQze,MAAM,KAAK,GAAGA,MAAM,KAAK,GAAGA,MAAM,KAAK,GACnDwH,EAAM,GAEDhH,EAAI,EAAGA,EAAIme,EAAOvf,OAAQoB,IAAKgH,EAAIpH,KAAKue,EAAOG,WAAWte,IACnE4S,EAAG,IAAI2L,KAAK,CAAC,IAAIC,WAAWxX,IAAO,CAACjC,KAAMsZ,OAI5C7gB,IAjCaoG,QACP6a,EACLC,EACAC,EA8BKjN,EAAMpO,EAAEsb,WAAW,MACzBlN,EAAImN,YAAc,GAClBnN,EAAIoN,MAAMnB,EAAIA,GACdjM,EAAIqN,YAAc,UAElB,IAAKtf,IAAIO,EAAI,EAAGA,EAAI6d,EAAI7d,gBAtCX4D,EAsCqB,KAAC8N,IAAK8L,IAAGpa,oBArCrCqb,EAASngB,KAAMkf,EACpBkB,EAASpgB,KAAM8E,EACfub,EAAa,IAANrgB,KACRoT,EAAIsN,YACJtN,EAAIuN,OAAOR,EAAQC,EAASC,GAC5BjN,EAAIwN,OAAOT,EAASE,EAAMD,GAC1BhN,EAAIwN,OAAOT,EAAQC,EAASC,GAC5BjN,EAAIwN,OAAOT,EAASE,EAAMD,GAC1BhN,EAAIyN,YACJzN,EAAI0N,SA8BJ9b,EAAE0a,gBAAOqB,UAAQzM,EAAGqI,IAAIqE,gBAAgBD,MGlBrBE,CAAMjC,KAE1BC,mlBCpBMiC,cACLhiB,IAAMiiB,EAAW,IAAIC,GAAU,CAC9BvU,MAAO,CACN7F,MAAOqa,IAERrR,SAAU,CACTmO,mBACCgD,EAAStU,MAAM7F,MAAMoX,WAAaF,GAAQoD,WAM7C,OADAH,EAAStU,MAAM7F,MAAQkX,GAChBiD,i6NCdR,IAAII,EAA2B,oBAAXxX,OACjBA,OAE6B,oBAAtByX,mBAAqCjG,gBAAgBiG,kBAC3DjG,KACA,GASAkG,EAAQ,WAGZ,IAAIC,EAAO,8BACPC,EAAW,EAEXC,EAAIL,EAAME,MAAQ,CACrBI,OAAQN,EAAME,OAASF,EAAME,MAAMI,OACnCC,4BAA6BP,EAAME,OAASF,EAAME,MAAMK,4BACxDC,KAAM,CACLC,OAAQ,SAAU1M,GACjB,OAAIA,aAAkB2M,EACd,IAAIA,EAAM3M,EAAO7O,KAAMmb,EAAEG,KAAKC,OAAO1M,EAAOrP,SAAUqP,EAAO4M,OAClC,UAAxBN,EAAEG,KAAKtb,KAAK6O,GACfA,EAAOnS,IAAIye,EAAEG,KAAKC,QAElB1M,EAAOjU,QAAQ,KAAM,SAASA,QAAQ,KAAM,QAAQA,QAAQ,UAAW,MAIhFoF,KAAM,SAAU0b,GACf,OAAO7W,OAAO/C,UAAUmM,SAAS/L,KAAKwZ,GAAGze,MAAM,oBAAoB,IAGpE0e,MAAO,SAAU7f,GAIhB,OAHKA,EAAU,MACd+I,OAAOM,eAAerJ,EAAK,OAAQ,CAAE8B,QAASsd,IAExCpf,EAAU,MAIlB8f,MAAO,SAAUF,EAAGG,GACnB,IAAI7b,EAAOmb,EAAEG,KAAKtb,KAAK0b,GAGvB,OAFAG,EAAUA,GAAW,GAEb7b,GACP,IAAK,SACJ,GAAI6b,EAAQV,EAAEG,KAAKK,MAAMD,IACxB,OAAOG,EAAQV,EAAEG,KAAKK,MAAMD,IAE7B,IAAIE,EAAQ,GAGZ,IAAK,IAAI9T,KAFT+T,EAAQV,EAAEG,KAAKK,MAAMD,IAAME,EAEXF,EACXA,EAAEhV,eAAeoB,KACpB8T,EAAM9T,GAAOqT,EAAEG,KAAKM,MAAMF,EAAE5T,GAAM+T,IAIpC,OAAOD,EAER,IAAK,QACJ,GAAIC,EAAQV,EAAEG,KAAKK,MAAMD,IACxB,OAAOG,EAAQV,EAAEG,KAAKK,MAAMD,IAEzBE,EAAQ,GAOZ,OANAC,EAAQV,EAAEG,KAAKK,MAAMD,IAAME,EAE3BF,EAAEI,QAAQ,SAAUziB,EAAG4B,GACtB2gB,EAAM3gB,GAAKkgB,EAAEG,KAAKM,MAAMviB,EAAGwiB,KAGrBD,EAGT,OAAOF,IAITK,UAAW,CACVC,OAAQ,SAAUC,EAAIC,GACrB,IAAIjB,EAAOE,EAAEG,KAAKM,MAAMT,EAAEY,UAAUE,IAEpC,IAAK,IAAInU,KAAOoU,EACfjB,EAAKnT,GAAOoU,EAAMpU,GAGnB,OAAOmT,GAYRlR,aAAc,SAAUoS,EAAQzS,EAAQ0S,EAAQC,GAE/C,IAAIC,GADJD,EAAOA,GAAQlB,EAAEY,WACEI,GAEnB,GAAwB,GAApBhK,UAAUtY,OAAa,CAG1B,IAAK,IAAI0iB,KAFTH,EAL8B1S,EAQzB0S,EAAO1V,eAAe6V,KACzBD,EAAQC,GAAYH,EAAOG,IAI7B,OAAOD,EAGR,IAAIE,EAAM,GAEV,IAAK,IAAIhN,KAAS8M,EAEjB,GAAIA,EAAQ5V,eAAe8I,GAAQ,CAElC,GAAIA,GAAS9F,EAEZ,IAAK,IAAI6S,KAAYH,EAEhBA,EAAO1V,eAAe6V,KACzBC,EAAID,GAAYH,EAAOG,IAK1BC,EAAIhN,GAAS8M,EAAQ9M,GAWvB,OANA2L,EAAEY,UAAUU,IAAItB,EAAEY,UAAW,SAASjU,EAAKlK,GACtCA,IAAUye,EAAKF,IAAWrU,GAAOqU,IACpC5R,KAAKzC,GAAO0U,KAIPH,EAAKF,GAAUK,GAIvBC,IAAK,SAASf,EAAGgB,EAAU1c,EAAM6b,GAEhC,IAAK,IAAI5gB,KADT4gB,EAAUA,GAAW,GACPH,EACTA,EAAEhV,eAAezL,KACpByhB,EAASxa,KAAKwZ,EAAGzgB,EAAGygB,EAAEzgB,GAAI+E,GAAQ/E,GAER,WAAtBkgB,EAAEG,KAAKtb,KAAK0b,EAAEzgB,KAAqB4gB,EAAQV,EAAEG,KAAKK,MAAMD,EAAEzgB,KAI/B,UAAtBkgB,EAAEG,KAAKtb,KAAK0b,EAAEzgB,KAAoB4gB,EAAQV,EAAEG,KAAKK,MAAMD,EAAEzgB,OACjE4gB,EAAQV,EAAEG,KAAKK,MAAMD,EAAEzgB,MAAO,EAC9BkgB,EAAEY,UAAUU,IAAIf,EAAEzgB,GAAIyhB,EAAUzhB,EAAG4gB,KALnCA,EAAQV,EAAEG,KAAKK,MAAMD,EAAEzgB,MAAO,EAC9BkgB,EAAEY,UAAUU,IAAIf,EAAEzgB,GAAIyhB,EAAU,KAAMb,OAU3Cc,QAAS,GAETC,aAAc,SAASC,EAAOH,GAC7BvB,EAAE2B,kBAAkB9V,SAAU6V,EAAOH,IAGtCI,kBAAmB,SAASC,EAAWF,EAAOH,GAC7C,IAAIM,EAAM,CACTN,SAAUA,EACVO,SAAU,oGAGX9B,EAAE+B,MAAMC,IAAI,sBAAuBH,GAInC,IAFA,IAEc3V,EAFVqD,EAAWsS,EAAItS,UAAYqS,EAAUrU,iBAAiBsU,EAAIC,UAErDhiB,EAAE,EAAYoM,EAAUqD,EAASzP,MACzCkgB,EAAEiC,iBAAiB/V,GAAmB,IAAVwV,EAAgBG,EAAIN,WAIlDU,iBAAkB,SAAS/V,EAASwV,EAAOH,GAI1C,IAFA,IAAIW,EAAUf,EAAS1R,EAASvD,EAEzBuD,IAAWqQ,EAAKrb,KAAKgL,EAAO0S,YAClC1S,EAASA,EAAO5E,WAGb4E,IACHyS,GAAYzS,EAAO0S,UAAUrgB,MAAMge,IAAS,EAAE,KAAK,GAAGsC,cACtDjB,EAAUnB,EAAEY,UAAUsB,IAIvBhW,EAAQiW,UAAYjW,EAAQiW,UAAU1iB,QAAQqgB,EAAM,IAAIrgB,QAAQ,OAAQ,KAAO,aAAeyiB,EAE1FhW,EAAQrB,aAEX4E,EAASvD,EAAQrB,WAEb,OAAOpG,KAAKgL,EAAO6K,YACtB7K,EAAO0S,UAAY1S,EAAO0S,UAAU1iB,QAAQqgB,EAAM,IAAIrgB,QAAQ,OAAQ,KAAO,aAAeyiB,IAI9F,IAEIL,EAAM,CACT3V,QAASA,EACTgW,SAAUA,EACVf,QAASA,EACTkB,KANUnW,EAAQ4E,aAWnB,GAFAkP,EAAE+B,MAAMC,IAAI,sBAAuBH,IAE9BA,EAAIQ,OAASR,EAAIV,QAOrB,OANIU,EAAIQ,OACPrC,EAAE+B,MAAMC,IAAI,mBAAoBH,GAChCA,EAAI3V,QAAQ4E,YAAc+Q,EAAIQ,KAC9BrC,EAAE+B,MAAMC,IAAI,kBAAmBH,SAEhC7B,EAAE+B,MAAMC,IAAI,WAAYH,GAMzB,GAFA7B,EAAE+B,MAAMC,IAAI,mBAAoBH,GAE5BH,GAAS/B,EAAM2C,OAAQ,CAC1B,IAAIC,EAAS,IAAID,OAAOtC,EAAEwC,UAE1BD,EAAOE,UAAY,SAASC,GAC3Bb,EAAIc,gBAAkBD,EAAIvY,KAE1B6V,EAAE+B,MAAMC,IAAI,gBAAiBH,GAE7BA,EAAI3V,QAAQ0W,UAAYf,EAAIc,gBAE5BpB,GAAYA,EAASxa,KAAK8a,EAAI3V,SAC9B8T,EAAE+B,MAAMC,IAAI,kBAAmBH,GAC/B7B,EAAE+B,MAAMC,IAAI,WAAYH,IAGzBU,EAAOM,YAAY9hB,KAAK+hB,UAAU,CACjCZ,SAAUL,EAAIK,SACdG,KAAMR,EAAIQ,KACVU,gBAAgB,UAIjBlB,EAAIc,gBAAkB3C,EAAEgD,UAAUnB,EAAIQ,KAAMR,EAAIV,QAASU,EAAIK,UAE7DlC,EAAE+B,MAAMC,IAAI,gBAAiBH,GAE7BA,EAAI3V,QAAQ0W,UAAYf,EAAIc,gBAE5BpB,GAAYA,EAASxa,KAAKmF,GAE1B8T,EAAE+B,MAAMC,IAAI,kBAAmBH,GAC/B7B,EAAE+B,MAAMC,IAAI,WAAYH,IAI1BmB,UAAW,SAAUC,EAAM9B,EAASe,GACnC,IAAIL,EAAM,CACTQ,KAAMY,EACN9B,QAASA,EACTe,SAAUA,GAKX,OAHAlC,EAAE+B,MAAMC,IAAI,kBAAmBH,GAC/BA,EAAInO,OAASsM,EAAEkD,SAASrB,EAAIQ,KAAMR,EAAIV,SACtCnB,EAAE+B,MAAMC,IAAI,iBAAkBH,GACvBxB,EAAMyC,UAAU9C,EAAEG,KAAKC,OAAOyB,EAAInO,QAASmO,EAAIK,WAGvDiB,aAAc,SAAUF,EAAMG,EAAQjC,EAAS1Z,EAAO4b,EAAUC,EAASjT,GACxE,IAAIgQ,EAAQL,EAAEK,MAEd,IAAK,IAAIhM,KAAS8M,EACjB,GAAIA,EAAQ5V,eAAe8I,IAAW8M,EAAQ9M,GAA9C,CAIA,GAAIA,GAAShE,EACZ,OAGD,IAAIkT,EAAWpC,EAAQ9M,GACvBkP,EAAsC,UAA1BvD,EAAEG,KAAKtb,KAAK0e,GAAyBA,EAAW,CAACA,GAE7D,IAAK,IAAIzb,EAAI,EAAGA,EAAIyb,EAAS7kB,SAAUoJ,EAAG,CACzC,IAAIqM,EAAUoP,EAASzb,GACtBkZ,EAAS7M,EAAQ6M,OACjBwC,IAAerP,EAAQqP,WACvBC,IAAWtP,EAAQsP,OACnBC,EAAmB,EACnBpD,EAAQnM,EAAQmM,MAEjB,GAAImD,IAAWtP,EAAQA,QAAQwP,OAAQ,CAEtC,IAAIhP,EAAQR,EAAQA,QAAQrB,WAAWhR,MAAM,YAAY,GACzDqS,EAAQA,QAAUzW,OAAOyW,EAAQA,QAAQgB,OAAQR,EAAQ,KAG1DR,EAAUA,EAAQA,SAAWA,EAG7B,IAAK,IAAIrU,EAAI2H,EAAOmc,EAAMP,EAAUvjB,EAAIsjB,EAAO1kB,OAAQklB,GAAOR,EAAOtjB,GAAGpB,SAAUoB,EAAG,CAEpF,IAAImC,EAAMmhB,EAAOtjB,GAEjB,GAAIsjB,EAAO1kB,OAASukB,EAAKvkB,OAExB,OAGD,KAAIuD,aAAeoe,GAAnB,CAIA,GAAIoD,GAAU3jB,GAAKsjB,EAAO1kB,OAAS,EAAG,CAGrC,GAFAyV,EAAQ0P,UAAYD,IAChB9hB,EAAQqS,EAAQjL,KAAK+Z,IAExB,MAQD,IALA,IAAI5a,EAAOvG,EAAM2F,OAAS+b,EAAa1hB,EAAM,GAAGpD,OAAS,GACrDwa,EAAKpX,EAAM2F,MAAQ3F,EAAM,GAAGpD,OAC5B+G,EAAI3F,EACJmD,EAAI2gB,EAEC3L,EAAMmL,EAAO1kB,OAAQ+G,EAAIwS,IAAQhV,EAAIiW,IAAQkK,EAAO3d,GAAGZ,OAASue,EAAO3d,EAAI,GAAGge,UAAYhe,GAClGxC,GAAKmgB,EAAO3d,GAAG/G,SAEX2J,MACDvI,EACF8jB,EAAM3gB,GAKR,GAAImgB,EAAOtjB,aAAcugB,EACxB,SAIDyD,EAASre,EAAI3F,EACbmC,EAAMghB,EAAK9hB,MAAMyiB,EAAK3gB,GACtBnB,EAAM2F,OAASmc,MACT,CACNzP,EAAQ0P,UAAY,EAEpB,IAAI/hB,EAAQqS,EAAQjL,KAAKjH,GACxB6hB,EAAS,EAGX,GAAKhiB,EAAL,CAQG0hB,IACFE,EAAmB5hB,EAAM,GAAKA,EAAM,GAAGpD,OAAS,GAK7Cwa,GAFA7Q,EAAOvG,EAAM2F,MAAQic,IACrB5hB,EAAQA,EAAM,GAAGX,MAAMuiB,IACLhlB,OAFtB,IAGI6P,EAAStM,EAAId,MAAM,EAAGkH,GACtBwG,EAAQ5M,EAAId,MAAM+X,GAElBjR,EAAO,CAACnI,EAAGgkB,GAEXvV,MACDzO,EACF8jB,GAAOrV,EAAO7P,OACduJ,EAAKvI,KAAK6O,IAGX,IAAIwV,EAAU,IAAI1D,EAAMhM,EAAO2M,EAAQhB,EAAEkD,SAASphB,EAAOkf,GAAUlf,EAAOwe,EAAOxe,EAAO2hB,GAaxF,GAXAxb,EAAKvI,KAAKqkB,GAENlV,GACH5G,EAAKvI,KAAKmP,GAGXvI,MAAMK,UAAUe,OAAOL,MAAM+b,EAAQnb,GAEvB,GAAV6b,GACH9D,EAAEmD,aAAaF,EAAMG,EAAQjC,EAASrhB,EAAG8jB,GAAK,EAAMvP,GAEjDiP,EACH,WAvCA,GAAIA,EACH,WA4CNJ,SAAU,SAASD,EAAM9B,EAASe,GACjC,IAAIkB,EAAS,CAACH,GAEVe,EAAO7C,EAAQ6C,KAEnB,GAAIA,EAAM,CACT,IAAK,IAAI3P,KAAS2P,EACjB7C,EAAQ9M,GAAS2P,EAAK3P,UAGhB8M,EAAQ6C,KAKhB,OAFAhE,EAAEmD,aAAaF,EAAMG,EAAQjC,EAAS,EAAG,GAAG,GAErCiC,GAGRrB,MAAO,CACNkC,IAAK,GAELC,IAAK,SAAU1hB,EAAM+e,GACpB,IAAIQ,EAAQ/B,EAAE+B,MAAMkC,IAEpBlC,EAAMvf,GAAQuf,EAAMvf,IAAS,GAE7Buf,EAAMvf,GAAM9C,KAAK6hB,IAGlBS,IAAK,SAAUxf,EAAMqf,GACpB,IAAI5K,EAAY+I,EAAE+B,MAAMkC,IAAIzhB,GAE5B,GAAKyU,GAAcA,EAAUvY,OAI7B,IAAK,IAAS6iB,EAALzhB,EAAE,EAAayhB,EAAWtK,EAAUnX,MAC5CyhB,EAASM,MAMTxB,EAAQL,EAAEK,MAAQ,SAASxb,EAAMR,EAASic,EAAO6D,EAAYV,GAChErU,KAAKvK,KAAOA,EACZuK,KAAK/K,QAAUA,EACf+K,KAAKkR,MAAQA,EAEblR,KAAK1Q,OAAmC,GAAzBylB,GAAc,IAAIzlB,OACjC0Q,KAAKqU,SAAWA,GAuCjB,GApCApD,EAAMyC,UAAY,SAASvC,EAAG2B,EAAUzS,GACvC,GAAgB,iBAAL8Q,EACV,OAAOA,EAGR,GAAuB,UAAnBP,EAAEG,KAAKtb,KAAK0b,GACf,OAAOA,EAAEhf,IAAI,SAAS2K,GACrB,OAAOmU,EAAMyC,UAAU5W,EAASgW,EAAU3B,KACxC5gB,KAAK,IAGT,IAAIkiB,EAAM,CACThd,KAAM0b,EAAE1b,KACRR,QAASgc,EAAMyC,UAAUvC,EAAElc,QAAS6d,EAAUzS,GAC9CtK,IAAK,OACLmX,QAAS,CAAC,QAASiE,EAAE1b,MACrBuf,WAAY,GACZlC,SAAUA,EACVzS,OAAQA,GAGT,GAAI8Q,EAAED,MAAO,CACZ,IAAI+D,EAAmC,UAAzBrE,EAAEG,KAAKtb,KAAK0b,EAAED,OAAqBC,EAAED,MAAQ,CAACC,EAAED,OAC9Dha,MAAMK,UAAUjH,KAAK2H,MAAMwa,EAAIvF,QAAS+H,GAGzCrE,EAAE+B,MAAMC,IAAI,OAAQH,GAEpB,IAAIuC,EAAa1a,OAAO9G,KAAKif,EAAIuC,YAAY7iB,IAAI,SAASiB,GACzD,OAAOA,EAAO,MAAQqf,EAAIuC,WAAW5hB,IAAS,IAAI/C,QAAQ,KAAM,UAAY,MAC1EE,KAAK,KAER,MAAO,IAAMkiB,EAAI1c,IAAM,WAAa0c,EAAIvF,QAAQ3c,KAAK,KAAO,KAAOykB,EAAa,IAAMA,EAAa,IAAM,IAAMvC,EAAIxd,QAAU,KAAOwd,EAAI1c,IAAM,MAI1Iwa,EAAM9T,SACV,OAAK8T,EAAMxS,mBAKN6S,EAAEE,6BAENP,EAAMxS,iBAAiB,UAAW,SAAUuV,GAC3C,IAAI4B,EAAUvjB,KAAKC,MAAM0hB,EAAIvY,MAC5B2V,EAAOwE,EAAQpC,SACfG,EAAOiC,EAAQjC,KACfU,EAAiBuB,EAAQvB,eAE1BpD,EAAMkD,YAAY7C,EAAEgD,UAAUX,EAAMrC,EAAEY,UAAUd,GAAOA,IACnDiD,GACHpD,EAAM4E,UAEL,IAGG5E,EAAME,MAId,IAAI2E,EAAS3Y,SAAS4Y,eAAiB,GAAGtjB,MAAM4F,KAAK8E,SAASiQ,qBAAqB,WAAW1U,MAmB9F,OAjBIod,IACHxE,EAAEwC,SAAWgC,EAAOE,IAEf1E,EAAEC,QAAWuE,EAAO/J,aAAa,iBACV,YAAxB5O,SAASmO,WACP7R,OAAOwc,sBACVxc,OAAOwc,sBAAsB3E,EAAEyB,cAE/BtZ,OAAOqB,WAAWwW,EAAEyB,aAAc,IAInC5V,SAASsB,iBAAiB,mBAAoB6S,EAAEyB,gBAK5C9B,EAAME,MAnhBD,GAuhBRjN,EAAwCgS,UAC3ChS,UAAiBiN,QAII,IAAX8D,KACVA,GAAO9D,MAAQA,GAQhBA,EAAMe,UAAUiE,OAAS,CACxBC,QAAW,kBACXC,OAAU,iBACVC,QAAW,sBACXC,MAAS,0BACT9f,IAAO,CACNgP,QAAS,yGACTsP,QAAQ,EACRzC,OAAQ,CACP7b,IAAO,CACNgP,QAAS,kBACT6M,OAAQ,CACPkE,YAAe,QACfC,UAAa,iBAGfC,aAAc,CACbjR,QAAS,oDACT6M,OAAQ,CACPkE,YAAe,CACd,KACA,CACC/Q,QAAS,gBACTqP,YAAY,MAKhB0B,YAAe,OACfG,YAAa,CACZlR,QAAS,YACT6M,OAAQ,CACPmE,UAAa,mBAMjBG,OAAU,qBAGXzF,EAAMe,UAAUiE,OAAY,IAAE7D,OAAO,cAAcA,OAAe,OACjEnB,EAAMe,UAAUiE,OAAe,OAGhChF,EAAMkC,MAAMmC,IAAI,OAAQ,SAASrC,GAEf,WAAbA,EAAIhd,OACPgd,EAAIuC,WAAkB,MAAIvC,EAAIxd,QAAQ5E,QAAQ,QAAS,QAIzDogB,EAAMe,UAAU2E,IAAM1F,EAAMe,UAAUiE,OACtChF,EAAMe,UAAU4E,KAAO3F,EAAMe,UAAUiE,OACvChF,EAAMe,UAAU6E,OAAS5F,EAAMe,UAAUiE,OACzChF,EAAMe,UAAUzU,IAAM0T,EAAMe,UAAUiE,OAOtChF,EAAMe,UAAUjF,IAAM,CACrBmJ,QAAW,mBACXY,OAAU,CACTvR,QAAS,8BACT6M,OAAQ,CACP2E,KAAQ,YAIVpN,IAAO,iEACPuJ,SAAY,2BACZ1iB,OAAU,CACT+U,QAAS,gDACTsP,QAAQ,GAETmC,SAAY,+CACZC,UAAa,kBACbC,SAAY,oBACZZ,YAAe,YAGhBrF,EAAMe,UAAUjF,IAAY,OAAEqF,OAAOgD,KAAOnE,EAAMe,UAAUjF,IAExDkE,EAAMe,UAAUiE,SACnBhF,EAAMe,UAAUhS,aAAa,SAAU,MAAO,CAC7CmN,MAAS,CACR5H,QAAS,0CACTqP,YAAY,EACZxC,OAAQnB,EAAMe,UAAUjF,IACxB2E,MAAO,eACPmD,QAAQ,KAIV5D,EAAMe,UAAUhS,aAAa,SAAU,aAAc,CACpDmX,aAAc,CACb5R,QAAS,6CACT6M,OAAQ,CACPqE,YAAa,CACZlR,QAAS,aACT6M,OAAQnB,EAAMe,UAAUiE,OAAO1f,IAAI6b,QAEpCkE,YAAe,wBACfE,aAAc,CACbjR,QAAS,MACT6M,OAAQnB,EAAMe,UAAUjF,MAG1B2E,MAAO,iBAENT,EAAMe,UAAUiE,OAAO1f,MAO3B0a,EAAMe,UAAUoF,MAAQ,CACvBlB,QAAW,CACV,CACC3Q,QAAS,kCACTqP,YAAY,GAEb,CACCrP,QAAS,mBACTqP,YAAY,EACZC,QAAQ,IAGVrkB,OAAU,CACT+U,QAAS,iDACTsP,QAAQ,GAETwC,aAAc,CACb9R,QAAS,iGACTqP,YAAY,EACZxC,OAAQ,CACPkE,YAAa,UAGfgB,QAAW,6GACXC,QAAW,qBACXL,SAAY,oBACZM,OAAU,wDACVC,SAAY,0DACZnB,YAAe,iBAQhBrF,EAAMe,UAAU0F,WAAazG,EAAMe,UAAUC,OAAO,QAAS,CAC5DqF,QAAW,8TACXE,OAAU,wGAEVN,SAAY,gDACZO,SAAY,mGAGbxG,EAAMe,UAAUhS,aAAa,aAAc,UAAW,CACrD2X,MAAS,CACRpS,QAAS,gHACTqP,YAAY,EACZC,QAAQ,GAGT+C,oBAAqB,CACpBrS,QAAS,wHACTmM,MAAO,YAERmG,SAAY,uBAGb5G,EAAMe,UAAUhS,aAAa,aAAc,SAAU,CACpD8X,kBAAmB,CAClBvS,QAAS,mCACTsP,QAAQ,EACRzC,OAAQ,CACP2F,cAAiB,CAChBxS,QAAS,YACT6M,OAAQ,CACP4F,4BAA6B,CAC5BzS,QAAS,UACTmM,MAAO,eAER0D,KAAM,OAGR5kB,OAAU,cAIbygB,EAAMe,UAAU0F,WAAW,mBAAmBtF,OAAsB,cAAEA,OAAOgD,KAAOnE,EAAMe,UAAU0F,WAEhGzG,EAAMe,UAAUiE,QACnBhF,EAAMe,UAAUhS,aAAa,SAAU,MAAO,CAC7C4V,OAAU,CACTrQ,QAAS,4CACTqP,YAAY,EACZxC,OAAQnB,EAAMe,UAAU0F,WACxBhG,MAAO,sBACPmD,QAAQ,KAKX5D,EAAMe,UAAUiG,GAAKhH,EAAMe,UAAU0F,WAQhB,oBAAT3M,MAAyBA,KAAKkG,OAAUlG,KAAK9N,UAAaA,SAASgG,gBAI9E8H,KAAKkG,MAAMiH,cAAgB,WAE1B,IAAIC,EAAa,CAChBF,GAAM,aACNG,GAAM,SACNC,GAAM,OACNC,IAAO,aACPC,KAAQ,aACRC,GAAM,OACNC,IAAO,QACPnkB,EAAK,IACLokB,IAAO,SAGRhhB,MAAMK,UAAUxF,MAAM4F,KAAK8E,SAAS0B,iBAAiB,kBAAkBoT,QAAQ,SAAU4G,GAKxF,IAJA,IAEIrF,EAFAwC,EAAM6C,EAAI7M,aAAa,YAEbjL,EAAS8X,EACnBzH,EAAO,8BACJrQ,IAAWqQ,EAAKrb,KAAKgL,EAAO0S,YAClC1S,EAASA,EAAO5E,WAOjB,GAJI4E,IACHyS,GAAYqF,EAAIpF,UAAUrgB,MAAMge,IAAS,EAAG,KAAK,KAG7CoC,EAAU,CACd,IAAIsF,GAAa9C,EAAI5iB,MAAM,aAAe,EAAG,KAAK,GAClDogB,EAAW6E,EAAWS,IAAcA,EAGrC,IAAInF,EAAOxW,SAASQ,cAAc,QAClCgW,EAAKF,UAAY,YAAcD,EAE/BqF,EAAIzW,YAAc,GAElBuR,EAAKvR,YAAc,WAEnByW,EAAI5Y,YAAY0T,GAEhB,IAAIoF,EAAM,IAAIC,eAEdD,EAAIE,KAAK,MAAOjD,GAAK,GAErB+C,EAAIG,mBAAqB,WACF,GAAlBH,EAAIzN,aAEHyN,EAAII,OAAS,KAAOJ,EAAIK,cAC3BzF,EAAKvR,YAAc2W,EAAIK,aAEvBjI,EAAMoC,iBAAiBI,IAED,KAAdoF,EAAII,OACZxF,EAAKvR,YAAc,WAAa2W,EAAII,OAAS,yBAA2BJ,EAAIM,WAG5E1F,EAAKvR,YAAc,6CAKtB2W,EAAIO,KAAK,QAGNnI,EAAM2B,QAAQyG,SACjBpI,EAAM2B,QAAQyG,QAAQC,eAAe,gBAAiB,SAAUrG,GAC/D,IAAI0F,EAAM1F,EAAI3V,QAAQrB,WACtB,GAAK0c,GAAQ,OAAO9iB,KAAK8iB,EAAIjN,WAAciN,EAAI9M,aAAa,aAAgB8M,EAAI9M,aAAa,sBAA7F,CAGA,IAAIiK,EAAM6C,EAAI7M,aAAa,YACvBvX,EAAI0I,SAASQ,cAAc,KAI/B,OAHAlJ,EAAE2N,YAAcyW,EAAI7M,aAAa,6BAA+B,WAChEvX,EAAE0J,aAAa,WAAY,IAC3B1J,EAAEmW,KAAOoL,EACFvhB,MAMV0I,SAASsB,iBAAiB,mBAAoBwM,KAAKkG,MAAMiH,qBCx2B3C,CACdqB,UAAa,CACZhU,QAAS,aACT6M,OAAQ,CACP8D,QAAS,oCACTsD,WAAc,CACbjU,QAAS,qBACT6M,OAAQ,CACP7b,IAAK,sBACLC,MAAO,CACNkb,MAAO,YACPnM,QAAS,qCACT6M,OAAQ,CACP5gB,SAAU,CACT+T,QAAS,2BACTqP,YAAY,EACZxC,OAAQ,CACPkF,QAAS,oBACT9mB,OAAQ,CACP+U,QAAS,mBACTqP,YAAY,OAMjBoC,SAAU,qBAGZyC,YAAe,CACdlU,QAAS,qBACT6M,OAAQ,CACPqE,YAAa,uBACbjmB,OAAQ,CACP+U,QAAS,mBACTqP,YAAY,EACZxC,OAAQ,CACP5gB,SAAU,CACT+T,QAAS,2BACTqP,YAAY,EACZxC,OAAQ,CACPkF,QAAS,oBACT9mB,OAAQ,CACP+U,QAAS,mBACTqP,YAAY,SAQnB8E,YAAe,CACdnU,QAAS,qBACT6M,OAAQ,CACP4E,SAAU,uBACVxmB,OAAQ,CACP+U,QAAS,mBACTqP,YAAY,EACZxC,OAAQ,CACP5gB,SAAU,CACT+T,QAAS,2BACTqP,YAAY,EACZxC,OAAQ,CACPkF,QAAS,oBACT9mB,OAAQ,CACP+U,QAAS,mBACTqP,YAAY,SAQnB+E,aAAgB,CACfpU,QAAS,qBACT6M,OAAQ,CACPkF,QAAS,uBACTJ,SAAU,CACT3R,QAAS,yBACTqP,YAAY,GAEbpkB,OAAQ,CACP+U,QAAS,mBACTqP,YAAY,EACZxC,OAAQ,CACP5gB,SAAU,CACT+T,QAAS,2BACTqP,YAAY,EACZxC,OAAQ,CACPkF,QAAS,oBACT9mB,OAAQ,CACP+U,QAAS,mBACTqP,YAAY,SAQnBP,KAAM,CACL9O,QAAS,2BACT6M,OAAQ,CACP5gB,SAAU,CACT+T,QAAS,2BACTqP,YAAY,EACZxC,OAAQ,CACPkF,QAAS,oBACT9mB,OAAQ,CACP+U,QAAS,mBACTqP,YAAY,ivCCxBpB,2sfCtEMgF,GAAU,aACfC,SACAC,iBACAC,kBACAC,qBACAC,mBACAC,aACAC,qBACAC,aACAC,cACAC,iBACAC,IDVKC,GAAY,GACZC,GAAS,GACTC,GAAQ,GAER1Q,YAAQlV,iBACb6lB,GAAK,CAAC9mB,gBAAiBA,KAGlB6E,GAAQ,CACb,CACCmQ,MAAO,cACP/T,IAAK,cACLW,QAASmkB,GAAQC,YACjBzd,MAAO,CACNC,MAAO,CACNue,MAAO3J,GAAMmD,iRAAiBnD,GAAMe,UAAU0F,YAC9CmD,MAAO5J,GAAMmD,sCAAiB0G,IAC9BC,MAAO9J,GAAMmD,sRAAiBnD,GAAMe,UAAU0F,YAC9CsD,MAAO/J,GAAMmD,+2DAAiB0G,OAG9B,CACFjS,MAAO,OACP/T,IAAK,OACLW,QAASmkB,GAAQE,OACf,CACFjR,MAAO,gBACP/T,IAAK,gBACLW,QAASmkB,GAAQG,eACf,CACFlR,MAAO,kBACP/T,IAAK,kBACLW,QAASmkB,GAAQI,gBACf,CACFnR,MAAO,oBACP/T,IAAK,oBACLW,QAASmkB,GAAQK,mBACf,CACFpR,MAAO,kBACP/T,IAAK,kBACLW,QAASmkB,GAAQM,iBACf,CACFrR,MAAO,WACP/T,IAAK,WACLW,QAASmkB,GAAQO,WACf,CACFtR,MAAO,oBACP/T,IAAK,oBACLW,QAASmkB,GAAQQ,mBACf,CACFvR,MAAO,WACP/T,IAAK,aACLW,QAASmkB,GAAQS,UACjBje,MAAO,CACNC,MAAO,CACN4e,MAAOhK,GAAMmD,0yDAAiBnD,GAAMe,UAAU0F,eAG9C,CAKF7O,MAAO,gBACP/T,IAAK,gBACLW,QAASmkB,GAAQW,8BAId5pB,IAAIO,iDAERspB,GAAU1pB,KAAK,IAAIoqB,GAAM,CACxB7e,MAAO,CACN7F,MAAOqa,GAAcjY,SACrB9D,QACA+T,GAEDrJ,SAAU,MAAEwK,OAGblP,OAAOM,eAAeqf,GAAQ3lB,EAAK,CAClCuG,eACC,MAAO,OACNwN,EACAsS,UAAWT,GAAM5lB,KAAS4lB,GAAM5lB,IC1FhBsH,ED0FkC,IAAI3G,EAAQ2G,GCzFjEA,EAAMC,MAAM7F,MAAQkX,GACbtR,SAFYA,cD2EN1D,2BAqBdhK,ipCEtGMkQ,GAAciS,YAAsBA,GAAsB,SAE1Dva,GAAO,CACZ8kB,KAAM,CACLtF,IAAK,iDACLuF,KAAM,iDACN7kB,MAAO,CACN4kB,KAAMxc,GACN0c,MAAOzK,GAAcjY,KACrB2iB,KAAM1K,GAAcjY,OAGtB0iB,MAAO,CACNxF,IAAK,gEACLuF,KAAM,qDACN7kB,MAAO,CACN4kB,KAAMvK,GAAcjY,KACpB0iB,MAAO1c,GACP2c,KAAM1K,GAAcjY,OAGtB2iB,KAAM,CACLzF,OAAQ/N,SAAe,OAAGA,SAAiB,SAC3CsT,KAAM,8CACN7kB,MAAO,CACN4kB,KAAMvK,GAAcjY,KACpB0iB,MAAOzK,GAAcjY,KACrB2iB,KAAM3c,MAKHoL,YAAQlV,2BACbsH,EAAMC,MAAQ/F,GAAKzC,ICvBpB0F,OAAO+U,SAAWA,GAIlB5f,IAAMgsB,GAAQ,GAERC,YAAQ7lB,iBACbyE,OAAOiiB,SAAS,EAAG,GACnB1U,GAAKjT,IAGAklB,YAAQjkB,wBAAYyE,OAAOwf,KAAKllB,IAEhC4nB,YAAchpB,GACfA,IAAOgb,GAAOpR,MAAM7F,MAAM/D,GAASipB,GAAY9c,UAEnD6O,GAAOpR,MAAM7F,MAAMoX,WAAa,GAChCrU,OAAOwc,iCACNtI,GAAOpR,MAAM7F,MAAMoX,WAAa8N,GAAY5K,UAI9ChK,GAAK,cAAOlE,GACM,MAAbA,EAAImC,KAAc+B,GAAKuD,SAAS,QAC/BvD,GAAKuD,SAASzH,EAAImC,KAAKlU,QAAQ,OAAQ,OAE7CiW,GAAK,kBAEJ,GADA3M,KACKugB,GAAM1M,KAAM,CAChB,iBCtCDtf,IAAMsf,EAAO,IAAI2N,GAAM,CACtBtf,MAAO,CACN7F,MAAOqa,MAIT7C,EAAK3R,MAAM7F,MAAQkX,GAoBnB,MAAO,MAAEM,0BAjBRrd,IAAIse,EAAS1V,OAAOqiB,aAAe3e,SAAS4e,gBAAgBC,WAAa7e,SAAS8e,KAAKD,WAAa,EAChG9M,EAAQzV,OAAOoV,WAAa,GAEhCxU,IACI8U,EAA8B,EAArB1V,OAAOqV,aACnBZ,EAAK3R,MAAM2f,SAAW,WACtBhO,EAAK3R,MAAM4f,IAA2B,EAArB1iB,OAAOqV,YACxBK,EAA8B,EAArB1V,OAAOqV,cAEhBZ,EAAK3R,MAAM2f,SAAW,QACtBhO,EAAK3R,MAAM4f,IAAM,KAEN,IAARjN,IAAaA,EAAQ,KACzBhB,EAAK3R,MAAM6f,YAAc,EAAIjN,EAAS1V,OAAOqV,YAAcI,EAC3D1U,MDe6B6hB,6BAC7BzB,GAAM1M,KAAO,MAACA,eAAMoO,GACpBpO,EAAKxO,SAAW,MAAEmb,QAAM5B,IAEzB,MAA6B2B,GAAM1M,+BACnCM,GAASyN,KAAO/N,EAChBzU,OAAOgF,iBAAiB,SAAU6d,GAClCA,IACAX,GAAW,QACXnhB,MAEDwM,GAAK8D,KAAK,gBAAShI,EAAKoI,GACvBzR,OAAOwQ,oBAAoB,SAAU2Q,GAAM1M,KAAKoO,cAChDpR,MAEDlE,GAAK,oBACJA,GAAKuD,SAAS,wBASfvD,GAAK,sBAEJ,GADA3M,KACKugB,GAAM7M,SAAU,CACpB,iBD9BDnf,IAAMmf,EAAW,IAAIwO,GAAU,CAC9BhgB,MAAO,CACN7F,MAAOqa,IAERrR,SAAU,MAAEwK,MAGb6D,EAASxR,MAAM7F,MAAQkX,GACvB1D,GAAK,CAAC5N,MAAOyR,EAAUha,MAAO,SAgB9B,MAAO,UAACga,0BAbPnf,IAAMugB,EAAS1V,OAAOqiB,aAAe3e,SAAS4e,gBAAgBC,WAAa7e,SAAS8e,KAAKD,WAAa,EAChGE,EAAW/e,SAAS8e,KAAKO,aAAe/iB,OAAOqV,YAAcK,EACnE9U,IACa,EAAT8U,IAA0BA,EAAZ+M,GAAsBA,EAAW,KAA2B,IAApBziB,OAAOoV,YAChEd,EAASxR,MAAM2f,SAAW,WAC1BnO,EAASxR,MAAM4f,IAAShf,SAAS8e,KAAKO,aAAe/iB,OAAOqV,YAAc,UAE1Ef,EAASxR,MAAM2f,SAAW,QAC1BnO,EAASxR,MAAM4f,IAAM,WAEtB3hB,MCSiCiiB,iCACjC7B,GAAM7M,SAAW,UAACA,eAAUuO,GAC5BvO,EAASrO,SAASuZ,KAAOA,GAE1Bxf,OAAOgF,iBAAiB,SAAUmc,GAAM7M,SAASuO,cACjD9N,GAASyN,KAAOrB,GAAM7M,SAASA,SAC/B6M,GAAM7M,SAASuO,eACfX,GAAW,YACXnhB,MAEDwM,GAAK8D,KAAK,oBAAahI,EAAKoI,GAC3BzR,OAAOwQ,oBAAoB,SAAU2Q,GAAM7M,SAASuO,cACpDpR,MAEDlE,GAAK,uBAAgBlE,GAEpB,GADAzI,MACMyI,EAAIoG,OAAOlU,OAAO2lB,IAGvB,OAFKC,GAAM/J,WAAU+J,GAAM/J,SAAWD,MACtCpC,GAASyN,KAAOrB,GAAM/J,SACfrW,IAGR,MAA2BmgB,GAAO7X,EAAIoG,OAAOlU,6BAC7C,IAAK4lB,GAAM3M,MAAO,CACjB,iBHYDrf,IAAMqf,EAAQ,IAAIyO,GAAO,CACxBngB,MAAO,CACN7F,MAAOqa,IAER4L,QAASjC,KAEVzM,EAAM1R,MAAM7F,MAAQkX,GAgBpB,MAAO,OAAEK,0BAbRrf,IAAMugB,EAAS1V,OAAOqiB,aAAe3e,SAAS4e,gBAAgBC,WAAa7e,SAAS8e,KAAKD,WAAa,EAChGE,EAAW/e,SAAS8e,KAAKO,aAAe/iB,OAAOqV,YAAcK,EACnE9U,IACa,EAAT8U,IAA0BA,EAAZ+M,GAAsBA,EAAW,KAA2B,IAApBziB,OAAOoV,YAChEZ,EAAM1R,MAAM2f,SAAW,WACvBjO,EAAM1R,MAAM4f,IAAShf,SAAS8e,KAAKO,aAAe/iB,OAAOqV,YAAc,UAEvEb,EAAM1R,MAAM2f,SAAW,QACvBjO,EAAM1R,MAAM4f,IAAM,WAEnB3hB,MG/B8BoiB,8BAC9BhC,GAAM3M,MAAQ,OAACA,eAAOqO,GAEvB7iB,OAAOgF,iBAAiB,SAAUmc,GAAM3M,MAAMqO,cAC9C1B,GAAM3M,MAAMA,MAAM1R,MAAMwM,MAAQA,EAChC6R,GAAM3M,MAAMA,MAAM4O,QAAUxB,EAE5BT,GAAM3M,MAAMqO,eAEZ9N,GAASyN,KAAOrB,GAAM3M,MAAMA,MAC5B0N,GAAW,UACXnhB,MAEDwM,GAAK8D,KAAK,oBAAahI,EAAKoI,GAC3BzR,OAAOwQ,oBAAoB,SAAU2Q,GAAM3M,MAAMqO,cACjDpR,MAEDlE,GAAK,eACJ3M,IACKugB,GAAM/J,WAAU+J,GAAM/J,SAAWD,MACtCpC,GAASyN,KAAOrB,GAAM/J,SACtB+J,GAAM/J,SAAStU,MAAM7F,MAAMoX,WAAa,GACxCrU,OAAOwc,iCACN2E,GAAM/J,SAAStU,MAAM7F,MAAMoX,WAAagP,GAAc9L,SAEvD2K,KACAnhB,MAEDwM,GAAK8D,KAAK,aAAMhI,EAAKoI,GACpByC,GAAOpR,MAAM7F,MAAMoM,EAAImC,KAAKrU,MAAM,KAAK,IAAM,GAC7Csa,MAGDlE,GAAK,CAACqB,UAAU,IAEhBsF,GAAOjO,SAASmb,KAAOA,GACvBlN,GAAOjO,SAASiP,MAAQA,GAExB/f,IZ7HkB0K,GAAIyjB,GYkIhBC,cACLvjB,OAAOwQ,oBAAoB,OAAQ+S,IACnCrP,GAAOpR,MAAM7F,MAAMoX,WAAa8N,GAAY5K,OAC5CxC,GAASjS,MAAM7F,MAAMumB,MAAQC,GAAUhT,MAGxCzQ,OAAOgF,iBAAiB,OAAQue,IZxId1jB,cY8HjBkV,GAAS1N,OAAO,CAACa,OAAQxE,SAAS8e,KAAM9nB,OAAQ,YAChDwZ,GAAOpR,MAAM7F,MAAMoX,WAAa,sBZ/HF,GACZ,mBAAPxU,KACPuT,GACCkQ,GAAQjQ,GAASxT,IAChBA,KAGFyjB,GAAQnQ,GAAS5b,KAAKsI,IACrBqT,GAAI3b,KAAKsI,KcffG,OAAO0jB,GAAKA"}